

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Model Reference &mdash; FLOW-3D User Manual</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="FLOW-3D User Manual" href="index.html"/>
        <link rel="next" title="Output variables" href="outputs.html"/>
        <link rel="prev" title="Theory" href="theory.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html">
          

          
            
            <img src="_static/FLOW-3D-ICON.png" class="logo" />
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search..." />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Installation and Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation.html#computer-setup">Computer Setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="installation.html#supported-operating-systems">Supported Operating Systems</a></li>
<li class="toctree-l3"><a class="reference internal" href="installation.html#hardware-requirements-and-recommendations">Hardware Requirements and Recommendations</a></li>
<li class="toctree-l3"><a class="reference internal" href="installation.html#virtual-machines">Virtual machines</a></li>
<li class="toctree-l3"><a class="reference internal" href="installation.html#remote-visualization-for-setup-and-post-processing">Remote Visualization for Setup and Post-processing</a></li>
<li class="toctree-l3"><a class="reference internal" href="installation.html#settings">Settings</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#licensing-information">Licensing Information</a><ul>
<li class="toctree-l3"><a class="reference internal" href="installation.html#licensing-requirements">Licensing Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="installation.html#flexnet-license-administration-tools">FlexNet License Administration Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="installation.html#licensing-terminology">Licensing Terminology</a><ul>
<li class="toctree-l4"><a class="reference internal" href="installation.html#tokens">Tokens</a></li>
<li class="toctree-l4"><a class="reference internal" href="installation.html#floating-vs-node-locked-licenses">Floating vs. Node-Locked Licenses</a></li>
<li class="toctree-l4"><a class="reference internal" href="installation.html#license-token-checkout-order">License Token Checkout Order</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#procedure">Procedure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="installation.html#windows-installation">Windows Installation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="installation.html#standard-installation">Standard Installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="installation.html#special-considerations">Special considerations</a><ul>
<li class="toctree-l5"><a class="reference internal" href="installation.html#windows-8-and-8-1">Windows 8 and 8.1</a></li>
<li class="toctree-l5"><a class="reference internal" href="installation.html#remote-desktop">Remote Desktop</a></li>
<li class="toctree-l5"><a class="reference internal" href="installation.html#multi-user-machines">Multi-User Machines</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="installation.html#linux-installation">Linux Installation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="installation.html#id3">Standard Installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="installation.html#linux-license-server-lmgrd">Linux License Server: lmgrd</a><ul>
<li class="toctree-l5"><a class="reference internal" href="installation.html#id4">Installation</a></li>
<li class="toctree-l5"><a class="reference internal" href="installation.html#hasp-usb-dongle-driver">HASP USB dongle driver</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="maintenance.html">Maintenance</a><ul>
<li class="toctree-l2"><a class="reference internal" href="maintenance.html#moving-license-servers">Moving License Servers</a></li>
<li class="toctree-l2"><a class="reference internal" href="maintenance.html#installing-a-new-replacement-license-file">Installing a New/Replacement License File</a><ul>
<li class="toctree-l3"><a class="reference internal" href="maintenance.html#windows">Windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="maintenance.html#linux">Linux</a><ul>
<li class="toctree-l4"><a class="reference internal" href="maintenance.html#license-servers-using-lmadmin">License Servers Using lmadmin</a></li>
<li class="toctree-l4"><a class="reference internal" href="maintenance.html#license-servers-using-lmgrd">License Servers Using lmgrd</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="maintenance.html#troubleshooting-license-problems">Troubleshooting License Problems</a><ul>
<li class="toctree-l3"><a class="reference internal" href="maintenance.html#id2">Windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="maintenance.html#id3">Linux</a><ul>
<li class="toctree-l4"><a class="reference internal" href="maintenance.html#id4">License Servers Using lmadmin</a></li>
<li class="toctree-l4"><a class="reference internal" href="maintenance.html#id5">License Servers Using lmgrd</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Software configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#remote-solving-setup">Remote Solving Setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#terminology-and-requirements">Terminology and Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#remote-servers">Remote Servers</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html#clients">Clients</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#preferences">Preferences</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Using FLOW-3D</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="whats-new.html">What’s New in this Version?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="whats-new.html#new-solver-features-and-improvements">New solver features and  improvements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="whats-new.html#physical-and-numerical-models">Physical and Numerical Models</a><ul>
<li class="toctree-l4"><a class="reference internal" href="whats-new.html#immersed-boundary-method">Immersed boundary method</a></li>
<li class="toctree-l4"><a class="reference internal" href="whats-new.html#two-field-temperature-for-the-two-fluid-model">Two-field temperature for the two-fluid model</a></li>
<li class="toctree-l4"><a class="reference internal" href="whats-new.html#sludge-settling-model">Sludge settling model</a></li>
<li class="toctree-l4"><a class="reference internal" href="whats-new.html#steady-state-accelerator-for-free-surface-flows">Steady-state accelerator for free surface flows</a></li>
<li class="toctree-l4"><a class="reference internal" href="whats-new.html#void-particles">Void particles</a></li>
<li class="toctree-l4"><a class="reference internal" href="whats-new.html#sediment-scour-model">Sediment scour model</a></li>
<li class="toctree-l4"><a class="reference internal" href="whats-new.html#outflow-pressure-boundary-condition">Outflow pressure boundary condition</a></li>
<li class="toctree-l4"><a class="reference internal" href="whats-new.html#moving-particle-sources">Moving particle sources</a></li>
<li class="toctree-l4"><a class="reference internal" href="whats-new.html#variable-center-of-gravity">Variable center of gravity</a></li>
<li class="toctree-l4"><a class="reference internal" href="whats-new.html#air-entrainment-model">Air entrainment model</a></li>
<li class="toctree-l4"><a class="reference internal" href="whats-new.html#tracer-diffusion">Tracer diffusion</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="whats-new.html#model-setup">Model Setup</a><ul>
<li class="toctree-l4"><a class="reference internal" href="whats-new.html#simulation-units">Simulation units</a></li>
<li class="toctree-l4"><a class="reference internal" href="whats-new.html#shallow-water-model">Shallow water model</a><ul>
<li class="toctree-l5"><a class="reference internal" href="whats-new.html#manning-s-roughness-in-shallow-water-model">Manning’s roughness in shallow water model</a></li>
<li class="toctree-l5"><a class="reference internal" href="whats-new.html#mesh-generation">Mesh generation</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="whats-new.html#component-transformations">Component transformations</a></li>
<li class="toctree-l4"><a class="reference internal" href="whats-new.html#changing-the-number-of-threads-at-runtime">Changing the number of threads at runtime</a></li>
<li class="toctree-l4"><a class="reference internal" href="whats-new.html#probe-controlled-heat-sources">Probe-controlled heat sources</a></li>
<li class="toctree-l4"><a class="reference internal" href="whats-new.html#time-dependent-temperature-at-sources">Time-dependent temperature at sources</a></li>
<li class="toctree-l4"><a class="reference internal" href="whats-new.html#emissivity-coefficients">Emissivity coefficients</a></li>
<li class="toctree-l4"><a class="reference internal" href="whats-new.html#reference-temperature-input">Reference temperature input</a></li>
<li class="toctree-l4"><a class="reference internal" href="whats-new.html#temperature-dependent-electric-conductivity">Temperature-dependent electric conductivity</a></li>
<li class="toctree-l4"><a class="reference internal" href="whats-new.html#maximum-number-of-electric-charge-field-iterations">Maximum number of electric charge-field iterations</a></li>
<li class="toctree-l4"><a class="reference internal" href="whats-new.html#contact-line-pinning">Contact line pinning</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="whats-new.html#output">Output</a></li>
<li class="toctree-l3"><a class="reference internal" href="whats-new.html#new-customizable-source-routines">New Customizable Source Routines</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="whats-new.html#redesigned-user-interface">Redesigned user interface</a><ul>
<li class="toctree-l3"><a class="reference internal" href="whats-new.html#setup-dock-widgets">Setup dock widgets</a></li>
<li class="toctree-l3"><a class="reference internal" href="whats-new.html#new-icons-setup">New icons - Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="whats-new.html#new-icons-physics">New icons - Physics</a></li>
<li class="toctree-l3"><a class="reference internal" href="whats-new.html#rss-feed">RSS Feed</a></li>
<li class="toctree-l3"><a class="reference internal" href="whats-new.html#configurable-simulation-monitor">Configurable Simulation Monitor</a></li>
<li class="toctree-l3"><a class="reference internal" href="whats-new.html#conforming-mesh-visualization">Conforming Mesh Visualization</a></li>
<li class="toctree-l3"><a class="reference internal" href="whats-new.html#large-raster-and-stl-data">Large raster and STL data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="whats-new.html#flowsight">FlowSight</a><ul>
<li class="toctree-l3"><a class="reference internal" href="whats-new.html#spline-clips">Spline clips</a></li>
<li class="toctree-l3"><a class="reference internal" href="whats-new.html#directional-scaling-of-views">Directional Scaling of Views</a></li>
<li class="toctree-l3"><a class="reference internal" href="whats-new.html#history-data-annotations">History Data Annotations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial / Quick Start</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#philosophy-for-using-cfd">Philosophy for Using CFD</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#important-files">Important files</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#simulation-manager">Simulation Manager</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#workspaces">Workspaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#creating-a-new-workspace">Creating a new workspace</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#closing-a-workspace">Closing a workspace</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#opening-an-existing-workspace">Opening an existing workspace</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#working-with-simulations-in-a-workspace">Working with simulations in a workspace</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorial.html#add-an-example">Add an example</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorial.html#removing-a-simulation-from-a-workspace">Removing a simulation from a workspace</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorial.html#delete-a-simulation-from-all-workspaces-and-disk">Delete a simulation from all workspaces and disk</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorial.html#adding-an-existing-simulation-to-a-workspace">Adding an existing simulation to a workspace</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorial.html#adding-a-new-simulation-to-a-workspace">Adding a new simulation to a workspace</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorial.html#other-options">Other options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#preprocessing-and-running-simulations">Preprocessing and running simulations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorial.html#preprocessing-a-simulation">Preprocessing a simulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorial.html#running-a-simulation">Running a simulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorial.html#running-all-simulations-in-a-workspace">Running all simulations in a workspace</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#the-queue">The queue</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#finding-files-in-the-file-system">Finding files in the file system</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#model-setup">Model Setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#navigation">Navigation</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#controls">Controls</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#global">Global</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#physics">Physics</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#fluids">Fluids</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#geometry">Geometry</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorial.html#component-properties">Component properties</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#meshing">Meshing</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#boundary-conditions">Boundary conditions</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#initial-conditions">Initial conditions</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#output">Output</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#numerics">Numerics</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#checklist-for-general-simulation-setups">Checklist for General Simulation Setups</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorial.html#before-starting">Before starting</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorial.html#model-setup-general">Model setup: General</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorial.html#model-setup-physics">Model setup: Physics</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorial.html#model-setup-fluids">Model setup: Fluids</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorial.html#model-setup-meshing-geometry">Model setup: Meshing &amp; Geometry</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorial.html#model-setup-output">Model setup: Output</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorial.html#model-setup-numerics">Model setup: Numerics</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#post-processing-in-flow-3d">Post-processing in FLOW-3D</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#existing-plots">Existing Plots</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#custom-plots">Custom Plots</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorial.html#d-plots">3-D Plots</a><ul>
<li class="toctree-l5"><a class="reference internal" href="tutorial.html#show-symmetric-flow">Show Symmetric Flow</a></li>
<li class="toctree-l5"><a class="reference internal" href="tutorial.html#create-a-3-d-animation">Create a 3-D Animation</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="tutorial.html#dgraphics">2-D Plots</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorial.html#id2">1-D Plots</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorial.html#probe-plots">Probe Plots</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorial.html#text-output">Text Output</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="sim-manager.html">Simulation Manager</a><ul>
<li class="toctree-l2"><a class="reference internal" href="sim-manager.html#portfolio">Portfolio</a></li>
<li class="toctree-l2"><a class="reference internal" href="sim-manager.html#queue">Queue</a></li>
<li class="toctree-l2"><a class="reference internal" href="sim-manager.html#run-time-plots">Run-time plots</a><ul>
<li class="toctree-l3"><a class="reference internal" href="sim-manager.html#graphing-area">Graphing area</a></li>
<li class="toctree-l3"><a class="reference internal" href="sim-manager.html#plot-controls">Plot controls</a><ul>
<li class="toctree-l4"><a class="reference internal" href="sim-manager.html#legend-style">Legend/Style</a></li>
<li class="toctree-l4"><a class="reference internal" href="sim-manager.html#variables">Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="sim-manager.html#plot-database">Plot Database</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="sim-manager.html#solver-messages-window">Solver Messages Window</a></li>
<li class="toctree-l2"><a class="reference internal" href="sim-manager.html#menus">Menus</a></li>
<li class="toctree-l2"><a class="reference internal" href="sim-manager.html#supporting-functions">Supporting functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="model-setup.html">Model Setup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="model-setup.html#layout-controls-and-general-behavior">Layout, controls, and general behavior</a></li>
<li class="toctree-l2"><a class="reference internal" href="model-setup.html#global">Global</a><ul>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#units">Units</a></li>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#pressure-type">Pressure Type</a></li>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#start-and-finish-conditions">Start and Finish Conditions</a></li>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#restart">Restart</a><ul>
<li class="toctree-l4"><a class="reference internal" href="model-setup.html#creating-a-restart-simulation">Creating a Restart Simulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="model-setup.html#restart-options">Restart options</a><ul>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#general">General</a></li>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#events">Events</a></li>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#time">Time</a></li>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#fluid-initialization">Fluid Initialization</a></li>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#turbulence">Turbulence</a></li>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#scalar-transport">Scalar Transport</a></li>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#particles">Particles</a></li>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#thermal-options-restart-data">Thermal Options Restart Data</a></li>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#thermal-options-initialization">Thermal Options Initialization</a></li>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#thermal-options-solidification-data">Thermal Options Solidification Data</a></li>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#related-options-for-restart-simulations">Related Options for Restart Simulations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#version-options">Version Options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="model-setup.html#physics">Physics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#interface-tracking-number-of-fluids-and-flow-mode">Interface Tracking, Number of Fluids, and Flow Mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#physical-models">Physical models</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="model-setup.html#fluids">Fluids</a></li>
<li class="toctree-l2"><a class="reference internal" href="model-setup.html#geometry">Geometry</a><ul>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#favor">FAVOR</a><ul>
<li class="toctree-l4"><a class="reference internal" href="model-setup.html#closing-gaps-in-geometry">Closing Gaps in Geometry</a></li>
<li class="toctree-l4"><a class="reference internal" href="model-setup.html#converting-skins">Converting skins</a></li>
<li class="toctree-l4"><a class="reference internal" href="model-setup.html#reviewing-the-favorized-geometry-and-mesh">Reviewing the FAVORized Geometry and Mesh</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#creating-geometry-objects">Creating Geometry Objects</a><ul>
<li class="toctree-l4"><a class="reference internal" href="model-setup.html#creating-subcomponents">Creating Subcomponents</a><ul>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#primitives">Primitives</a></li>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#stereolithography-stl-geometry-file-s">Stereolithography (STL) Geometry File(s)</a></li>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#raster-file-s">Raster File(s)</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="model-setup.html#creating-components">Creating Components</a><ul>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#general-solid">General (Solid)</a></li>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#lost-foam">Lost Foam</a></li>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#fan-impeller">Fan/Impeller</a></li>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#packed-sediment">Packed Sediment</a></li>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#phantom">Phantom</a></li>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#domain-removing">Domain Removing</a></li>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#flow-vent">Flow Vent</a></li>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#fea-domain-removing">FEA Domain Removing</a></li>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#surface-roughness">Surface roughness</a><ul>
<li class="toctree-l6"><a class="reference internal" href="model-setup.html#surface-roughness-legend-file">Surface roughness legend file</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#wave-absorbing">Wave absorbing</a></li>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#meshing">Meshing</a></li>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#porous">Porous</a></li>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#core-gas">Core Gas</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="model-setup.html#component-and-subcomponent-properties">Component and Subcomponent Properties</a></li>
<li class="toctree-l4"><a class="reference internal" href="model-setup.html#creating-a-solidified-fluid-region">Creating a Solidified Fluid Region</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#modifying-geometry-objects">Modifying Geometry Objects</a><ul>
<li class="toctree-l4"><a class="reference internal" href="model-setup.html#modifying-components">Modifying Components</a></li>
<li class="toctree-l4"><a class="reference internal" href="model-setup.html#modifying-subcomponents">Modifying Subcomponents</a><ul>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#manual-edits">Manual edits</a></li>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#interactive-edits">Interactive edits</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#constructing-geometry-using-the-text-editor">Constructing Geometry Using the Text Editor</a><ul>
<li class="toctree-l4"><a class="reference internal" href="model-setup.html#generating-primitives-and-quadratic-functions">Generating Primitives and Quadratic Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="model-setup.html#importing-stl-files">Importing STL Files</a></li>
<li class="toctree-l4"><a class="reference internal" href="model-setup.html#copying-components-with-the-text-editor">Copying Components with the Text Editor</a></li>
<li class="toctree-l4"><a class="reference internal" href="model-setup.html#virtual-components">Virtual Components</a></li>
<li class="toctree-l4"><a class="reference internal" href="model-setup.html#zero-blockage-components">Zero Blockage Components</a></li>
<li class="toctree-l4"><a class="reference internal" href="model-setup.html#component-properties">Component Properties</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="model-setup.html#meshingms">Meshing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#coordinate-system">Coordinate System</a></li>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#terminology">Terminology</a></li>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#mesh-types">Mesh Types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="model-setup.html#basic-meshes">Basic Meshes</a></li>
<li class="toctree-l4"><a class="reference internal" href="model-setup.html#reduced-dimensionality-1d-and-2d-meshes">Reduced Dimensionality (1D and 2D) Meshes</a></li>
<li class="toctree-l4"><a class="reference internal" href="model-setup.html#multi-block-meshes">Multi-Block Meshes</a></li>
<li class="toctree-l4"><a class="reference internal" href="model-setup.html#conforming-meshes">Conforming Meshes</a><ul>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#conform-to-open-volume">Conform to open volume</a></li>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#conform-to-blocked-volume">Conform to blocked volume</a></li>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#conform-to-meshing-component">Conform to meshing component</a></li>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#conform-to-cavity">Conform to cavity</a></li>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#conform-to-cooling-channel">Conform to cooling channel</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="model-setup.html#shallow-water-meshes">Shallow water meshes</a></li>
<li class="toctree-l4"><a class="reference internal" href="model-setup.html#finite-element-meshes">Finite Element Meshes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#procedures">Procedures</a><ul>
<li class="toctree-l4"><a class="reference internal" href="model-setup.html#navigating-the-mesh-widget">Navigating the mesh widget</a></li>
<li class="toctree-l4"><a class="reference internal" href="model-setup.html#defining-and-modifying-mesh-blocks">Defining and Modifying Mesh Blocks</a><ul>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#coordinates-procedure">Coordinate system</a></li>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#adding-mesh-blocks">Adding mesh blocks</a></li>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#multi-block-meshing">Multi-block meshing</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="model-setup.html#mesh-building-and-modification-in-the-text-editor">Mesh Building and Modification in the Text Editor</a></li>
<li class="toctree-l4"><a class="reference internal" href="model-setup.html#meshing-tips-and-guidelines">Meshing Tips and Guidelines</a><ul>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#avoiding-errors-with-cartesian-meshes">Avoiding Errors with Cartesian Meshes</a></li>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#avoiding-errors-with-cylindrical-meshes">Avoiding Errors with Cylindrical Meshes</a></li>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#avoiding-errors-with-multi-block-meshes">Avoiding Errors with Multi-block Meshes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="model-setup.html#mesh-boundary-conditions">Mesh Boundary Conditions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#boundary-condition-types">Boundary condition types</a></li>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#procedure">Procedure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="model-setup.html#transferring-boundary-conditions">Transferring boundary conditions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#boundary-values">Boundary values</a><ul>
<li class="toctree-l4"><a class="reference internal" href="model-setup.html#general-comments">General comments</a></li>
<li class="toctree-l4"><a class="reference internal" href="model-setup.html#fluid-distribution">Fluid distribution</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="model-setup.html#initial-conditions">Initial Conditions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#index-211">Global</a></li>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#regions">Regions</a></li>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#pointers">Pointers</a></li>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#components">Components</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="model-setup.html#special-objects">Special Objects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#particle-blocks-and-sources">Particle blocks and sources</a></li>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#mass-momentum-sources">Mass-momentum sources</a><ul>
<li class="toctree-l4"><a class="reference internal" href="model-setup.html#types-and-placement">Types and placement</a><ul>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#planar-sources">Planar sources</a></li>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#spray-bars">Spray bars</a></li>
<li class="toctree-l5"><a class="reference internal" href="model-setup.html#stl-baffle-based-sources">STL baffle-based sources</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="model-setup.html#flow-rate-and-mass-momentum-source-properties">Flow rate and mass momentum source properties</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#baffles">Baffles</a><ul>
<li class="toctree-l4"><a class="reference internal" href="model-setup.html#manual-definition">Manual definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="model-setup.html#interactive-definition">Interactive definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="model-setup.html#baffle-properties">Baffle properties</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#valves">Valves</a></li>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#springs-ropes-and-mooring-lines">Springs, Ropes, and Mooring Lines</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="model-setup.html#measurement-devices">Measurement devices</a><ul>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#history-probes">History Probes</a></li>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#flux-surfaces">Flux surfaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#sampling-volumes">Sampling Volumes</a></li>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#global-conditions-for-active-simulation-control">Global conditions for active simulation control</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="model-setup.html#output">Output</a><ul>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#basis-for-output">Basis for output</a></li>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#spatial-data">Spatial Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#history-data">History Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#solidification-data">Solidification Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#diagnostic-data">Diagnostic data</a></li>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#time-dependent-output">Time-dependent output</a></li>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#batch-mode">Batch Mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#mentor-options">Mentor Options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="model-setup.html#numerical-options">Numerical Options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#volume-of-fluid-advection">Volume-of-fluid advection</a></li>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#momentum-advection">Momentum advection</a></li>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#time-step-controls">Time-step controls</a></li>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#pressure-solver-options">Pressure solver options</a></li>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#fsi-tse-solver-options">FSI/TSE solver options</a></li>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#viscous-stress-solver-options">Viscous stress solver options</a></li>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#other-explicit-implicit-solver-options">Other explicit/implicit solver options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="model-setup.html#materials-database">Materials Database</a><ul>
<li class="toctree-l3"><a class="reference internal" href="model-setup.html#setting-flags-to-automatically-load-temperature-dependent-data">Setting Flags to Automatically Load Temperature Dependent Data</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="simulate.html">Computing Results</a><ul>
<li class="toctree-l2"><a class="reference internal" href="simulate.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="simulate.html#simulation-pre-check">Simulation Pre-check</a><ul>
<li class="toctree-l3"><a class="reference internal" href="simulate.html#tips-warnings-and-fatal-errors">Tips, Warnings, and Fatal Errors</a></li>
<li class="toctree-l3"><a class="reference internal" href="simulate.html#missing-and-out-of-range-inputs">Missing and Out-of-range Inputs</a></li>
<li class="toctree-l3"><a class="reference internal" href="simulate.html#material-properties">Material Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="simulate.html#mesh-quality">Mesh Quality</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="simulate.html#preprocessing">Preprocessing</a></li>
<li class="toctree-l2"><a class="reference internal" href="simulate.html#running-the-solver">Running the Solver</a><ul>
<li class="toctree-l3"><a class="reference internal" href="simulate.html#running-a-simulation">Running a Simulation</a></li>
<li class="toctree-l3"><a class="reference internal" href="simulate.html#monitoring-simulation-progress">Monitoring Simulation Progress</a></li>
<li class="toctree-l3"><a class="reference internal" href="simulate.html#making-runtime-changes">Making Runtime Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="simulate.html#command-line-operations">Command Line Operations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="simulate.html#runscripts">Runscripts</a></li>
<li class="toctree-l3"><a class="reference internal" href="simulate.html#using-the-runscripts">Using the Runscripts</a></li>
<li class="toctree-l3"><a class="reference internal" href="simulate.html#using-the-monitoring-program-peek">Using the Monitoring Program (PEEK)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="postprocessing.html">Post-processing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="postprocessing.html#post-processing-in-flowsight">Post-processing in FlowSight</a><ul>
<li class="toctree-l3"><a class="reference internal" href="postprocessing.html#batch-post-processing">Batch post-processing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="postprocessing.html#active-batch-tab">Active Batch Tab</a><ul>
<li class="toctree-l5"><a class="reference internal" href="postprocessing.html#creating-graphic-results">Creating Graphic Results</a><ul>
<li class="toctree-l6"><a class="reference internal" href="postprocessing.html#d">3D</a></li>
<li class="toctree-l6"><a class="reference internal" href="postprocessing.html#d-contour">2D Contour</a></li>
<li class="toctree-l6"><a class="reference internal" href="postprocessing.html#history-plot">History Plot</a></li>
<li class="toctree-l6"><a class="reference internal" href="postprocessing.html#text-result">Text Result</a></li>
<li class="toctree-l6"><a class="reference internal" href="postprocessing.html#context-file">Context File</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="postprocessing.html#creating-and-appending-to-templates">Creating and Appending to Templates</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="postprocessing.html#load-from-user-template-tab">Load from User Template Tab</a></li>
<li class="toctree-l4"><a class="reference internal" href="postprocessing.html#running-batch-processes">Running Batch Processes</a></li>
<li class="toctree-l4"><a class="reference internal" href="postprocessing.html#report-generation">Report Generation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="postprocessing.html#post-processing-in-flow-3d">Post-processing in FLOW-3D</a><ul>
<li class="toctree-l3"><a class="reference internal" href="postprocessing.html#existing-plots">Existing Plots</a></li>
<li class="toctree-l3"><a class="reference internal" href="postprocessing.html#generating-custom-plots">Generating Custom Plots</a><ul>
<li class="toctree-l4"><a class="reference internal" href="postprocessing.html#probe-data-at-a-point-vs-time">Probe: Data at a Point vs. Time</a></li>
<li class="toctree-l4"><a class="reference internal" href="postprocessing.html#d-data-along-a-line-vs-time">1-D:  Data Along a Line vs. Time</a></li>
<li class="toctree-l4"><a class="reference internal" href="postprocessing.html#d-data-in-a-plane-vs-time">2-D:  Data in a Plane vs. Time</a></li>
<li class="toctree-l4"><a class="reference internal" href="postprocessing.html#d-data-on-a-surface-vs-time">3-D:  Data on a Surface vs. Time</a></li>
<li class="toctree-l4"><a class="reference internal" href="postprocessing.html#text-spatial-data-output-in-ascii-format-vs-time">Text:  Spatial Data Output in ASCII Format vs. Time</a></li>
<li class="toctree-l4"><a class="reference internal" href="postprocessing.html#neutral-file-spatial-data-output-at-user-defined-coordinates-vs-time">Neutral File:  Spatial Data Output at User-defined Coordinates vs. Time</a><ul>
<li class="toctree-l5"><a class="reference internal" href="postprocessing.html#the-coordinate-file-format">The Coordinate File Format</a></li>
<li class="toctree-l5"><a class="reference internal" href="postprocessing.html#the-neutral-file-format">The Neutral File Format</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="postprocessing.html#fsi-tse-structural-data-on-surfaces-vs-time">FSI / TSE:  Structural Data on Surfaces vs. Time</a></li>
<li class="toctree-l4"><a class="reference internal" href="postprocessing.html#customizing-plots-using-the-flsinp-file">Customizing Plots Using the FLSINP File</a><ul>
<li class="toctree-l5"><a class="reference internal" href="postprocessing.html#data-transformations">Data Transformations</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="postprocessing.html#exporting-plot3d-function-file-data">Exporting PLOT3D Function File Data</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="postprocessing.html#viewing-and-manipulating-plots">Viewing and Manipulating Plots</a><ul>
<li class="toctree-l4"><a class="reference internal" href="postprocessing.html#probe-1-d-2-d-and-existing-plot-display">Probe, 1-D, 2-D, and Existing Plot Display</a></li>
<li class="toctree-l4"><a class="reference internal" href="postprocessing.html#d-display">3-D Display</a></li>
<li class="toctree-l4"><a class="reference internal" href="postprocessing.html#fsi-tse-display">FSI / TSE Display</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="postprocessing.html#combining-multiple-results-files">Combining Multiple Results Files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="postprocessing.html#combine-2-d-plots">Combine 2-D plots</a></li>
<li class="toctree-l4"><a class="reference internal" href="postprocessing.html#combine-3-d-plots">Combine 3-D plots</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="postprocessing.html#plot-request-variables">Plot Request Variables</a><ul>
<li class="toctree-l4"><a class="reference internal" href="postprocessing.html#namelist-contrl">Namelist CONTRL</a></li>
<li class="toctree-l4"><a class="reference internal" href="postprocessing.html#namelist-pltreq-variables-advfrm-bval2">Namelist PLTREQ Variables ADVFRM - BVAL2</a></li>
<li class="toctree-l4"><a class="reference internal" href="postprocessing.html#namelist-pltreq-variables-clrtps-drwfrm">Namelist PLTREQ Variables CLRTPS - DRWFRM</a></li>
<li class="toctree-l4"><a class="reference internal" href="postprocessing.html#namelist-pltreq-variables-ibinry-ifrhid">Namelist PLTREQ Variables IBINRY - IFRHID</a></li>
<li class="toctree-l4"><a class="reference internal" href="postprocessing.html#namelist-pltreq-variables-ihide-itmgrp">Namelist PLTREQ Variables IHIDE - ITMGRP</a></li>
<li class="toctree-l4"><a class="reference internal" href="postprocessing.html#namelist-pltreq-variables-itrans-and-itransc">Namelist PLTREQ Variables ITRANS and ITRANSC</a></li>
<li class="toctree-l4"><a class="reference internal" href="postprocessing.html#namelist-pltreq-variables-ivarn-ivrnp5">Namelist PLTREQ Variables IVARN - IVRNP5</a></li>
<li class="toctree-l4"><a class="reference internal" href="postprocessing.html#namelist-pltreq-variables-ix-jmin">Namelist PLTREQ Variables IX - JMIN</a></li>
<li class="toctree-l4"><a class="reference internal" href="postprocessing.html#namelist-pltreq-variable-kopplt">Namelist PLTREQ Variable KOPPLT</a></li>
<li class="toctree-l4"><a class="reference internal" href="postprocessing.html#namelist-pltreq-variables-lbaxis-nylab">Namelist PLTREQ Variables LBAXIS - NYLAB</a></li>
<li class="toctree-l4"><a class="reference internal" href="postprocessing.html#namelist-pltreq-variables-omode-pvnam5">Namelist PLTREQ Variables OMODE - PVNAM5</a></li>
<li class="toctree-l4"><a class="reference internal" href="postprocessing.html#namelist-pltreq-variables-qmn-tmin">Namelist PLTREQ Variables QMN - TMIN</a></li>
<li class="toctree-l4"><a class="reference internal" href="postprocessing.html#namelist-pltreq-variables-varmin-vscale">Namelist PLTREQ Variables VARMIN - VSCALE</a></li>
<li class="toctree-l4"><a class="reference internal" href="postprocessing.html#namelist-pltreq-variables-xshrnk-ymag">Namelist PLTREQ Variables XSHRNK - YMAG</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="postprocessing.html#command-line-post-processing-pltfsi-and-flowplot">Command Line Post-processing: PLTFSI and FLOWPLOT</a><ul>
<li class="toctree-l3"><a class="reference internal" href="postprocessing.html#modifying-plot-requests">Modifying Plot Requests</a></li>
<li class="toctree-l3"><a class="reference internal" href="postprocessing.html#running-pltfsi-and-flowplot">Running PLTFSI and FLOWPLOT</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#preprocessor-diagnostic-files">Preprocessor Diagnostic Files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="troubleshooting.html#preprocessor-summary-file">Preprocessor Summary File</a></li>
<li class="toctree-l3"><a class="reference internal" href="troubleshooting.html#preprocessor-errors-file">Preprocessor Errors File</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#solver-diagnostic-files">Solver Diagnostic Files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="troubleshooting.html#solver-messages-file">Solver Messages File</a></li>
<li class="toctree-l3"><a class="reference internal" href="troubleshooting.html#solver-summary-file">Solver Summary File</a></li>
<li class="toctree-l3"><a class="reference internal" href="troubleshooting.html#solver-errors-file">Solver Errors File</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#preprocessor-warnings-and-errors">Preprocessor Warnings and Errors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="troubleshooting.html#message-open-area-mismatch-at-inter-block-boundaries-of-all-blocks-as-of-total-open-area-at-these-mesh-boundaries-x">Message: “Open area mismatch at inter-block boundaries of all blocks as % of total open area at these mesh boundaries = X”</a></li>
<li class="toctree-l3"><a class="reference internal" href="troubleshooting.html#message-open-areas-between-blocks-b1-b2-differ-by-more-than-5-area-diff-x-percent-try-improving-resolution-or-reduce-the-number-of-blocks">Message: “Open areas between blocks B1, B2 differ by more than 5% area, diff = X percent. Try improving resolution or reduce the number of blocks.”</a></li>
<li class="toctree-l3"><a class="reference internal" href="troubleshooting.html#warning-no-open-area-at-b-boundary">Warning: “No open area at B boundary”</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#solver-warnings-and-errors">Solver Warnings and Errors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="troubleshooting.html#message-convective-flux-exceeded-stability-limit">Message: “Convective flux exceeded stability limit”</a></li>
<li class="toctree-l3"><a class="reference internal" href="troubleshooting.html#message-excessive-convection-failures-calculation-terminated">Message: “Excessive convection failures - calculation terminated”</a></li>
<li class="toctree-l3"><a class="reference internal" href="troubleshooting.html#message-pressure-iteration-did-not-converge-in-itmax-imax-iterations">Message: “Pressure iteration did not converge in ITMAX = IMAX iterations”</a></li>
<li class="toctree-l3"><a class="reference internal" href="troubleshooting.html#message-excessive-pressure-iteration-failures-calculation-terminated">Message: “Excessive pressure iteration failures - calculation terminated”</a></li>
<li class="toctree-l3"><a class="reference internal" href="troubleshooting.html#message-pressure-iteration-diverging-restarting-cycle-with-smaller-omega-and-time-step-size">Message: “Pressure iteration diverging - restarting cycle with smaller omega and time-step size”</a></li>
<li class="toctree-l3"><a class="reference internal" href="troubleshooting.html#message-excessive-diverging-pressure-solver-failures-calculation-terminated">Message: “Excessive diverging pressure solver failures - calculation terminated”</a></li>
<li class="toctree-l3"><a class="reference internal" href="troubleshooting.html#message-time-step-size-dtmin">Message: “Time-step size &lt; dtmin”</a></li>
<li class="toctree-l3"><a class="reference internal" href="troubleshooting.html#message-elements-not-viable-due-to-large-deformations-ensure-material-properties-are-correct">Message: “Elements not viable due to large deformations. Ensure material properties are correct.”</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#the-mentor">The Mentor</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#stability-codes">Stability Codes</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Reference Information</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="theory.html">Theory</a><ul>
<li class="toctree-l2"><a class="reference internal" href="theory.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="theory.html#equations-of-motion">Equations of Motion</a><ul>
<li class="toctree-l3"><a class="reference internal" href="theory.html#coordinate-systems">Coordinate Systems</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#mass-continuity-equation-and-its-variations">Mass Continuity Equation and Its Variations</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#momentum-equations">Momentum Equations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="theory.html#wall-shear-stress">Wall-Shear Stress</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#viscosity-evaluation">Viscosity Evaluation</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#baffle-flow-losses">Baffle Flow Losses</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#non-inertial-reference-frame-motion">Non-Inertial Reference Frame Motion</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#fluid-interfaces-and-free-surfaces">Fluid Interfaces and Free-Surfaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#fluid-energy-equations">Fluid Energy Equations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="theory.html#heat-of-transformation">Heat of Transformation</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#macro-segregation-model">Macro-Segregation Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#thermal-diffusion-and-sources">Thermal Diffusion and Sources</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#structure-temperature-equation">Structure Temperature Equation</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#equation-of-state">Equation-of-State</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#general-scalar-transport">General Scalar Transport</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="theory.html#auxiliary-models">Auxiliary Models</a><ul>
<li class="toctree-l3"><a class="reference internal" href="theory.html#bubble-and-void-region-models">Bubble and Void Region Models</a><ul>
<li class="toctree-l4"><a class="reference internal" href="theory.html#constant-pressure-void-regions">Constant Pressure Void Regions</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#adiabatic-bubble-model">Adiabatic Bubble Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#homogeneous-thermal-bubble-model">Homogeneous (Thermal) Bubble Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#liquid-vapor-phase-change">Liquid-Vapor Phase Change</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#cavitating-void-regions">Cavitating Void Regions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#vaporization-residue">Vaporization Residue</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#buoyant-flow-model">Buoyant Flow Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#core-gas-generation-and-flow-in-sand-cores-and-molds">Core Gas Generation and Flow in Sand Cores and Molds</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#permeable-mold-model">Permeable Mold Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#defect-tracking">Defect Tracking</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#drift-flux-model">Drift-Flux Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#electro-mechanics">Electro-mechanics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="theory.html#electric-field-model">Electric Field Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#electro-osmosis">Electro-osmosis</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#particle-movement-and-fluid-flow-due-to-electric-field">Particle Movement and Fluid Flow Due to Electric Field</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#high-concentration-granular-media-model">High Concentration Granular Media Model</a><ul>
<li class="toctree-l4"><a class="reference internal" href="theory.html#sand-core-blowing-model">Sand Core Blowing Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#slurry-model">Slurry Model</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#elasto-visco-plastic-and-viscoelastic-model">Elasto-visco-plastic and Viscoelastic Model</a><ul>
<li class="toctree-l4"><a class="reference internal" href="theory.html#model-formulation">Model Formulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#elasto-viscoplastic-model">Elasto-viscoplastic model</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#viscoelastic-models">Viscoelastic models</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#solution-method">Solution Method</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#computation-of-parameters">Computation of parameters</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#elastic-membrane-and-elastic-wall-model">Elastic Membrane and Elastic Wall Model</a><ul>
<li class="toctree-l4"><a class="reference internal" href="theory.html#elastic-membrane">Elastic Membrane</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#elastic-wall">Elastic Wall</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#model-limitations">Model Limitations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#fan-and-impeller-model">Fan and Impeller Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#fluid-structure-interaction-fsi-and-thermal-stress-evolution-tse-models">Fluid-Structure Interaction (FSI) and Thermal Stress Evolution (TSE) Models</a><ul>
<li class="toctree-l4"><a class="reference internal" href="theory.html#equation-of-motion-and-stress">Equation of Motion and Stress</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#finite-element-method-fem">Finite Element Method (FEM)</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#boundary-conditions-on-solid-regions">Boundary Conditions on Solid Regions</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#solidified-non-solidified-coupling">Solidified/non-Solidified Coupling</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#yielding-model">Yielding model</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#general-moving-objects-model">General Moving Objects Model</a><ul>
<li class="toctree-l4"><a class="reference internal" href="theory.html#equations-of-motion-for-rigid-body">Equations of Motion for Rigid Body</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#source-terms-in-conservation-equations">Source Terms in Conservation Equations</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#dynamic-equations-for-rigid-body-collision">Dynamic Equations for Rigid-Body Collision</a><ul>
<li class="toctree-l5"><a class="reference internal" href="theory.html#coulomb-s-law-of-friction">Coulomb’s Law of Friction</a></li>
<li class="toctree-l5"><a class="reference internal" href="theory.html#stronge-s-energetic-coefficient-of-restitution">Stronge’s Energetic Coefficient of Restitution</a></li>
<li class="toctree-l5"><a class="reference internal" href="theory.html#dynamic-equations-in-general-form">Dynamic Equations in General Form</a></li>
<li class="toctree-l5"><a class="reference internal" href="theory.html#dynamic-equations-in-terms-of-normal-impulse">Dynamic Equations in Terms of Normal Impulse</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#mooring-line-model">Mooring Line Model</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#dissolving-solid-solute-model">Dissolving Solid Solute Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#combustible-object-model">Combustible Object Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#lost-foam-model">Lost Foam Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#porous-media-models">Porous Media Models</a><ul>
<li class="toctree-l4"><a class="reference internal" href="theory.html#governing-equations-in-porous-media">Governing Equations in Porous Media</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#saturated-porous-media">Saturated porous media</a><ul>
<li class="toctree-l5"><a class="reference internal" href="theory.html#resistance-to-flow-drag">Resistance to flow (drag)</a><ul>
<li class="toctree-l6"><a class="reference internal" href="theory.html#darcian-saturated-drag">Darcian Saturated Drag</a></li>
<li class="toctree-l6"><a class="reference internal" href="theory.html#forchheimer-saturated-drag">Forchheimer Saturated Drag</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="theory.html#capillary-pressure">Capillary Pressure</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#unsaturated-porous-media">Unsaturated Porous Media</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#drag-calculations-in-unsaturated-flows">Drag Calculations in Unsaturated Flows</a><ul>
<li class="toctree-l5"><a class="reference internal" href="theory.html#power-law-unsaturated-drag-model">Power Law Unsaturated Drag Model</a></li>
<li class="toctree-l5"><a class="reference internal" href="theory.html#exponential-unsaturated-drag-model">Exponential Unsaturated Drag Model</a></li>
<li class="toctree-l5"><a class="reference internal" href="theory.html#mualem-s-unsaturated-drag-model-for-relative-permeability">Mualem’s Unsaturated Drag Model for Relative Permeability</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#capillary-pressure-in-unsaturated-flows">Capillary Pressure in Unsaturated Flows</a><ul>
<li class="toctree-l5"><a class="reference internal" href="theory.html#simplified-unsaturated-capillary-pressure-model">Simplified Unsaturated Capillary Pressure Model</a><ul>
<li class="toctree-l6"><a class="reference internal" href="theory.html#transition-between-draining-and-filling-curves">Transition between Draining and Filling Curves</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="theory.html#van-genuchten-unsaturated-capillary-pressure-model">Van Genuchten Unsaturated Capillary Pressure Model</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#rigid-body-dynamics-for-non-inertial-reference-frame">Rigid Body Dynamics for Non-Inertial Reference Frame</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#sediment-scour-model">Sediment Scour Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#shallow-water-model">Shallow Water Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#sludge-settling-model">Sludge Settling Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#solidification-model">Solidification Model</a><ul>
<li class="toctree-l4"><a class="reference internal" href="theory.html#solidification-shrinkage-and-porosity-models">Solidification Shrinkage and Porosity Models</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#solidification-drag">Solidification Drag</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#turbulence-models">Turbulence Models</a><ul>
<li class="toctree-l4"><a class="reference internal" href="theory.html#turbulence-transport-models">Turbulence Transport Models</a><ul>
<li class="toctree-l5"><a class="reference internal" href="theory.html#one-equation-model">One-equation model</a></li>
<li class="toctree-l5"><a class="reference internal" href="theory.html#k-epsilon">k-epsilon</a></li>
<li class="toctree-l5"><a class="reference internal" href="theory.html#rng-k-epsilon">RNG k-epsilon</a></li>
<li class="toctree-l5"><a class="reference internal" href="theory.html#k-omega">k-omega</a></li>
<li class="toctree-l5"><a class="reference internal" href="theory.html#prandtl-mixing-length-model">Prandtl Mixing Length Model</a></li>
<li class="toctree-l5"><a class="reference internal" href="theory.html#large-eddy-simulation-model">Large Eddy Simulation Model</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#turbulent-scales">Turbulent Scales</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#turbulence-boundary-conditions">Turbulence Boundary Conditions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#wall-heat-transfer">Wall Heat Transfer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="theory.html#energy-source-terms">Energy Source Terms</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#surface-area-evaluation">Surface Area Evaluation</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#fluid-obstacle-heat-transfer-coefficient">Fluid/Obstacle Heat Transfer Coefficient</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#baffle-heat-transfer">Baffle Heat Transfer</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#heat-transfer-to-void-regions">Heat Transfer to Void Regions</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#heat-transfer-to-cooling-channels">Heat Transfer to Cooling Channels</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="theory.html#numerical-approximations">Numerical Approximations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="theory.html#numericaloverviewth">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#notation">Notation</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#outline-of-finite-difference-solution-method">Outline of Finite Difference Solution Method</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#momentum-equation-approximations">Momentum Equation Approximations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="theory.html#advective-fluxes">Advective Fluxes</a><ul>
<li class="toctree-l5"><a class="reference internal" href="theory.html#first-order-method">First-Order Method</a></li>
<li class="toctree-l5"><a class="reference internal" href="theory.html#second-order-monotonicity-preserving-method">Second-Order Monotonicity Preserving Method</a></li>
<li class="toctree-l5"><a class="reference internal" href="theory.html#second-order-method">Second-Order Method</a></li>
<li class="toctree-l5"><a class="reference internal" href="theory.html#immersed-boundary-method">Immersed Boundary Method</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#density-evaluation">Density Evaluation</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#wall-shear-stresses">Wall Shear Stresses</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#porous-baffle-flow-losses">Porous Baffle Flow Losses</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#generalized-drag-forces">Generalized Drag Forces</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#non-inertial-reference-frame">Non-Inertial Reference Frame</a><ul>
<li class="toctree-l5"><a class="reference internal" href="theory.html#gravitational-force-in-non-inertial-frames">Gravitational Force in Non-inertial Frames</a></li>
<li class="toctree-l5"><a class="reference internal" href="theory.html#specifying-non-inertial-reference-frame-motion">Specifying Non-Inertial Reference Frame Motion</a><ul>
<li class="toctree-l6"><a class="reference internal" href="theory.html#simple-rotation-or-acceleration-along-the-x-axis">Simple Rotation or Acceleration along the X-Axis</a></li>
<li class="toctree-l6"><a class="reference internal" href="theory.html#harmonic-oscillation">Harmonic Oscillation</a></li>
<li class="toctree-l6"><a class="reference internal" href="theory.html#tabular-specification">Tabular Specification</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="theory.html#coupled-rigid-body-dynamics">Coupled Rigid Body Dynamics</a><ul>
<li class="toctree-l6"><a class="reference internal" href="theory.html#input-data">Input Data</a></li>
<li class="toctree-l6"><a class="reference internal" href="theory.html#explicit-solution-algorithm-and-stability-limitations">Explicit Solution Algorithm and Stability Limitations</a></li>
<li class="toctree-l6"><a class="reference internal" href="theory.html#implicit-solution-algorithms">Implicit Solution Algorithms</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#pressure-solution-algorithm">Pressure Solution Algorithm</a><ul>
<li class="toctree-l4"><a class="reference internal" href="theory.html#incompressible-sor-method">Incompressible SOR Method</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#incompressible-line-implicit-sadi-method">Incompressible Line Implicit SADI Method</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#compressible-solution-method">Compressible Solution Method</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#gmres-pressure-velocity-solvers">GMRES Pressure-Velocity Solvers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#scalar-advection">Scalar Advection</a><ul>
<li class="toctree-l4"><a class="reference internal" href="theory.html#time-advancement-of-fluid-configuration">Time Advancement of Fluid Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#other-scalar-advection">Other Scalar Advection</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#determining-surface-normals-and-cell-flags">Determining Surface Normals and Cell Flags</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#surface-location-within-a-cell">Surface Location within a Cell</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#cleanup-of-misty-fluid-regions">Cleanup of Misty Fluid Regions</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#bookkeeping-adjustments">Bookkeeping Adjustments</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#locally-implicit-approximation-of-advection">Locally Implicit Approximation of Advection</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#diffusion-process-heat-conduction-and-heat-transfer">Diffusion Process, Heat Conduction and Heat Transfer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="theory.html#diffusion-process">Diffusion Process</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#heat-conduction-and-heat-transfer">Heat Conduction and Heat Transfer</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#implicit-viscous-stress-and-heat-flux-approximations">Implicit Viscous Stress and Heat Flux Approximations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#boundary-conditions">Boundary Conditions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="theory.html#free-slip-vs-non-slip-boundaries">Free-Slip vs. Non-Slip Boundaries</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#turbulence-model-boundary-conditions">Turbulence Model Boundary Conditions</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#free-surface-boundaries">Free-Surface Boundaries</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#internal-obstacle-boundaries">Internal Obstacle Boundaries</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#surface-tension-with-wall-adhesion">Surface Tension with Wall Adhesion</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#mesh-block-boundaries">Mesh Block Boundaries</a><ul>
<li class="toctree-l5"><a class="reference internal" href="theory.html#pressure-boundary-conditions">Pressure Boundary Conditions</a></li>
<li class="toctree-l5"><a class="reference internal" href="theory.html#continuative-boundary-conditions">Continuative Boundary Conditions</a></li>
<li class="toctree-l5"><a class="reference internal" href="theory.html#outflow-boundary-conditions">Outflow Boundary Conditions</a></li>
<li class="toctree-l5"><a class="reference internal" href="theory.html#wave-absorbing-layer-sponge-layer-at-open-boundary">Wave-absorbing Layer (Sponge Layer) at Open Boundary</a></li>
<li class="toctree-l5"><a class="reference internal" href="theory.html#periodic-linear-wave-generator">Periodic Linear Wave Generator</a></li>
<li class="toctree-l5"><a class="reference internal" href="theory.html#stokes-wave-generator">Stokes Wave Generator</a></li>
<li class="toctree-l5"><a class="reference internal" href="theory.html#stokes-and-cnoidal-waves-generator-fourier-series-method">Stokes and Cnoidal Waves Generator (Fourier Series Method)</a></li>
<li class="toctree-l5"><a class="reference internal" href="theory.html#solitary-wave-generator">Solitary Wave Generator</a></li>
<li class="toctree-l5"><a class="reference internal" href="theory.html#random-wave">Random Wave</a></li>
<li class="toctree-l5"><a class="reference internal" href="theory.html#rating-curve-and-natural-inlet-boundary">Rating Curve and Natural Inlet Boundary</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#stability-considerations">Stability Considerations</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#discrete-particle-dynamics">Discrete Particle Dynamics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="theory.html#marker-particles">Marker Particles</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#material-mass-liquid-and-gas-particles">Material (Mass, Liquid, and Gas) Particles</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#fluid-particles-with-heat-transfer-and-phase-change">Fluid Particles with Heat Transfer and Phase Change</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#particle-fluid-momentum-interaction">Particle/Fluid Momentum Interaction</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#particle-wall-interaction">Particle/Wall Interaction</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#rigid-body-dynamics-algorithm-for-non-inertial-reference-frame-model">Rigid Body Dynamics Algorithm for Non-Inertial Reference Frame Model</a><ul>
<li class="toctree-l4"><a class="reference internal" href="theory.html#evaluation-of-environmental-forces-and-torques">Evaluation of Environmental Forces and Torques</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#evaluation-of-control-forces-and-torques">Evaluation of Control Forces and Torques</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#solution-of-the-fluid-dynamics-equations">Solution of the Fluid Dynamics Equations</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#solution-of-the-dynamic-equations-for-the-rigid-body-center-of-mass">Solution of the Dynamic Equations for the Rigid-Body Center of Mass</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#solution-of-the-dynamic-equations-for-the-rotation-of-the-rigid-body">Solution of the Dynamic Equations for the Rotation of the Rigid Body</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#integration-of-the-kinematic-equations-for-the-rigid-body-attitude">Integration of the Kinematic Equations for the Rigid-Body Attitude</a></li>
<li class="toctree-l4"><a class="reference internal" href="theory.html#convergence-testing">Convergence Testing</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#simplified-solidification-shrinkage-algorithm">Simplified Solidification Shrinkage Algorithm</a></li>
<li class="toctree-l3"><a class="reference internal" href="theory.html#reactive-flows-algorithm">Reactive Flows Algorithm</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Model Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#active-simulation-control">Active Simulation Control</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#description-and-usage">Description and Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#model-setup">Model Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="#restart">Restart</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#adiabatic-bubbles">Adiabatic Bubbles</a></li>
<li class="toctree-l2"><a class="reference internal" href="#air-entrainment">Air Entrainment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cavitation-and-bubble-formation-nucleation">Cavitation and Bubble Formation (Nucleation)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#inertial-cavitation-opening-of-voids-in-high-velocity-flows">Inertial Cavitation: Opening of voids in high-velocity flows</a></li>
<li class="toctree-l3"><a class="reference internal" href="#temperature-dependent-cavitation">Temperature-Dependent Cavitation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cavitation-potential-model">Cavitation Potential Model</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#combustible-objects">Combustible Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="#compressible-flows">Compressible Flows</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fully-compressible-flows">Fully-compressible flows</a></li>
<li class="toctree-l3"><a class="reference internal" href="#acoustic-waves-limited-compressibility">Acoustic Waves (Limited Compressibility)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#condensation-evaporation-at-free-surfaces">Condensation/Evaporation at Free Surfaces</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#evaporation-into-constant-pressure-bubbles">Evaporation into Constant Pressure Bubbles</a></li>
<li class="toctree-l3"><a class="reference internal" href="#phase-change-with-thermal-bubbles">Phase Change with Thermal Bubbles</a></li>
<li class="toctree-l3"><a class="reference internal" href="#two-fluid-model">Two-fluid Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="#two-fluids-with-non-condensable-gas">Two Fluids with Non-condensable Gas</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vaporization-residue">Vaporization Residue</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#cooling-channels">Cooling Channels</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#cooling-channel-definition">Cooling channel definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="#heat-transfer-coefficients-for-cooling-channels">Heat transfer coefficients for cooling channels</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#core-gas">Core Gas</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#model-dependencies">Model Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#global-model-controls">Global Model Controls</a></li>
<li class="toctree-l3"><a class="reference internal" href="#core-gas-component-properties">Core Gas Component Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="#model-output">Model Output</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#defect-tracking">Defect tracking</a></li>
<li class="toctree-l2"><a class="reference internal" href="#drift-flux">Drift Flux</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#versions-of-the-model">Versions of the Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="#calculation-of-drag-between-the-phases">Calculation of drag between the phases</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dispersed-phase-drop-size">Dispersed Phase Drop Size</a></li>
<li class="toctree-l3"><a class="reference internal" href="#escape-of-gas-through-a-free-surface">Escape of Gas through a Free Surface</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#elastic-plastic-and-viscoelastic-fluids">Elastic, Plastic, and Viscoelastic Fluids</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#elastic-and-plastic-materials">Elastic and Plastic Materials</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#elastic-fluid-example-bingham-material-approximation">Elastic fluid example:  Bingham Material Approximation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#viscoelastic-materials">Viscoelastic Materials</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#electro-mechanics">Electro-mechanics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#electric-fields">Electric Fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="#electro-osmosis-zeta-potential">Electro-osmosis (Zeta Potential)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#electro-thermal-effects">Electro-thermal Effects</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dielectrophoresis">Dielectrophoresis</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#fan-and-impeller-model">Fan and Impeller Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="#flows-with-density-variations">Flows with Density Variations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#buoyant-flow">Buoyant Flow</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#fluid-sources">Fluid sources</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#droplet-and-bubble-sources">Droplet and bubble sources</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mass-sources">Mass Sources</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#mass-sources-in-different-scenarios">Mass sources in different scenarios</a></li>
<li class="toctree-l4"><a class="reference internal" href="#setup-procedure">Setup procedure</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#activate-mass-source">Activate Mass Source</a></li>
<li class="toctree-l5"><a class="reference internal" href="#define-source-properties">Define Source Properties</a></li>
<li class="toctree-l5"><a class="reference internal" href="#define-flow-rate">Define Flow Rate</a></li>
<li class="toctree-l5"><a class="reference internal" href="#define-scalars-at-source">Define Scalars at Source</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#mass-momentum-sources">Mass-Momentum Sources</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#fluid-structure-interaction-fsi">Fluid-Structure Interaction (FSI)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fsitsemodelsetupmr">Model Setup</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#properties">Properties</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fsi-meshing">FSI meshing</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#simulation">Simulation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#post-processing">Post-processing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#export-import-fsi-meshes">Export/Import FSI Meshes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#free-surface-vs-confined-flows">Free Surface vs. Confined Flows</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#confined-flow">Confined Flow</a></li>
<li class="toctree-l3"><a class="reference internal" href="#free-surface-flow">Free Surface Flow</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#granular-flow">Granular Flow</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#granular-flow-application-example-core-blowing">Granular flow application example:  Core Blowing</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#gravity">Gravity</a></li>
<li class="toctree-l2"><a class="reference internal" href="#heat-transfer">Heat Transfer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#transport-of-heat-in-fluid">Transport of Heat in Fluid</a></li>
<li class="toctree-l3"><a class="reference internal" href="#heat-sources">Heat Sources</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#heat-sources-in-fluid">Heat sources in fluid</a></li>
<li class="toctree-l4"><a class="reference internal" href="#heat-sources-in-components">Heat sources in components</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#heat-transfer-across-baffles">Heat Transfer across Baffles</a></li>
<li class="toctree-l3"><a class="reference internal" href="#heat-transfer-and-conduction-in-components">Heat Transfer and Conduction in Components</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#component-heat-transfer-modes">Component heat transfer modes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#heat-transfer-coefficients">Heat transfer coefficients</a></li>
<li class="toctree-l4"><a class="reference internal" href="#thermal-contact-resistance">Thermal contact resistance</a></li>
<li class="toctree-l4"><a class="reference internal" href="#special-considerations-for-heat-transfer-in-porous-components">Special considerations for heat transfer in porous components</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#heat-transfer-to-voids">Heat Transfer to Voids</a></li>
<li class="toctree-l3"><a class="reference internal" href="#heat-transfer-only">Heat Transfer Only</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#lost-foam-casting-process">Lost Foam Casting Process</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#lost-foam-model">Lost foam model</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lost-foam-residue-tracking">Lost foam residue tracking</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#mesh-boundary-conditions">Mesh Boundary Conditions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#outflow-type-of-pressure-boundary">Outflow Type of Pressure Boundary</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rating-curve">Rating curve</a></li>
<li class="toctree-l3"><a class="reference internal" href="#natural-inlet">Natural inlet</a></li>
<li class="toctree-l3"><a class="reference internal" href="#wave-boundary-condition">Wave Boundary Condition</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#linear-wave">Linear Wave</a></li>
<li class="toctree-l4"><a class="reference internal" href="#stokes-wave-and-cnoidal-wave">Stokes Wave and Cnoidal Wave</a></li>
<li class="toctree-l4"><a class="reference internal" href="#solitary-wave">Solitary Wave</a></li>
<li class="toctree-l4"><a class="reference internal" href="#random-wave">Random Wave</a></li>
<li class="toctree-l4"><a class="reference internal" href="#initialization-of-wave-motion">Initialization of Wave Motion</a></li>
<li class="toctree-l4"><a class="reference internal" href="#minimizing-wave-reflections-from-mesh-boundaries">Minimizing Wave Reflections from Mesh Boundaries</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-the-shallow-water-model-for-wave-simulations">Using the shallow water model for wave simulations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#wave-absorbing-layer-sponge-layer-at-outflow-boundary">Wave-absorbing Layer (Sponge Layer) at Outflow Boundary</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#wave-absorbing-component">Wave-absorbing Component</a></li>
<li class="toctree-l4"><a class="reference internal" href="#wave-absorbing-boundary">Wave-absorbing Boundary</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#moisture-drying-model">Moisture Drying Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="#moving-objects">Moving objects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#general-moving-objects">General Moving Objects</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#basics">Basics</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#step-1-activate-the-gmo-model">Step 1: Activate the GMO Model</a></li>
<li class="toctree-l5"><a class="reference internal" href="#step-2-create-the-gmo-s-initial-geometry">Step 2: Create the GMO’s Initial Geometry</a></li>
<li class="toctree-l5"><a class="reference internal" href="#step-3-specify-the-gmo-s-motion-related-parameters">Step 3: Specify the GMO’s Motion Related Parameters</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#prescribed-6-dof-motion">Prescribed 6-DOF Motion</a></li>
<li class="toctree-l6"><a class="reference internal" href="#prescribed-fixed-point-motion">Prescribed Fixed-point Motion</a></li>
<li class="toctree-l6"><a class="reference internal" href="#prescribed-fixed-axis-motion">Prescribed Fixed-Axis Motion</a></li>
<li class="toctree-l6"><a class="reference internal" href="#coupled-6-dof-motion">Coupled 6-DOF motion</a></li>
<li class="toctree-l6"><a class="reference internal" href="#coupled-fixed-point-motion">Coupled Fixed-Point Motion</a></li>
<li class="toctree-l6"><a class="reference internal" href="#coupled-fixed-axis-motion">Coupled Fixed-Axis Motion</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#step-4-specify-the-gmo-s-mass-properties">Step 4: Specify the GMO’s Mass Properties</a></li>
<li class="toctree-l5"><a class="reference internal" href="#transformation-of-gmo-properties">Transformation of GMO Properties</a></li>
<li class="toctree-l5"><a class="reference internal" href="#output">Output</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#collision">Collision</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pq2-analysis">PQ<sup>2</sup> Analysis</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#index-219">Model Setup</a></li>
<li class="toctree-l5"><a class="reference internal" href="#index-220">Post-processing</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#simple-deforming-objects">Simple Deforming Objects</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#elastic-membrane">Elastic Membrane</a></li>
<li class="toctree-l5"><a class="reference internal" href="#elastic-wall">Elastic Wall</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#springs-ropes-and-mooring-lines">Springs, Ropes and Mooring Lines</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#springs-ropes">Springs &amp; Ropes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mooring-lines">Mooring Lines</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#moving-components-with-tangential-surface-velocity">Moving Components with Tangential Surface Velocity</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rotating-axisymmetric-components">Rotating Axisymmetric Components</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#non-inertial-reference-frame-motion">Non-Inertial Reference Frame Motion</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#smooth-tabular-motion">Smooth Tabular Motion</a></li>
<li class="toctree-l3"><a class="reference internal" href="#impulsive-motion-of-non-inertial-reference-frame">Impulsive Motion of Non-inertial Reference Frame</a></li>
<li class="toctree-l3"><a class="reference internal" href="#center-of-gravity-for-non-inertial-reference-frame">Center of Gravity for Non-inertial Reference Frame</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rigid-body-dynamics">Rigid Body Dynamics</a></li>
<li class="toctree-l3"><a class="reference internal" href="#non-inertial-reference-frame-application-example-centrifugal-casting">Non-inertial reference frame application example:  Centrifugal Casting</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#particles">Particles</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#setup-and-dependencies">Setup and dependencies</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#particle-definition-and-physics">Particle definition and physics</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#marker-particles">Marker particles</a></li>
<li class="toctree-l5"><a class="reference internal" href="#mass-particles">Mass particles</a></li>
<li class="toctree-l5"><a class="reference internal" href="#fluid-particles">Fluid particles</a></li>
<li class="toctree-l5"><a class="reference internal" href="#gas-particles">Gas particles</a></li>
<li class="toctree-l5"><a class="reference internal" href="#void-particles">Void Particles</a></li>
<li class="toctree-l5"><a class="reference internal" href="#user-customizable-particles">User-customizable particles</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#particle-blocks-and-sources">Particle blocks and sources</a></li>
<li class="toctree-l4"><a class="reference internal" href="#probe-particles">Probe particles</a></li>
<li class="toctree-l4"><a class="reference internal" href="#particle-output">Particle output</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#limitations">Limitations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#porous-media">Porous Media</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#creating-a-porous-component">Creating a Porous Component</a></li>
<li class="toctree-l3"><a class="reference internal" href="#porous-component-properties">Porous Component Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="#porous-media-drag-models">Porous Media Drag Models</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#calculating-the-porous-media-drag-coefficient">Calculating the Porous Media Drag Coefficient</a></li>
<li class="toctree-l4"><a class="reference internal" href="#saturated-porous-media-drag-models">Saturated Porous Media Drag Models</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#darcian-saturated-drag-model">Darcian Saturated Drag Model</a></li>
<li class="toctree-l5"><a class="reference internal" href="#forchheimer-saturated-drag-model">Forchheimer Saturated Drag Model</a></li>
<li class="toctree-l5"><a class="reference internal" href="#permeability-dependent-saturated-drag">Permeability Dependent Saturated Drag</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#unsaturated-porous-media-drag-models">Unsaturated Porous Media Drag Models</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#capillary-pressure-models">Capillary Pressure Models</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#saturated-capillary-effects-in-porous-components">Saturated Capillary Effects in Porous Components</a></li>
<li class="toctree-l4"><a class="reference internal" href="#unsaturated-capillary-effects-in-porous-components">Unsaturated Capillary Effects in Porous Components</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#simplified-unsaturated-capillary-pressure-model">Simplified Unsaturated Capillary Pressure Model</a></li>
<li class="toctree-l5"><a class="reference internal" href="#van-genuchten-unsaturated-capillary-pressure-model">Van Genuchten Unsaturated Capillary Pressure Model</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#porous-baffles">Porous Baffles</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#reaction-kinetics">Reaction Kinetics</a></li>
<li class="toctree-l2"><a class="reference internal" href="#scalars">Scalars</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id8">Description and usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id9">Setup and dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id10">Limitations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#sediment-scour-and-deposition">Sediment Scour and Deposition</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sediment-properties">Sediment properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="#packed-sediment-components">Packed sediment components</a></li>
<li class="toctree-l3"><a class="reference internal" href="#initial-sediment-concentrations">Initial sediment concentrations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sediment-concentrations-at-boundary-conditions-and-sources">Sediment concentrations at boundary conditions and sources</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sediment-modeling-considerations">Sediment modeling considerations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#shallow-water-model">Shallow Water Model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id15">Description and Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#shallow-water-shear-stress-method">Shallow Water Shear Stress Method</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#laminar-flow">Laminar Flow</a></li>
<li class="toctree-l4"><a class="reference internal" href="#turbulent-flow">Turbulent Flow</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#shallow-water-mesh-block">Shallow Water Mesh Block</a></li>
<li class="toctree-l3"><a class="reference internal" href="#combining-shallow-watter-with-other-physical-models">Combining Shallow Watter with Other Physical Models</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#shallow-water-3d-flow">Shallow Water / 3D Flow</a></li>
<li class="toctree-l4"><a class="reference internal" href="#shallow-water-geophysical-flow">Shallow Water / Geophysical Flow</a></li>
<li class="toctree-l4"><a class="reference internal" href="#shallow-water-wind">Shallow Water / Wind</a></li>
<li class="toctree-l4"><a class="reference internal" href="#shallow-water-porous-media">Shallow Water / Porous media</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#sludge-settling">Sludge Settling</a></li>
<li class="toctree-l2"><a class="reference internal" href="#solidification">Solidification</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#criterion-functions">Criterion Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#drag-in-the-mushy-zone">Drag in the Mushy Zone</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#solidification-drag-models-in-flow-3d">Solidification Drag Models in FLOW-3D</a></li>
<li class="toctree-l4"><a class="reference internal" href="#how-to-calculate-permeability">How to Calculate Permeability</a></li>
<li class="toctree-l4"><a class="reference internal" href="#how-flow-3d-defines-the-coefficient-of-solidification-drag">How FLOW-3D Defines the Coefficient of Solidification Drag</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#macro-segregation-during-alloy-solidification">Macro-Segregation during Alloy Solidification</a></li>
<li class="toctree-l3"><a class="reference internal" href="#microporosity-formation">Microporosity Formation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#moving-solid-phase">Moving Solid Phase</a></li>
<li class="toctree-l3"><a class="reference internal" href="#solidification-shrinkage">Solidification Shrinkage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#thermal-modulus">Thermal Modulus</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#squeeze-pins">Squeeze Pins</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#index-329">Description and Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#index-333">Model Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="#index-335">Output</a></li>
<li class="toctree-l3"><a class="reference internal" href="#index-336">Limitations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#surface-tension">Surface Tension</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tabular-data">Tabular Data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#temperature-dependent-properties">Temperature Dependent Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="#time-dependent-properties">Time Dependent Properties</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#thermal-die-cycling">Thermal Die Cycling</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="#defining-the-stages-in-the-die-cycle">Defining the stages in the die cycle</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#tdc-solidfication-stage">Solidification</a></li>
<li class="toctree-l4"><a class="reference internal" href="#open-before-ejection">Open before ejection</a></li>
<li class="toctree-l4"><a class="reference internal" href="#closed">Closed</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#numerical-settings">Numerical settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tdc-output">Output</a></li>
<li class="toctree-l3"><a class="reference internal" href="#spray-cooling-for-thermal-die-cycling">Spray Cooling for Thermal Die Cycling</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#spray-area-computation">Spray Area Computation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-heat-transfer-coefficient">The Heat Transfer Coefficient</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#the-heat-transfer-coefficient-based-on-dependencies">The Heat Transfer Coefficient Based on Dependencies</a></li>
<li class="toctree-l5"><a class="reference internal" href="#the-heat-transfer-coefficient-based-on-spray-medium-properties">The Heat Transfer Coefficient Based on Spray Medium Properties</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#id25">Model Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="#output-options">Output Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id26">Post Processing</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#thermal-stress-evolution-tse-in-solidified-fluid-regions">Thermal Stress Evolution (TSE) in Solidified Fluid Regions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#tsesolidificationmodelsetupmr">Model Setup</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#tse-properties">TSE properties</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tse-meshing">TSE meshing</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#tse-controls">TSE Controls</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#solid-fraction-activation">Solid fraction activation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#numerical-options">Numerical Options</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#important-considerations">Important considerations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#tsesolidificationpostprocessingmr">Post-processing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#export-import-tse-meshes">Export/Import TSE Meshes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#two-fluid-flow">Two-Fluid Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="#viscosity-and-turbulence">Viscosity and Turbulence</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#wall-effects-slip-shear-and-component-roughness">Wall Effects: Slip, Shear, and Component Roughness</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#wall-slip">Wall Slip</a></li>
<li class="toctree-l4"><a class="reference internal" href="#wall-shear">Wall Shear</a></li>
<li class="toctree-l4"><a class="reference internal" href="#component-and-sub-component-roughness">Component and Sub-Component Roughness</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#temperature-and-strain-rate-dependent-viscosity">Temperature and Strain Rate Dependent Viscosity</a></li>
<li class="toctree-l3"><a class="reference internal" href="#thixotropic-fluids">Thixotropic Fluids</a></li>
<li class="toctree-l3"><a class="reference internal" href="#turbulence">Turbulence</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#turbulent-diffusion-coefficients">Turbulent Diffusion Coefficients</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#viscous-heating">Viscous Heating</a></li>
<li class="toctree-l3"><a class="reference internal" href="#viscosity-output">Viscosity Output</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#wind-shear-stress">Wind Shear Stress</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="outputs.html">Output variables</a><ul>
<li class="toctree-l2"><a class="reference internal" href="outputs.html#additional-output">Additional output</a><ul>
<li class="toctree-l3"><a class="reference internal" href="outputs.html#distance-traveled-by-fluid">Distance Traveled by Fluid</a></li>
<li class="toctree-l3"><a class="reference internal" href="outputs.html#fluid-arrival-time">Fluid arrival time</a></li>
<li class="toctree-l3"><a class="reference internal" href="outputs.html#fluid-residence-time">Fluid residence time</a></li>
<li class="toctree-l3"><a class="reference internal" href="outputs.html#wall-contact-time">Wall Contact Time</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="outputs.html#geometry-data">Geometry Data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="outputs.html#component-wetted-area">Component wetted area</a></li>
<li class="toctree-l3"><a class="reference internal" href="outputs.html#forces-and-torques-on-components">Forces and torques on components</a><ul>
<li class="toctree-l4"><a class="reference internal" href="outputs.html#forces">Forces</a></li>
<li class="toctree-l4"><a class="reference internal" href="outputs.html#torques">Torques</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="outputs.html#buoyancy-center-and-metacentric-height">Buoyancy center and metacentric height</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="outputs.html#advanced">Advanced</a><ul>
<li class="toctree-l3"><a class="reference internal" href="outputs.html#fluid-vorticity-q-criterion">Fluid vorticity &amp; Q-criterion</a></li>
<li class="toctree-l3"><a class="reference internal" href="outputs.html#hydraulic-data-and-total-hydraulic-head-3d">Hydraulic Data and Total Hydraulic Head 3D</a><ul>
<li class="toctree-l4"><a class="reference internal" href="outputs.html#hydraulic-data">Hydraulic Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="outputs.html#total-hydraulic-head-3d">Total Hydraulic Head 3D</a></li>
<li class="toctree-l4"><a class="reference internal" href="outputs.html#flux-averaged-hydraulic-head">Flux-averaged hydraulic head</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="outputs.html#measurement-device-outputs">Measurement Device Outputs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="outputs.html#history-probe-outputs">History Probe Outputs</a></li>
<li class="toctree-l3"><a class="reference internal" href="outputs.html#flux-surface-outputs">Flux Surface Outputs</a></li>
<li class="toctree-l3"><a class="reference internal" href="outputs.html#sampling-volume-outputs">Sampling Volume Outputs</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="numerical-options.html">Numerical Options</a><ul>
<li class="toctree-l2"><a class="reference internal" href="numerical-options.html#volume-of-fluid-advection">Volume-of-fluid advection</a><ul>
<li class="toctree-l3"><a class="reference internal" href="numerical-options.html#fluidinterfacevofapproximationsmr">Volume-of-fluid advection</a></li>
<li class="toctree-l3"><a class="reference internal" href="numerical-options.html#advanced-options">Advanced Options</a><ul>
<li class="toctree-l4"><a class="reference internal" href="numerical-options.html#f-packing-controls">F-Packing controls</a></li>
<li class="toctree-l4"><a class="reference internal" href="numerical-options.html#fluid-fraction-cleanup">Fluid fraction cleanup</a></li>
<li class="toctree-l4"><a class="reference internal" href="numerical-options.html#automatic-volume-correction">Automatic volume correction</a></li>
<li class="toctree-l4"><a class="reference internal" href="numerical-options.html#two-fluid-interface-slip">Two-fluid interface slip</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="numerical-options.html#momentum-advection">Momentum advection</a><ul>
<li class="toctree-l3"><a class="reference internal" href="numerical-options.html#order-of-approximation">Order of approximation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="numerical-options.html#fluid-flow-solver-options">Fluid flow solver options</a></li>
<li class="toctree-l2"><a class="reference internal" href="numerical-options.html#time-step-controls">Time-Step Controls</a><ul>
<li class="toctree-l3"><a class="reference internal" href="numerical-options.html#advancedtimestepcontrolmr">Advanced Options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="numerical-options.html#favor-options">FAVOR Options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="numerical-options.html#favor-tolerance">FAVOR Tolerance</a></li>
<li class="toctree-l3"><a class="reference internal" href="numerical-options.html#gap-tolerance">Gap Tolerance</a></li>
<li class="toctree-l3"><a class="reference internal" href="numerical-options.html#skin-tolerance">Skin Tolerance</a></li>
<li class="toctree-l3"><a class="reference internal" href="numerical-options.html#volume-fraction-cleanup">Volume fraction cleanup</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="numerical-options.html#pressure-solver-options">Pressure solver options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="numerical-options.html#pressure-solver-type">Pressure solver type</a></li>
<li class="toctree-l3"><a class="reference internal" href="numerical-options.html#implicit-solver-type">Implicit solver type</a></li>
<li class="toctree-l3"><a class="reference internal" href="numerical-options.html#convergence-controls">Convergence Controls</a><ul>
<li class="toctree-l4"><a class="reference internal" href="numerical-options.html#convergence-criterion">Convergence criterion</a></li>
<li class="toctree-l4"><a class="reference internal" href="numerical-options.html#relaxation-factor">Relaxation factor</a></li>
<li class="toctree-l4"><a class="reference internal" href="numerical-options.html#minimum-number-of-iterations">Minimum number of iterations</a></li>
<li class="toctree-l4"><a class="reference internal" href="numerical-options.html#maximum-number-of-iterations">Maximum number of iterations</a></li>
<li class="toctree-l4"><a class="reference internal" href="numerical-options.html#maximum-number-of-iterations-before-time-step-is-reduced">Maximum number of iterations before time step is reduced</a></li>
<li class="toctree-l4"><a class="reference internal" href="numerical-options.html#maximum-number-of-iteration-failures-allowed">Maximum number of iteration failures allowed</a></li>
<li class="toctree-l4"><a class="reference internal" href="numerical-options.html#subspace">Subspace</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="numerical-options.html#compressible-pressure-iterations">Compressible Pressure Iterations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="numerical-options.html#fsi-tse-solver-options">FSI/TSE Solver Options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="numerical-options.html#id3">Convergence Controls</a><ul>
<li class="toctree-l4"><a class="reference internal" href="numerical-options.html#gmres-subspace-size">GMRES subspace size</a></li>
<li class="toctree-l4"><a class="reference internal" href="numerical-options.html#id4">Maximum number of iterations</a></li>
<li class="toctree-l4"><a class="reference internal" href="numerical-options.html#convergence-tolerance">Convergence tolerance</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="numerical-options.html#solver-options">Solver Options</a><ul>
<li class="toctree-l4"><a class="reference internal" href="numerical-options.html#additional-memory">Additional memory</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="numerical-options.html#coupling-between-solidified-fluid-fsi">Coupling between solidified fluid/FSI</a><ul>
<li class="toctree-l4"><a class="reference internal" href="numerical-options.html#friction-coefficient">Friction coefficient</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="numerical-options.html#viscous-stress-solver-options">Viscous stress solver options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="numerical-options.html#viscous-stress-solver-type">Viscous stress solver type</a></li>
<li class="toctree-l3"><a class="reference internal" href="numerical-options.html#viscoussolverconvergencecontrolsno">Convergence Controls</a><ul>
<li class="toctree-l4"><a class="reference internal" href="numerical-options.html#multiplier-for-convergence-criterion">Multiplier for convergence criterion</a></li>
<li class="toctree-l4"><a class="reference internal" href="numerical-options.html#id6">Relaxation factor</a></li>
<li class="toctree-l4"><a class="reference internal" href="numerical-options.html#id7">Maximum number of iterations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="numerical-options.html#electric-field-solver-options">Electric field solver options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="numerical-options.html#electric-potential">Electric Potential</a><ul>
<li class="toctree-l4"><a class="reference internal" href="numerical-options.html#convergence-criterion-for-electric-potential">Convergence criterion for electric potential</a></li>
<li class="toctree-l4"><a class="reference internal" href="numerical-options.html#maximum-number-of-electric-potential-iterations">Maximum number of electric potential iterations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="numerical-options.html#zeta-potential">Zeta Potential</a><ul>
<li class="toctree-l4"><a class="reference internal" href="numerical-options.html#convergence-criterion-for-zeta-potential">Convergence criterion for zeta potential</a></li>
<li class="toctree-l4"><a class="reference internal" href="numerical-options.html#id8">Maximum number of electric potential iterations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="numerical-options.html#other-explicit-implicit-solver-options">Other explicit/implicit solver options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="numerical-options.html#heat-transfer">Heat Transfer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="numerical-options.html#id9">Convergence controls</a></li>
<li class="toctree-l4"><a class="reference internal" href="numerical-options.html#id10">Multiplier for convergence criterion</a></li>
<li class="toctree-l4"><a class="reference internal" href="numerical-options.html#over-relaxation-factor">Over-relaxation factor</a></li>
<li class="toctree-l4"><a class="reference internal" href="numerical-options.html#id11">Maximum number of iterations</a></li>
<li class="toctree-l4"><a class="reference internal" href="numerical-options.html#id12">Maximum number of iterations before time step is reduced</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="numerical-options.html#elastic-stress">Elastic Stress</a><ul>
<li class="toctree-l4"><a class="reference internal" href="numerical-options.html#id13">Convergence controls</a></li>
<li class="toctree-l4"><a class="reference internal" href="numerical-options.html#id14">Multiplier for convergence criterion</a></li>
<li class="toctree-l4"><a class="reference internal" href="numerical-options.html#id15">Maximum number of iterations</a></li>
<li class="toctree-l4"><a class="reference internal" href="numerical-options.html#id16">Maximum number of iterations before time step is reduced</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="numerical-options.html#surface-tension">Surface tension</a></li>
<li class="toctree-l3"><a class="reference internal" href="numerical-options.html#free-surface-pressure">Free surface pressure</a></li>
<li class="toctree-l3"><a class="reference internal" href="numerical-options.html#bubble-pressure">Bubble pressure</a></li>
<li class="toctree-l3"><a class="reference internal" href="numerical-options.html#advection">Advection</a></li>
<li class="toctree-l3"><a class="reference internal" href="numerical-options.html#moving-object-fluid-coupling">Moving object/Fluid coupling</a></li>
<li class="toctree-l3"><a class="reference internal" href="numerical-options.html#shallow-water">Shallow water</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="numerical-options.html#additional-options">Additional options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="numerical-options.html#coriolis-acceleration-implicit-weighting-factor">Coriolis acceleration implicit weighting factor</a></li>
<li class="toctree-l3"><a class="reference internal" href="numerical-options.html#steady-state-accelerator">Steady-state accelerator</a></li>
<li class="toctree-l3"><a class="reference internal" href="numerical-options.html#steady-state-accelerator-for-confined-flows">Steady-state accelerator for confined flows</a></li>
<li class="toctree-l3"><a class="reference internal" href="numerical-options.html#wave-boundary-condition">Wave boundary condition</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="numerical-options.html#numerical-options-not-found-in-the-numerics-widget">Numerical options not found in the Numerics widget</a><ul>
<li class="toctree-l3"><a class="reference internal" href="numerical-options.html#density-advection">Density advection</a></li>
<li class="toctree-l3"><a class="reference internal" href="numerical-options.html#energy-advection">Energy advection</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="input-variable-summary-units.html">Input Variable Summary</a><ul>
<li class="toctree-l2"><a class="reference internal" href="input-variable-summary-units.html#input-file-specifications">Input File Specifications</a><ul>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#editing-the-input-file-directly">Editing the input file directly</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#input-file-structure-and-namelist-blocks">Input File Structure and Namelist Blocks</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#namelist-format">Namelist Format</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#namelist-rules">Namelist Rules</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#problem-title">Problem Title</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#adding-comments-using-the-remark-variable">Adding Comments Using the Remark Variable</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#conventions-used-for-the-input-variable-summary">Conventions Used for the Input Variable Summary</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="input-variable-summary-units.html#physical-and-computational-parameters-xput">Physical and Computational Parameters - XPUT</a><ul>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#advection-options">Advection Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#automatic-volume-correction-options">Automatic Volume Correction Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#collision-model-options">Collision Model Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#convergence-criteria-options">Convergence Criteria Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#core-gas-generation">Core Gas Generation</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#energy-and-heat-transfer-options">Energy and Heat Transfer Options</a><ul>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#energy-options">Energy Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#heat-transfer-options">Heat Transfer Options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#explicit-implicit-options">Explicit/Implicit Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#file-control-options">File Control Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#flow-mode-options">Flow Mode Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#global-conditions-for-active-simulation-control">Global Conditions for Active Simulation Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#gravity-and-non-inertial-reference-frame-options">Gravity and Non-Inertial Reference Frame Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#initialization-and-restart-options">Initialization and Restart Options</a><ul>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#initialization-option">Initialization Option</a></li>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#restart-options">Restart Options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#numerical-options">Numerical Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#physical-model-options">Physical Model Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#plot-output-control">Plot Output Control</a><ul>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#active-simulation-control-of-restart-data-interval">Active simulation control of restart data interval</a></li>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#active-simulation-control-of-selected-data-interval">Active simulation control of selected data interval</a></li>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#active-simulation-control-of-history-data-interval">Active simulation control of history data interval</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#pressure-iteration-options">Pressure Iteration Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#print-output-control">Print Output Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#shallow-water-model-options">Shallow Water Model Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#termination-control">Termination Control</a><ul>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#active-simulation-control-of-termination">Active simulation control of termination</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#thermal-die-cycling-options">Thermal Die Cycling Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#time-step-control">Time-Step Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#turbulence-and-viscous-options">Turbulence and Viscous Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#turbulence-equation-coefficients-and-diffusion-parameters">Turbulence Equation Coefficients and Diffusion Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#user-defined-variables">User Defined Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#void-heat-transfer-coefficients">Void Heat Transfer Coefficients</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#solidified-fluid-wall-gap-heat-transfer-properties">Solidified Fluid/Wall Gap Heat Transfer Properties</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="input-variable-summary-units.html#computational-and-print-limits-limits">Computational and Print Limits - LIMITS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#computational-limits">Computational Limits</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#print-limits">Print Limits</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="input-variable-summary-units.html#fluid-properties-namelist-props">Fluid Properties Namelist - PROPS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#cavitation-properties">Cavitation Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#density-properties">Density Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#electrostatic-properties">Electrostatic Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#drift-flux">Drift Flux</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#elastic-and-plastic-properties">Elastic and Plastic Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#fluid-names-and-units-identifiers">Fluid Names and Units Identifiers</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#granular-flow-properties">Granular Flow Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#moisture-fluid-properties-for-isothermal-moisture-drying-model">Moisture Fluid Properties for Isothermal Moisture Drying Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#phase-change-properties">Phase Change Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#segregation-model-parameters">Segregation Model Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#cast-iron-solidification-model-parameters">Cast Iron Solidification Model Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#solidification-properties">Solidification Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#state-equation-properties">State Equation Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#surface-tension-properties">Surface Tension Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#thermal-properties">Thermal Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#viscous-properties">Viscous Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#wall-shear-properties">Wall Shear Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#tabular-property-input">Tabular Property Input</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="input-variable-summary-units.html#scalar-transport-namelist-scalar">Scalar Transport Namelist - SCALAR</a><ul>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#general-and-scalar-advection-parameters">General and Scalar Advection Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#fluid-properties-associated-with-scalars">Fluid Properties Associated with Scalars</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#scalar-electrostatics-electro-osmosis-and-electromechanics-model-parameters">Scalar Electrostatics, Electro-osmosis and Electromechanics Model Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#defect-tracking-parameters-for-lost-foam-and-free-surface-models">Defect Tracking Parameters for Lost Foam and Free-Surface Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#air-entrainment-model-parameters">Air Entrainment Model Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#dissolution-model-parameters">Dissolution Model Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#dynamic-droplet-model-parameters">Dynamic Droplet Model Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#combustible-object-model-parameters">Combustible Object Model Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#microporosity-and-shrinkage-model-parameters">Microporosity and Shrinkage Model Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#filling-time">Filling Time</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#non-condensable-gas-model-parameters">Non-condensable Gas Model Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#cavitation-potential-model">Cavitation Potential Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#binary-alloy-segregation-parameters">Binary Alloy Segregation Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#fluid-residence-time">Fluid Residence Time</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#spray-cooling-for-thermal-die-cycling">Spray Cooling (for thermal die cycling)</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#tracers">Tracers</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#wall-contact-time-with-fluid">Wall Contact Time with Fluid</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#gas-pressure-and-venting-efficiency">Gas pressure and Venting Efficiency</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#distance-traveled-by-fluid">Distance Traveled by Fluid</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#vaporization-residue-parameters">Vaporization Residue Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#sedimentation-scour-parameters">Sedimentation &amp; Scour Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#sludge-settling-model-parameters">Sludge Settling Model Parameters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="input-variable-summary-units.html#reaction-kinetics-namelist-chm">Reaction Kinetics Namelist - CHM</a><ul>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#reaction-kinetics-parameters">Reaction Kinetics Parameters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="input-variable-summary-units.html#rigid-body-namelist-rbdata">Rigid Body Namelist - RBDATA</a><ul>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#rigid-body-dynamics-numerical-options">Rigid Body Dynamics Numerical Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#rigid-body-dynamics-initial-conditions">Rigid Body Dynamics Initial Conditions</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#rigid-body-dynamics-properties">Rigid Body Dynamics Properties</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="input-variable-summary-units.html#mesh-boundary-condition-namelist-bcdata">Mesh Boundary Condition Namelist - BCDATA</a><ul>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#boundary-condition-types-and-time-table">Boundary Condition Types and Time Table</a><ul>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#boundary-condition-types">Boundary Condition Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#boundary-condition-time-table">Boundary Condition Time Table</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#boundary-elastic-stresses">Boundary Elastic Stresses</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#boundary-electric-charge-density">Boundary Electric Charge Density</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#boundary-entrained-air-volume-fraction">Boundary Entrained Air Volume Fraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#boundary-dissolved-solute-concentration">Boundary Dissolved Solute Concentration</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#boundary-dynamic-droplet-size">Boundary Dynamic Droplet Size</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#boundary-external-potential">Boundary External Potential</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#boundary-fluid-fraction">Boundary Fluid Fraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#boundary-fluid-density">Boundary Fluid Density</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#boundary-non-condensable-gas-volume-fractions">Boundary Non-condensable Gas Volume Fractions</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#boundary-pressure">Boundary Pressure</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#boundary-scalar-concentration">Boundary Scalar Concentration</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#boundary-sediment-concentration">Boundary Sediment Concentration</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#boundary-segregation-solute-mass-concentrations">Boundary Segregation Solute Mass Concentrations</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#boundary-sludge-settling">Boundary Sludge Settling</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#boundary-temperature-and-wall-power">Boundary Temperature and Wall Power</a><ul>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#boundary-wall-power">Boundary Wall Power</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#boundary-thermal-properties-and-heat-transfer-coefficients">Boundary Thermal Properties and Heat Transfer Coefficients</a><ul>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#thermalpropertiesivs">Thermal Properties</a></li>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#heat-transfer-coefficients">Heat Transfer Coefficients</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#boundary-turbulence-and-dissipation">Boundary Turbulence and Dissipation</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#boundary-velocity">Boundary Velocity</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#outflow-boundary-options">Outflow Boundary Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#linear-surface-wave-boundary-options">Linear Surface Wave Boundary Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#non-linear-surface-wave-boundary-options">Non-linear Surface Wave Boundary Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#random-wave-boundary-condition">Random Wave Boundary Condition</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#rating-curve-and-natural-inlet-boundary-condition">Rating curve and natural inlet boundary condition</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#boundary-flow-rate">Boundary Flow Rate</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#active-simulation-control-of-boundary-conditions">Active simulation control of boundary conditions</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#wave-absorbing-layer">Wave Absorbing Layer</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="input-variable-summary-units.html#mesh-namelist-mesh">Mesh Namelist - MESH</a><ul>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#mesh-generator">Mesh Generator</a><ul>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#uniform-mesh-specifications">Uniform Mesh Specifications</a></li>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#number-of-cells-in-specified-directions">Number of Cells in Specified Directions</a></li>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#grid-plane-location">Grid Plane Location</a></li>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#grid-location-specifications">Grid Location Specifications</a></li>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#partially-overlapping-mesh-specifications">Partially Overlapping Mesh Specifications</a></li>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#conforming-mesh-specifications">Conforming Mesh Specifications</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="input-variable-summary-units.html#component-setup-namelist-obs">Component Setup Namelist -  OBS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#component-general-parameters">Component: General Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#subcomponents-general-parameters">Subcomponents: General Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#subcomponents-limiters">Subcomponents: Limiters</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#subcomponents-function-coefficients">Subcomponents: Function Coefficients</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#subcomponents-transformations">Subcomponents: Transformations</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#subcomponents-cooling-channel">Subcomponents: Cooling Channel</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#component-transformations-parameters">Component Transformations: Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#component-copy-parameters">Component Copy: Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#component-properties-contact-angle-and-roughness">Component Properties: Contact Angle and Roughness</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#component-properties-electrostatic-and-electroosmotic-potential-joule-heating">Component Properties: Electrostatic and Electroosmotic Potential, Joule Heating</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#component-properties-heat-transfer-coefficients">Component Properties: Heat Transfer Coefficients</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#component-properties-lost-foam-casting-model-parameters">Component Properties: Lost Foam Casting Model Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#component-properties-contact-time-with-fluid">Component Properties: Contact Time with Fluid</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#component-properties-spray-cooling-for-thermal-die-cycling">Component Properties: Spray Cooling for thermal die cycling</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#component-properties-dissolving-components">Component Properties: Dissolving Components</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#component-properties-combustible-components">Component Properties: Combustible Components</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#component-properties-vents">Component Properties: Vents</a><ul>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#active-simulation-control-of-vents">Active simulation control of vents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#component-properties-mass-sources">Component Properties: Mass Sources</a><ul>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#active-simulation-control-of-mass-sources">Active simulation control of mass sources</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#component-properties-moisture-drying-model">Component Properties: Moisture Drying Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#component-properties-fluid-structure-interaction-fsi-model">Component Properties: Fluid-Structure Interaction (FSI) Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#component-properties-thermal-stress-evolution-tse-model">Component Properties: Thermal Stress Evolution (TSE) Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#component-properties-general-moving-objects-gmo">Component Properties: General Moving Objects (GMO)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#active-simulation-control-of-general-moving-objects-gmo">Active simulation control of general moving objects (GMO)</a></li>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#pq2-analysis">PQ<sup>2</sup> Analysis</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#component-properties-squeeze-pins">Component Properties: Squeeze Pins</a><ul>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#active-simulation-control-of-squeeze-pin-activation">Active simulation control of squeeze pin activation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#elastic-springs-ropes-and-mooring-lines">Elastic Springs, Ropes and Mooring Lines</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#component-properties-sediment-scour-component-parameters">Component Properties: Sediment Scour Component Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#component-properties-shallow-water">Component Properties: Shallow Water</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#component-properties-simple-moving-objects">Component Properties: Simple Moving Objects</a><ul>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#moving-web-components">Moving Web Components</a></li>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#spinning-components">Spinning Components</a></li>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#fan-or-impeller-components">Fan or Impeller Components</a></li>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#linear-motion-for-continuous-casting">Linear Motion for Continuous Casting</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#component-properties-particles">Component Properties: Particles</a><ul>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#output-sampling-volumes">Output: Sampling Volumes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#component-properties-deforming-components">Component Properties: Deforming Components</a><ul>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#elastic-membrane">Elastic Membrane</a></li>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#elastic-wall">Elastic Wall</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#component-properties-porous-components">Component Properties: Porous Components</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#capillary-pressure">Capillary Pressure</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#component-properties-temperature-and-power">Component Properties: Temperature and Power</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#tabularpropertyinputivs">Tabular Property Input</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#component-properties-thermal-and-heat-transfer">Component Properties: Thermal and Heat Transfer</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#component-properties-sand-core-gas">Component Properties: Sand Core Gas</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#component-properties-permeable-mold">Component Properties: Permeable Mold</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#component-properties-thermal-die-cycling">Component Properties: Thermal Die Cycling</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#component-properties-wave-absorbing">Component Properties: Wave Absorbing</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#component-properties-shell-mold">Component Properties: Shell Mold</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="input-variable-summary-units.html#initial-conditions-namelist-fl">Initial Conditions Namelist - FL</a><ul>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#initial-conditions-uniform">Initial Conditions: Uniform</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#initial-conditions-general-region-parameters">Initial Conditions: General Region Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#initial-conditions-region-values">Initial Conditions: Region Values</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#initial-conditions-region-limiters">Initial Conditions: Region Limiters</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#initial-conditions-sludge-settling">Initial Conditions: Sludge Settling</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#initial-conditions-region-function-coefficients">Initial Conditions: Region Function Coefficients</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#initial-conditions-region-transformations">Initial Conditions: Region Transformations</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#initial-conditions-pointers">Initial Conditions: Pointers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#initial-conditions">Initial Conditions</a></li>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#void-properties-heat-transfer">Void Properties / Heat Transfer</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#initial-conditions-valves">Initial Conditions: Valves</a><ul>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#active-simulation-control-of-valves">Active simulation control of valves</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#deep-water-velocity-for-mooring-line-model">Deep Water Velocity for Mooring Line Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#wind-shear">Wind Shear</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#fluid-droplet-bubble-sources">Fluid Droplet/Bubble Sources</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="input-variable-summary-units.html#baffle-namelist-bf">Baffle Namelist - BF</a><ul>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#baffle-setup">Baffle Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#baffle-properties-heat-transfer-coefficients">Baffle Properties: Heat Transfer Coefficients</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#baffle-properties-porous-properties">Baffle Properties: Porous Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#baffle-properties-flux-surfaces">Baffle Properties: Flux Surfaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#baffle-regions-baffle-location">Baffle Regions: Baffle Location</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#baffle-regions-function-coefficients">Baffle Regions: Function Coefficients</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#baffle-regions-general-parameters">Baffle Regions: General Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#baffle-regions-limiters">Baffle Regions: Limiters</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#baffle-regions-transformations">Baffle Regions: Transformations</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#baffles-general-parameters">Baffles: General Parameters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="input-variable-summary-units.html#non-inertial-reference-frame-namelist-motn">Non-Inertial Reference Frame Namelist - MOTN</a><ul>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#non-inertial-reference-frame-general-parameters">Non-Inertial Reference Frame: General Parameters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#center-of-rotation">Center of Rotation</a></li>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#non-inertial-reference-frame-type">Non-Inertial Reference Frame Type</a></li>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#rigid-body-dynamics-force-flag">Rigid Body Dynamics Force Flag</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#non-inertial-reference-frame-simple-spin-and-shake-model">Non-Inertial Reference Frame: Simple Spin and Shake Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#non-inertial-reference-frame-gravity-field">Non-Inertial Reference Frame: Gravity Field</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#non-inertial-reference-frame-sinusoidal-6-degree-of-freedom-model">Non-Inertial Reference Frame: Sinusoidal 6 Degree-of-Freedom Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#non-inertial-reference-frame-tabular-data">Non-Inertial Reference Frame: Tabular Data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#tabular-data-conversion-factors">Tabular Data Conversion Factors</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#non-inertial-reference-frame-rigid-body-control-forces">Non-Inertial Reference Frame: Rigid Body Control Forces</a><ul>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#radial-oscillator-control-forces-iatype-1">Radial Oscillator Control Forces (IATYPE = 1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#angular-oscillator-control-forces-iatype-2">Angular Oscillator Control Forces (IATYPE = 2)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#non-inertial-reference-frame-geophysical-fluid-flow">Non-Inertial Reference Frame: Geophysical Fluid Flow</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="input-variable-summary-units.html#graphic-output-namelist-grafic">Graphic Output Namelist - GRAFIC</a><ul>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#graphic-output-default-color-flag-and-symmetry-reflections">Graphic Output: Default Color Flag and Symmetry Reflections</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#graphic-output-selected-data">Graphic Output: Selected Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#graphic-output-contour-plots">Graphic Output: Contour Plots</a><ul>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#variable-specification">Variable Specification</a></li>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#plot-specification">Plot Specification</a></li>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#data-limits">Data Limits</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#graphic-output-export-data">Graphic Output: Export Data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#id5">Variable Specification</a></li>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#format-specification">Format Specification</a></li>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#index-6643">Data Limits</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#graphic-output-history-probes">Graphic Output: History Probes</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#graphic-output-iso-surface-plots">Graphic Output: Iso-Surface Plots</a><ul>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#id7">Variable Specification</a></li>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#id8">Plot Specification</a></li>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#id9">Data Limits</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#graphic-output-particle-plots">Graphic Output: Particle Plots</a><ul>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#id10">Variable Specification</a></li>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#id11">Plot Specification</a></li>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#id12">Data Limits</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#graphic-output-pre-processor-geometry-plots">Graphic Output: Pre-processor Geometry Plots</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#graphic-output-velocity-vector-plots">Graphic Output: Velocity Vector Plots</a><ul>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#id13">Variable Specification</a></li>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#id14">Plot Specification</a></li>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#id15">Data Limits</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#graphic-output-viewpoint-specification">Graphic Output: Viewpoint Specification</a><ul>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#id16">Variable Specification</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="input-variable-summary-units.html#renderspace-namelist-renderspace">Renderspace Namelist - RENDERSPACE</a></li>
<li class="toctree-l2"><a class="reference internal" href="input-variable-summary-units.html#header-namelist-header">Header Namelist - HEADER</a></li>
<li class="toctree-l2"><a class="reference internal" href="input-variable-summary-units.html#particle-setup-namelist-parts">Particle Setup Namelist - PARTS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#particle-setup-general-particle-data">Particle Setup: General Particle Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#particle-setup-block-initialized-particles">Particle Setup: Block Initialized Particles</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#particle-setup-source-initialized-particles">Particle Setup: Source Initialized Particles</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#particle-setup-history-particles">Particle Setup: History Particles</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#particle-setup-mass-momentum-sources">Particle Setup: Mass-Momentum Sources</a></li>
<li class="toctree-l3"><a class="reference internal" href="input-variable-summary-units.html#particle-classes">Particle Classes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#marker-particles">Marker Particles</a></li>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#mass-particles">Mass Particles</a></li>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#fluid-particles">Fluid Particles</a></li>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#gas-particles">Gas Particles</a></li>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#void-particles">Void Particles</a></li>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#user-particles">User Particles</a></li>
<li class="toctree-l4"><a class="reference internal" href="input-variable-summary-units.html#active-simulation-control-of-mass-momentum-sources">Active simulation control of mass-momentum sources</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="input-variable-summary-units.html#spray-cooling-namelist-spray">Spray Cooling Namelist - SPRAY</a></li>
<li class="toctree-l2"><a class="reference internal" href="input-variable-summary-units.html#user-defined-namelist-usrdat">User Defined Namelist - USRDAT</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="customization.html">Customization</a><ul>
<li class="toctree-l2"><a class="reference internal" href="customization.html#general-customization-information">General Customization Information</a></li>
<li class="toctree-l2"><a class="reference internal" href="customization.html#customizing-prod-on-windows">Customizing <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> on Windows</a><ul>
<li class="toctree-l3"><a class="reference internal" href="customization.html#visual-studio-solution-files-compiling-and-linking">Visual Studio Solution Files: Compiling and Linking</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization.html#building">Building</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization.html#adding-new-source-files">Adding New Source Files</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="customization.html#customizing-prod-on-linux-platforms">Customizing <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> on Linux Platforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="customization.html#customizable-source-directory-structure">Customizable Source Directory Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="customization.html#fortran-include-statements">FORTRAN Include Statements</a></li>
<li class="toctree-l2"><a class="reference internal" href="customization.html#concept-of-sub-domains">Concept of Sub-domains</a></li>
<li class="toctree-l2"><a class="reference internal" href="customization.html#important-comdeck-files">Important Comdeck Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="customization.html#subroutines-included-in-distribution">Subroutines Included in Distribution</a><ul>
<li class="toctree-l3"><a class="reference internal" href="customization.html#user-customizable-namelist">User Customizable Namelist</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization.html#boundary-conditions">Boundary Conditions</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization.html#fluid-properties">Fluid Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization.html#general-moving-objects-gmo-model">General Moving Objects (GMO) Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization.html#vapor-properties">Vapor Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization.html#cavitation-model">Cavitation Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization.html#component-thermal-properties">Component Thermal Properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization.html#component-and-subcomponent-definitions">Component and Subcomponent Definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization.html#heat-transfer-coefficients">Heat Transfer Coefficients</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization.html#mass-transfer-coefficients">Mass Transfer Coefficients</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization.html#phase-change-mass-flux">Phase Change Mass Flux</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization.html#dynamic-droplet-size-in-two-phase-drift-flux-model">Dynamic Droplet Size in Two-Phase Drift-flux Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization.html#sludge-settling-velocity">Sludge Settling Velocity</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization.html#drag-porous-media-model">Drag/Porous Media Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization.html#bottom-shear-stress-in-shallow-water-model">Bottom Shear Stress in Shallow Water Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization.html#mass-source-model">Mass Source Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization.html#turbulence-models">Turbulence Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization.html#sediment-scour-model">Sediment Scour Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization.html#combustible-object-model">Combustible Object Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization.html#elasto-visco-plastic-fluids">Elasto-visco-plastic Fluids</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization.html#fluid-structure-interaction-fsi-and-thermal-stress-evolution-tse-models">Fluid-structure Interaction (FSI) and Thermal Stress Evolution (TSE) Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization.html#electro-mechanics-model">Electro-mechanics Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization.html#non-inertial-reference-frame-nirf-model">Non-Inertial Reference Frame (NIRF) Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization.html#lagrangian-particle-model">Lagrangian Particle Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization.html#special-models">Special Models</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="customization.html#important-variables">Important Variables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="customization.html#existing-variables">Existing Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization.html#dummy-variables">Dummy Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization.html#user-definable-variables">User Definable Variables</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="customization.html#sample-customizations">Sample Customizations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="customization.html#customizing-region-functions-in-the-preprocessor">Customizing Region Functions in the Preprocessor</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization.html#customizing-boundary-conditions-in-subroutine-bc">Customizing Boundary Conditions in Subroutine BC</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization.html#example-velocity-at-bottom-boundary-as-a-function-of-time-and-space">Example: Velocity at Bottom Boundary as a Function of Time and Space</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization.html#adding-new-models-at-the-end-of-a-time-cycle">Adding New Models at the End of a Time Cycle</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization.html#example-counting-particle-concentration-in-mesh-cells">Example: Counting Particle Concentration in Mesh Cells</a></li>
<li class="toctree-l3"><a class="reference internal" href="customization.html#user-particles">User Particles</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">Utilities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="utilities.html#tools-for-file-conversion-and-checking-stl-quality">Tools for file conversion and checking STL quality</a><ul>
<li class="toctree-l3"><a class="reference internal" href="utilities.html#cad2stl">Cad2Stl</a></li>
<li class="toctree-l3"><a class="reference internal" href="utilities.html#qadmesh">qAdmesh</a></li>
<li class="toctree-l3"><a class="reference internal" href="utilities.html#minimagics">MiniMagics</a></li>
<li class="toctree-l3"><a class="reference internal" href="utilities.html#topo2stl">Topo2STL</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="utilities.html#finite-element-mesh-file-format-conversion-with-fsai">Finite Element Mesh File Format Conversion with FSAI</a></li>
<li class="toctree-l2"><a class="reference internal" href="utilities.html#calculators">Calculators</a></li>
<li class="toctree-l2"><a class="reference internal" href="utilities.html#material-properties-database-mpdb-expansion">Material Properties Database (MPDB) Expansion</a></li>
<li class="toctree-l2"><a class="reference internal" href="utilities.html#editing-the-flsgrf-file-with-grfedit">Editing the flsgrf file with grfedit</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Glossary and Bibliography</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="zbibliography.html">Bibliography</a></li>
</ul>
<p class="caption"><span class="caption-text">License Agreements and Feedback</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="eula.html">End User License Agreement</a></li>
<li class="toctree-l1"><a class="reference internal" href="eula.html#supplemental-license-agreements">Supplemental License Agreements</a><ul>
<li class="toctree-l2"><a class="reference internal" href="eula.html#exodus-ii-library">EXODUS II Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="eula.html#netcdf-library">NETCDF Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="eula.html#hdf5-library">HDF5 Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="eula.html#curl-library">cURL Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="eula.html#material-properties-by-ken-mills">Material Properties by Ken Mills</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="user-feedback.html">User Feedback</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html"><strong><em>FLOW-3D</em></strong> User Manual</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html"><strong><em>FLOW-3D</em></strong> User Manual</a> &raquo;</li>
        
      <li>Model Reference</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="model-reference">
<span id="index-0"></span><h1>Model Reference<a class="headerlink" href="#model-reference" title="Permalink to this headline">¶</a></h1>
<p id="index-1">In this chapter, <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> models and options are described. Most of the models
and options can be activated using the <abbr title="Graphical Users Interface">GUI</abbr>.  However, some may be activated only by editing the
<code class="file docutils literal notranslate"><span class="pre">prepin.*</span></code> file in the GUI text editor. Tool tips are also included on
most of the GUI panels, telling the user the variable names and values that
are being set in the simulation input file.</p>
<p>Options that are inaccessible from the GUI are described in terms of the input
variables found in the <code class="file docutils literal notranslate"><span class="pre">prepin.*</span></code> file. Full descriptions of
these variables can be found in the <a class="reference internal" href="input-variable-summary-units.html"><span class="doc">Input Variable Summary</span></a> chapter of this
manual. To access the GUI text editor, in the <span class="guilabel">Simulation Manager</span> tab
right-click on the simulation name and then click <span class="guilabel">Edit simulation…</span>.
Alternatively, the keyboard shortcut <span class="guilabel">Ctrl+E</span> can be used.
All models and options may be activated by
editing the <code class="file docutils literal notranslate"><span class="pre">prepin.*</span></code> file.</p>
<span class="target" id="index-2"></span><span class="target" id="index-3"></span><div class="section" id="active-simulation-control">
<span id="activesimulationcontrolmr"></span><span id="index-4"></span><h2>Active Simulation Control<a class="headerlink" href="#active-simulation-control" title="Permalink to this headline">¶</a></h2>
<div class="section" id="description-and-usage">
<span id="index-5"></span><h3>Description and Usage<a class="headerlink" href="#description-and-usage" title="Permalink to this headline">¶</a></h3>
<p>Active simulation control is designed to actively control the behavior of
objects (components, boundary conditions, etc.) using <span class="guilabel">Events</span>,
which are groups of actions that triggered by groups of conditions.  To
clarify the terminology:</p>
<ul>
<li><p class="first"><strong>Object</strong>:  An entity in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> with adjustable properties.
This would include moving components, boundary conditions, sources,
squeeze pins, and output data.</p>
</li>
<li><p class="first"><strong>Condition</strong>:  A logical condition based on information from a
history probe that can be evaluated as true or false.  For example,
<img class="math" src="_images/math/7e6a989489a6cf29ae9fb367c6c0ecd5d969fd75.png" alt="T \leq 300K" style="vertical-align: -3px"/>, or <img class="math" src="_images/math/98ef576a927c2dde4b4c7b183b49a809d474bc07.png" alt="U &gt; 10 m/sec" style="vertical-align: -5px"/>.</p>
</li>
<li><p class="first"><strong>Action</strong>:  An action is a change in one of the properties of an object,
e.g. a flow rate or a velocity.</p>
</li>
<li><p class="first"><strong>Event</strong>:  An event is an occurrence that changes the status or properties of
the specified object, triggered by one or more conditions. For example,
an event for a moving component could be:</p>
<ul class="simple">
<li>Conditions: if <img class="math" src="_images/math/7e6a989489a6cf29ae9fb367c6c0ecd5d969fd75.png" alt="T \leq 300K" style="vertical-align: -3px"/> or <img class="math" src="_images/math/98ef576a927c2dde4b4c7b183b49a809d474bc07.png" alt="U &gt; 10 m/sec" style="vertical-align: -5px"/>.</li>
<li>Actions:  Reduce the angular velocity of the moving component.</li>
</ul>
<p>In pseudo-code an event is basically an <code class="docutils literal notranslate"><span class="pre">if</span></code> statement:</p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">if</span><span class="p">(</span><span class="n">T</span> <span class="o">&lt;=</span> <span class="mi">300</span> <span class="nb">or </span><span class="n">U</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">)</span> <span class="k">then</span>
<span class="k">  </span><span class="n">Reduce</span> <span class="n">angular</span> <span class="n">velocity</span> <span class="n">of</span> <span class="n">the</span> <span class="n">moving</span> <span class="n">object</span>
<span class="n">endif</span>
</pre></div>
</div>
</li>
</ul>
<p>Some other examples of the active simulation control events are:</p>
<ul class="simple">
<li>Turning on a vent when the pressure at a probe exceeds a specified value</li>
<li>Triggering the motion of an object when fluid reaches a probe
(e.g. increasing the plunger action
from slow to fast in high pressure die casting when metal reaches the gates)</li>
<li>Opening or closing the dam gates or similar structures</li>
<li>Controlling the addition of metal in gravity casting to stop pouring
after metal reaches a particular height in the pour basin or
in the sprue to avoid spilling, etc.</li>
</ul>
<p>Events are associated with components, boundary conditions, or other objects.
One object can have multiple events and each event contains one or multiple
probe conditions, and one or multiple actions, depending on the nature of the
object. For example, an event changing a boundary condition can contain two
actions: one is to change the pressure at the boundary, another is to change
the temperature at the boundary.</p>
<p>Any probe can be used for defining the probe conditions. If multiple probe
conditions are present, the logic between the probe conditions needs to be
specified. Currently only <span class="menuselection">All</span> (i.e. an <code class="docutils literal notranslate"><span class="pre">and</span></code> statement) or
<span class="menuselection">Any</span> (i.e. an <code class="docutils literal notranslate"><span class="pre">or</span></code> statement) are allowed. If
<span class="menuselection">All</span> is specified, then all probe conditions have to be
satisfied to trigger the event. On the other hand, if <span class="menuselection">Any</span> is
specified, then any probe condition is satisfied will trigger the event.</p>
<p>One condition or a group of conditions may trigger several different events on
different objects. To simplify the input and avoid errors, these conditions
can be defined as global conditions, which are available to all events
for all objects. Similarly, conditions defined for each event are called
local conditions.</p>
<p>Actions can change time-dependent properties and all properties that are time
dependent in the original settings remain time dependent when the action is
triggered. These time-dependent properties share the same time table in the
input file but the triggered action will start from <img class="math" src="_images/math/471367fa3c85c2a5afe2b93234d230b8d533e1cd.png" alt="t=0" style="vertical-align: 0px"/> in the time
table (i.e., the time the action is activated is regarded as time “zero” for
the action) regardless of the simulation time. Also, active simulation control
supports time dependent data from external files; the external files are
specified the same way as in the original definitions.</p>
<p>Multiple events can be triggered for one object at one time step if their
conditions are all satisfied. Once an event is triggered all of its actions will
be activated and their status be kept until the same action is activated by
another event (not itself). That means, even if another event is triggered for
the same object, the actions associated with the current triggering event may
still be active, unless the newly triggered event contains the same action. If
multiple events triggered at the same time contains the same action, the
action associated property defined in the last triggered event will be used.</p>
<p>Active simulation control events have been implemented for the following objects:</p>
<ol class="arabic simple">
<li>Cooling channel on/off</li>
<li>Termination of the simulation</li>
<li>Squeeze pin activation: probe variables are limited to the fluid temperature and solid fraction</li>
<li>Valves/vents: turn off or change the external pressure and/or temperature</li>
<li>Mass-momentum sources: change the flow rate and/or fluid velocities</li>
<li>Mass sources: change the flow rate</li>
<li>GMO: prescribed motion only, change translational and angular velocities</li>
<li>Boundary conditions: change pressure, temperature, velocity, volume flow rate and/or flow velocities</li>
<li>Output control: change output intervals for restart, history and selected data</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Active simulation control events also support time-dependent data from external files.</p>
</div>
</div>
<div class="section" id="model-setup">
<span id="index-6"></span><h3>Model Setup<a class="headerlink" href="#model-setup" title="Permalink to this headline">¶</a></h3>
<p>Global conditions can be defined by clicking on the Global
conditions button <a class="reference internal" href="_images/Global_Conditions.png"><img alt="globalconditions_icon" src="_images/Global_Conditions.png" style="width: 0.25in;" /></a> on the settings toolbar, which will
bring up the global condition definition window.</p>
<blockquote>
<div><a class="reference internal image-reference" href="_images/ModelReference_GlobalConditions_v12.JPG"><img alt="global-condition-definition" src="_images/ModelReference_GlobalConditions_v12.JPG" style="width: 762.3px; height: 422.4px;" /></a>
</div></blockquote>
<p>At most 10 global conditions can be defined, and for each global condition,
maximum of 10 probe conditions can be defined. For each probe condition, first
select an existing history probe from the <span class="guilabel">Probe ID</span> drop down box.
Then select the desired variable from <span class="guilabel">Probe Variable Name</span> drop
down box, keeping in mind that the available variables depend on the active
models. The <span class="guilabel">Relational Operator</span> and <span class="guilabel">Critical Value</span>
then needs to be specified to complete a probe condition definition. In
additional, <span class="guilabel">Use Absolute Value</span> can be specified to use absolute
variable value returned by the probe for logical comparison. <span class="guilabel">Time Delay</span>
specifies the time duration after the logic is satisfied to trigger the
condition. Each probe condition can be enabled or disabled. If multiple
enabled probe conditions are present, the <span class="guilabel">Global condition logic</span>
needs to be specified. Only <span class="menuselection">All</span> or <span class="menuselection">Any</span> are allowed. If <span class="menuselection">All</span> is specified, then
all enabled probe conditions have to be satisfied to trigger the global
condition. On the other hand, if <span class="menuselection">Any</span> is specified, then any enabled probe
condition is satisfied will trigger the global condition. If no probe
conditions are defined or all probe conditions are disabled, the global
condition will be disabled.</p>
<p>During the computation, whenever a global condition is triggered, a message
will be written to the screen, <code class="file docutils literal notranslate"><span class="pre">hd3msg.*</span></code>, <code class="file docutils literal notranslate"><span class="pre">hd3out.*</span></code>, and
<code class="file docutils literal notranslate"><span class="pre">report.*</span></code> files. The message includes the triggering time, cycle
number, global condition number, and global condition name.</p>
<blockquote>
<div><a class="reference internal image-reference" href="_images/probe-event-global-condition-trigger-message.png"><img alt="probe-event-global-condition-trigger-message" src="_images/probe-event-global-condition-trigger-message.png" style="width: 613.14px; height: 36.3px;" /></a>
</div></blockquote>
<p>If a global condition is triggered, all events that choose to use the global
condition will be triggered.</p>
<p>The event definition is associated with each corresponding object that the
event is acting on. Generally, for each eligible object there is an
<span class="guilabel">Events</span> button either beside it, or on its property definition
panel. Click on the button will bring up the event definition window.</p>
<blockquote>
<div><img alt="probe-event-button" src="_images/ModelReference_EventButtons_v12.jpg" />
</div></blockquote>
<p>For each event, the setup includes local probe condition definition or global
condition selection, action and related property definition. If choose to use
global condition, then a global condition can be selected from predefined
global condition dropdown box. If choose to use local conditions, maximum of
10 local probe conditions can be defined for each event. The definition of
local probe conditions is the same as the definition of global probe
conditions. If choose to use global condition, but no global condition is
selected or the selected global condition is disabled, the event will be
disabled. If choose to use local conditions but no local probe conditions are
defined or all local probe conditions are disabled, the event will be disabled
too.</p>
<blockquote>
<div><img alt="probe-event-definition" src="_images/ModelReference_GMOEvents_v12.JPG" />
</div></blockquote>
<p>The available actions are different depending on the nature of the object. For
example, the available actions for valves are: <span class="guilabel">Off</span> to turn off the
valve, <span class="guilabel">Valve pressure</span> to adjust the external pressure at the
valve, and <span class="guilabel">Valve temperature</span> to adjust the external temperature at
the valve. However, the action <span class="guilabel">Off</span> cannot be used together with
the other two actions since <span class="guilabel">Valve pressure</span> and <span class="guilabel">Valve
temperature</span> will have no meaning since a closed valve does not need to
consider external pressure and temperature.</p>
<blockquote>
<div><img alt="probe-event-action-valve" src="_images/probe-event-action-valve.png" />
</div></blockquote>
<p>For another example, only one action is allowed for active simulation control
of restart output because it only the restart data output interval can be
changed. However, there are two options from the <span class="guilabel">Select an Action</span>
drop down box. But the available section will be dependent on the
<span class="guilabel">Basis for Output</span>. If <span class="guilabel">Time</span> is chosen, the action
<span class="guilabel">Time Interval</span> will be available. If <span class="guilabel">Fill fraction</span> or
<span class="guilabel">Solidification fraction</span> is chosen, then action
<span class="guilabel">Fill/Solid fraction</span> will be available.</p>
<blockquote>
<div><img alt="probe-event-action-restart" src="_images/probe-event-action-restart.png" />
</div></blockquote>
<p>Once an action is chosen, the corresponding action property needs to be
specified. If the property is time dependent, a time dependent table can be
defined, similar as other general time dependent variables. Time dependent
table from external files are also supported. If no actions are defined or the
defined actions are invalid, the event will be disabled.</p>
<p>More events can be added by clicking on <span class="guilabel">Add Event</span> tab.</p>
<p>Since active simulation control events are defined on corresponding objects,
it is not straightforward to know how many events are defined for each object,
and what the actions will be triggered by the events. To make it convenient
for events management, all active events can be displayed in one window by
clicking <span class="guilabel">Show active probe events</span> icon on the toolbar of the
<span class="menuselection">Model Setup</span> window.</p>
<blockquote>
<div><img alt="active-probe-events-icon" src="_images/active-probe-events-icon.png" />
</div></blockquote>
<p>In the popup window, all active events are displayed in a table, which are
grouped by probe conditions. The probe id, event object, event, probe
variable, and event action are all shown in the table for each probe
condition. The table gives users a global view of active simulation control
events in terms of probes and probe conditions.</p>
<blockquote>
<div><img alt="active-probe-events" src="_images/active-probe-events.png" />
</div></blockquote>
<p>During the computation, whenever a new event is triggered, a message will be
written to the screen, <code class="file docutils literal notranslate"><span class="pre">hd3msg.*</span></code>, <code class="file docutils literal notranslate"><span class="pre">hd3out.*</span></code>, and <code class="file docutils literal notranslate"><span class="pre">report.*</span></code>
files. The message includes the triggering time, cycle number, action name,
event number, and event name. Depending on the actions defined in the event,
corresponding new properties are applied to the associated objects.</p>
<blockquote>
<div><img alt="probe-event-trigger-message" src="_images/probe-event-trigger-message.png" />
</div></blockquote>
</div>
<div class="section" id="restart">
<span id="index-7"></span><h3>Restart<a class="headerlink" href="#restart" title="Permalink to this headline">¶</a></h3>
<p>For restart simulation, there is an option to choose if event status needs to
be maintained. if choose to maintain the event status, once a triggered event
is found in the restart source, a message will also be written to the
corresponding files. Note that if time is reset to zero at restart, the event
time will also be reset to zero, to be consistent with global restart setting.</p>
<blockquote>
<div><img alt="probe-event-restart-options" src="_images/probe-event-restart-options.png" />
</div></blockquote>
<p>Since active simulation control events are acting on specific objects, in order to
maintain correct event status for restart, certain rules have to be followed:</p>
<ol class="arabic simple">
<li>The definition of the object whose status has been changed by events has to be the same as in restart source, especially its order on the corresponding object tree, and its time table.</li>
<li>The definition of the event which triggers the object status change has to be the same as in restart source, including its order in the event list, unless all events for the corresponding object are removed for restart, in which case the status of the object will be kept unchanged as in restart source.</li>
<li>If an object status has been changed in restart source, and the new properties are specified from external files, the corresponding events that triggering the changes have to be defined, and have to contain the same external files.</li>
</ol>
<p>The cooling channel on/off status and the squeeze pin activation status are always maintained for restart.</p>
<span class="target" id="index-8"></span></div>
</div>
<div class="section" id="adiabatic-bubbles">
<span id="adiabaticbubblesmr"></span><span id="index-9"></span><h2>Adiabatic Bubbles<a class="headerlink" href="#adiabatic-bubbles" title="Permalink to this headline">¶</a></h2>
<p>In one-fluid, free surface flows, resolved void regions that are surrounded by
fluid are called bubbles.  Bubbles must be resolved by a minimum of three
cells across the diameter of the bubble, though ten cells is a more practical
minimum  requirement for an accurate solution.  The <span class="guilabel">Adiabatic bubbles</span>
option on the <span class="guilabel">Model Setup–&gt;Physics–&gt;Bubble and Phase Change</span>
dialog denotes that the pressure-volume-temperature relationship for the
bubble will follow an adiabatic law.  In this case, the pressure in each bubble
will be inversely proportional to its volume to the power of <span class="guilabel">Gamma</span>.
As such, it requires that the ratio of specific heats, <span class="guilabel">Gamma</span>, is set to
a positive number between 1.28 and 1.67.  Note that there is a special case
when <img class="math" src="_images/math/76bc8fca14b5052bd91bdcf7fca830698c63bc83.png" alt="\gamma = 1" style="vertical-align: -4px"/> that corresponds to isothermal bubbles.</p>
<p>See the <a class="reference internal" href="theory.html#bubbleandoidregionmodelsth"><span class="std std-ref">Bubble and Void Region Models</span></a> section in the <a class="reference internal" href="theory.html"><span class="doc">Theory</span></a> chapter for more details
on the adiabatic approximation.</p>
<img alt="Adiabatic bubbles" src="_images/adiabatic-bubbles_v12-1.JPG" />
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>This bubble models do not apply to bubbles that are in contact
with a specified pressure boundary with fluid fraction equal to zero.
Those void regions always assume the boundary pressure.</li>
<li>The implicit algorithm for computing the bubble pressure is recommended.
It is active by default, but may be changed by modifying the
<span class="guilabel">Bubble pressure</span> selection on the <span class="guilabel">Numerics</span> tab.</li>
</ul>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"> Theory manual section <a class="reference internal" href="theory.html#bubbleandoidregionmodelsth"><span class="std std-ref">Bubble and Void Region Models</span></a></p>
</div>
<span class="target" id="index-10"></span></div>
<div class="section" id="air-entrainment">
<span id="airentrainmentmr"></span><span id="index-11"></span><h2>Air Entrainment<a class="headerlink" href="#air-entrainment" title="Permalink to this headline">¶</a></h2>
<p>In some free-surface flows, gas may be entrained at the free surface due to
turbulence or certain flow conditions, <em>e.g.</em>, an impinging jet. This has a wide
variety of applications, from modeling the flow down a spillway, to bottle
filling and defect prediction in metal casting.</p>
<p>In <span class="raw-html"><strong><em>FLOW-3D </em></strong></span>, the entrainment of gas can be modeled the <span class="guilabel">Air entrainment</span> model.  The
<span class="guilabel">Air entrainment</span> model is activated on the <span class="guilabel">Model Setup–&gt;Physics</span>
widget and estimates the rate at which gas (represented by void regions) is entrained
into the flow using a balance of stabilizing forces
(gravity and surface tension) and destabilizing forces (turbulence). Although
the primary focus of the model is to compute the air entrainment resulting
from turbulent disturbances at a free surface, the model also contains logic
for handling entrainment resulting from laminar jets impinging on a free
surface. Therefore, the model may be used for both laminar and turbulent
cases. When modeling turbulent flows, the <span class="guilabel">Two-equation</span>
<img class="math" src="_images/math/2b783854c9b47d11fafed155d694620b287709cf.png" alt="\left( {k - \varepsilon } \right)" style="vertical-align: -5px"/>,  <span class="guilabel">RNG</span> or
<span class="guilabel">Two-equation</span> <img class="math" src="_images/math/68a50144bf2641ef3506167c3b3bc7adb1a8cd0d.png" alt="\left( {k - \omega } \right)" style="vertical-align: -5px"/>  turbulence models are
recommended. These models can be activated in
<span class="menuselection">Physics ‣ Viscosity and Turbulence</span> and are discussed in more detail in
<a class="reference internal" href="#turbulencesectionmr"><span class="std std-ref">Turbulence</span></a>.</p>
<blockquote>
<div><img alt="Air entrainment" src="_images/air-entrainment.png" />
</div></blockquote>
<p>When using the <span class="guilabel">Air entrainment</span> model, the
<span class="guilabel">Entrainment rate coefficient</span> must be defined to be a positive
value; the default value of 0.5 is a suitable starting point for most cases. The
<span class="guilabel">Surface tension coefficient</span> for fluid can also be defined to
include surface tension in the balance of forces defining the amount of
entrained air. It does not activate the surface tension model.</p>
<p>The air is entrained in terms of volume, then converted to mass using the equation of
state for air, to be tracked within the fluid. When converting it back to volume, the
local fluid temperature and pressure is taken into account, thus thermal and pressure
effects are taken into account in the evaluation of the entrained air volume.</p>
<p>When the adiabatic bubble model is used, the air entrained at the surface of a bubble reduces
its pressure accordingly.</p>
<p>If the heat transfer model is not activated, then
it is necessary to specify an approximate fluid temperature in <span class="guilabel">Reference Temperature</span>
to be used in the gas equation-of-state. Input pressure and temperature values
are automatically transformed by the pre-processor to absolute units in order to make
use of the gas equation-of-state to convert entrained air volume into mass and back.</p>
<p>The <span class="guilabel">Air entrainment</span> model evaluates in each cell and outputs several quantities, namely,
<em>entrained air volume fraction</em>, <em>entrained air mass concentration</em> and <em>air entrainment volume flux</em>,
which are available for post-processing in spatial and history plots. Air volume fraction can also be
defined at boundary conditions as <span class="guilabel">Concentration of air</span> as either a fixed or time-
dependent value when using the <span class="guilabel">Specified pressure</span>,
<span class="guilabel">Wave</span>, <span class="guilabel">Volume flow rate</span>, or <span class="guilabel">Specified velocity</span>
boundary types.  <span class="guilabel">Concentration of air</span> can also be
defined as a fixed value in the <span class="guilabel">Source</span> properties of mass-momentum
sources.</p>
<p>When using the variable density air entrainment model (see below), the density
adjustments for the inflowing fluid are calculated automatically to account
for the combined fluid and air densities. As a result, the specification of
<span class="guilabel">Volume flow rate</span> will be the total volumetric flow rate of the
fluid and entrained air mixture, and should be taken into account by the user
when defining the <span class="guilabel">Concentration of air</span> at boundaries.</p>
<p>In this basic mode, the model acts as a passive addition to the main flow model in
that it does not affect the fluid density and volume. Also, air is not allowed to escape back into atmosphere.
This is sufficient when the amount of entrained air is relatively small (&lt;10% by volume).</p>
<p>Buoyancy effects can be included by selecting the <span class="guilabel">Activate bulking</span> and <span class="guilabel">Activate buoyancy</span>
options and defining the associated parameters.  The <span class="guilabel">Activate bulking</span>
option enables the <span class="guilabel">Density evaluation</span> model to account for the
non-uniform fluid density resulting from the entrained air (see <a class="reference internal" href="#flowwithdensityvariationsmr"><span class="std std-ref">Flows with Density Variations</span></a>).
In this case, input the value for <span class="guilabel">Density of phase #2</span> in the model panel.</p>
<p>The <span class="guilabel">Activate buoyancy</span> option enables the <span class="guilabel">Drift-flux</span>
model to account for the interaction between the two phases. It requires that the
<span class="guilabel">Activate bulking</span> option is already enabled. In this case,
the air bubbles can move within fluid due to the difference in their
densities and affect the fluid motion. See the full description of the model
in <a class="reference internal" href="#driftfluxmr"><span class="std std-ref">Drift Flux</span></a>. The entrained air can also escape back into the void,
as described in <a class="reference internal" href="#escapeofgasmr"><span class="std std-ref">Escape of Gas through a Free Surface</span></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>The reference temperature is required only if heat transfer is not activated in
<span class="menuselection">Model Setup ‣ Physics ‣ Heat Transfer</span>. It should be set to the mean
liquid temperature, rather than gas temperature, as the entrained air temperature is likely
to be dominanted  by it.</li>
</ul>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p></p>
<ul class="last simple">
<li><a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#turbulencesectionmr"><span class="std std-ref">Turbulence</span></a></li>
<li><a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#flowwithdensityvariationsmr"><span class="std std-ref">Flows with Density Variations</span></a></li>
<li><a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#driftfluxmr"><span class="std std-ref">Drift Flux</span></a></li>
<li><a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#escapeofgasmr"><span class="std std-ref">Escape of Gas through a Free Surface</span></a></li>
<li><a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#massmomentumsourcesmr"><span class="std std-ref">Mass-Momentum Sources</span></a></li>
<li>Parameters in <a class="reference internal" href="input-variable-summary-units.html#airentrainmentmodelparameters"><span class="std std-ref">Air Entrainment Model Parameters</span></a>.</li>
<li>TN-61 at <a class="reference external" href="http://users.flow3d.com/technical-notes/">http://users.flow3d.com/technical-notes/</a></li>
</ul>
</div>
<span class="target" id="index-12"></span></div>
<div class="section" id="cavitation-and-bubble-formation-nucleation">
<span id="cavitationbubbleformationmr"></span><span id="index-13"></span><h2>Cavitation and Bubble Formation (Nucleation)<a class="headerlink" href="#cavitation-and-bubble-formation-nucleation" title="Permalink to this headline">¶</a></h2>
<p>There are a few forms of cavitation modeling available in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span>. Inertial,
thermal and potential; 1) When modeling Inertial Cavitation, the formation can
be passive to where voids do not open and the volume fraction of the gas is
tracked using a scalar quantity. Or, an active model can be used which creates
voids that open. 2) Temperature dependent cavitation is for nucleating vapor
due to heat. 3) The Cavitation Potential model does not track the gas quantity
or path advected. Instead it considers the likelihood of cavitation.</p>
<div class="section" id="inertial-cavitation-opening-of-voids-in-high-velocity-flows">
<span id="index-14"></span><h3>Inertial Cavitation: Opening of voids in high-velocity flows<a class="headerlink" href="#inertial-cavitation-opening-of-voids-in-high-velocity-flows" title="Permalink to this headline">¶</a></h3>
<p>Cavitating void regions may open up in fluid when the local pressure drops
below a critical value, the cavitation pressure. The cavitation model is
activated in <span class="menuselection">Physics ‣ Cavitation ‣ Activate cavitation
model</span> and can <strong>only</strong> be used in <em>one-fluid free-surface</em> flows.
<span class="guilabel">Cavitation pressure</span> and <span class="guilabel">Characteristic time for
formation of cavitation bubbles</span> are also set in this dialog.</p>
<blockquote>
<div><img alt="Cavitation" src="_images/cavitation.png" />
</div></blockquote>
<p>To simulate cavitation, select <span class="guilabel">Activate cavitation model</span>.</p>
<p>Next, select either <span class="guilabel">Simplified model</span> or <span class="guilabel">Empirical
model</span>. The former is the default, and simulates the generation of cavitation
wherever the local fluid pressure drops below the <span class="guilabel">Cavitation
pressure</span>. The rate of formation of cavitation bubbles is controlled by the
<span class="guilabel">Characteristic time for formation of cavitation bubbles</span> parameter.
Smaller values for the characteristic time will simulate a more rapid growth
of cavitation (i.e., void regions are more likely to open).</p>
<p>If the <span class="guilabel">Empirical model</span> is selected, a new transport equation is
solved that computes the advection, production and dissipation of the
cavitation volume fraction. The model solves the following:</p>
<div class="math">
<p><img src="_images/math/7c41d8436c71b3ac5938f3b298cabdcfdc6bae04.png" alt="\frac{D V_{\rm{cav}}}{D t} = Cav_{\text{production}} - Cav_{\text{dissipation}}"/></p>
</div><p>where</p>
<div class="math">
<p><img src="_images/math/6d5496f715fd521f6df52bed7461341c9d47244f.png" alt="Cav_{\text{production}} = C_e \frac{E_{\text{turb}}}{\sigma} \rho_l \rho_v \sqrt{ \left[ \frac{2}{3} \frac{P_{\rm{cav}}-P}{\rho_l} \right] } \left( 1 - f_{\rm{cav}} \right)"/></p>
</div><p>and</p>
<div class="math">
<p><img src="_images/math/1dc19e0626f3f30812732b0b9e0617d9c15ddcee.png" alt="Cav_{\text{dissipation}} = C_c \frac{E_{\text{turb}}}{\sigma} {\rho_l}^2 \sqrt{ \left[ \frac{2}{3} \frac{P - P_{\rm{cav}}}{\rho_l} \right] } f_{\rm{cav}}"/></p>
</div><p>Here <img class="math" src="_images/math/6ac72929b2754079db8460fbb28d5df2d1e4f05a.png" alt="V_{\rm{cav}}" style="vertical-align: -3px"/> is the computed cavitation volume fraction, <img class="math" src="_images/math/567bcd0009992e7590f4a0c19b96aca084a06353.png" alt="C_p" style="vertical-align: -6px"/>
is the <span class="guilabel">Cavitation production coefficient</span>, <img class="math" src="_images/math/f9dc34e30994de0d29bec675e0de2b5a7ab00e19.png" alt="C_e" style="vertical-align: -3px"/> is the
<span class="guilabel">Evaporation coefficient</span>, <img class="math" src="_images/math/326ca0bb206059098f514a4041af59caeeb95dfa.png" alt="C_c" style="vertical-align: -3px"/> is the
<span class="guilabel">Condensation coefficient</span>, <img class="math" src="_images/math/65c8c7e86905c4438136ad97057b8b1033b5d764.png" alt="E_{\text{turb}}" style="vertical-align: -3px"/> is the
turbulent kinetic energy (or 10% of the total kinetic energy if no turbulence
model selected), <img class="math" src="_images/math/f2e62171924bac3b973bb702eb391f3d4bb42625.png" alt="\sigma" style="vertical-align: 0px"/> is the <span class="guilabel">Surface tension
coefficient</span>, <img class="math" src="_images/math/dbe69425cfaef9ef89180722fbc065efb4cba951.png" alt="P_{\rm{cav}}" style="vertical-align: -3px"/> is the specified <span class="guilabel">Cavitation
pressure</span>, <img class="math" src="_images/math/c019589f6059cfe1c389d07bb5414a16dae4f3c5.png" alt="P" style="vertical-align: 0px"/> is the local fluid pressure, and <img class="math" src="_images/math/3de18dad67614cfce130c173709fcc4fae48f912.png" alt="f_{\rm{cav}}" style="vertical-align: -4px"/> is the
mass fraction of cavitation in the computational cell, <img class="math" src="_images/math/15710f0f84f2e5d0c5acafb7005136458cc6ae4b.png" alt="\rho_l" style="vertical-align: -4px"/> and
<img class="math" src="_images/math/74fd726660bd705d12bd6ddc62fe490876d6ec73.png" alt="\rho_v" style="vertical-align: -4px"/> are the densitities of the liquid and vapor, respectively.</p>
<p>There are a few inputs for the model:</p>
<ul class="simple">
<li>The selection under <span class="guilabel">Voids</span> controls what <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> does when the
cavitation volume fraction is predicted to exceed 1% of a cell’s volume. If
<span class="guilabel">Passive model</span> is selected, then voids are <strong>not</strong> opened, but the
cavitation volume fraction is predicted and transported throughout the
computational domain. This option is less numerically intensive and requires
less computational time than the <span class="guilabel">Active model</span> (default) option,
whereby void regions <strong>are</strong> opened where the cavitation volume fraction is
predicted to exceed 1% of a cell’s volume. This option uses more computational
resources, but will more accurately predict cavitation because the opening of
voids will relax the fluid pressure in the vicinity, possibly reducing further
cavitation in the surrounding fluid. However, the <span class="guilabel">Passive</span> option
is useful, especially for high pressure die casting where tracking the regions
of greatest cavitation, and where the bubbles are transported are key, yet
keeping CPU time to a minimum is critical.</li>
<li>The <span class="guilabel">Cavitation pressure</span> is constant unless the <span class="guilabel">Thermal
bubbles with phase change</span> option is selected (see <a class="reference internal" href="#tempdepcavitationmr"><span class="std std-ref">Temperature-Dependent Cavitation</span></a>
below), along with energy transport. All cavitating void regions will have the
same pressure and each region is treated as a fixed pressure bubble, with the
pressure equal to specified <span class="guilabel">Cavitation pressure</span>.</li>
<li>The <span class="guilabel">Characteristic time for formation of cavitation bubbles</span>
parameter is needed <strong>only</strong> when the <span class="guilabel">Simplified model</span> option is
selected. It controls the rate at which cavitating bubbles grow. Since the
nucleation of bubbles depends of physics not entirely modeled in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> (number
of nucleation sites, cleanliness of system, etc.), the user needs to provide a
characteristic time in which the bubble size reaches equilibrium with the
surrounding fluid. By default, this time is 5 times the current time step. The
user may specify another value if desired.  However, the greater of the two is
used to minimize numerical noise.</li>
<li>The <span class="guilabel">Surface tension coefficient</span> is a duplicate of same value used
for the <a class="reference internal" href="#surfacetensionmr"><span class="std std-ref">Surface Tension</span></a>, and is needed for the <span class="guilabel">Empirical
model</span>, regardless if the <a class="reference internal" href="#surfacetensionmr"><span class="std std-ref">Surface Tension</span></a> model is turned on. This
represents the physical surface tension coefficient at the typical
temperatures where cavitation is expected.</li>
<li>The <span class="guilabel">Density of cavitation bubbles</span> represents the mean density of
the bubbles that form (at the specified <span class="guilabel">Cavitation pressure</span>); it
is needed <strong>only</strong> for the <span class="guilabel">Empirical model</span> option.</li>
<li>The <span class="guilabel">Cavitation production coefficient</span> is needed <strong>only</strong> for the
<span class="guilabel">Empirical model</span> option and is an empirical coefficient that
controls the production term in the model for cavitation volume fraction (see
<a class="reference internal" href="theory.html#cavitationvoidregionsth"><span class="std std-ref">Cavitating Void Regions</span></a>) whose default value is 0.02. Generally, this
value need not be changed unless you have data to confirm that the model is
over- or under-predicting the rate of cavitation production (ie., the rate at
which cavitation volume fraction grows when the local pressure falls below the
<span class="guilabel">Cavitation pressure</span>).</li>
<li>The <span class="guilabel">Cavitation dissipation coefficient</span> is needed <strong>only</strong> for the
<span class="guilabel">Empirical model</span> options and is an empirical coefficient that
controls the dissipation term in the model for cavitation volume fraction (see
<a class="reference internal" href="theory.html#cavitationvoidregionsth"><span class="std std-ref">Cavitating Void Regions</span></a>) whose default value is 0.01. Again, this value
needed not be changed unless you have data to suggest that the model is over-
or under-predicting the rate of cavitation dissipation (ie., the rate at which
cavitation volume fraction shrinks when the local pressure rises above the
<span class="guilabel">Cavitation pressure</span>).</li>
<li>The <span class="guilabel">Activate cavitation potential model</span> option is independent of
the rest of the cavitation model: its purpose is merely to passively show
where cavitation is most likely to occur within the domain. Cavitating voids
are <strong>not</strong> produced, nor is the cavitation volume fraction tracked as it is
advected throughout the domain. This option can be used with, or separately
from the aforementioned <span class="guilabel">Cavitation model</span>.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>The definition of a reference pressure is strongly recommended
when modeling cavitation.  This can consist of a specified-pressure
boundary condition or a constant pressure void.</li>
<li>If the <span class="guilabel">Empirical model</span> is selected, for better accuracy
it is recommended that a turbulent transport model (see <a class="reference internal" href="#turbulencesectionmr"><span class="std std-ref">Turbulence</span></a>) be used.</li>
</ul>
</div>
</div>
<div class="section" id="temperature-dependent-cavitation">
<span id="tempdepcavitationmr"></span><span id="index-15"></span><h3>Temperature-Dependent Cavitation<a class="headerlink" href="#temperature-dependent-cavitation" title="Permalink to this headline">¶</a></h3>
<p>If the <span class="guilabel">Thermal bubbles with phase change</span> model is activated in
<span class="menuselection">Physics ‣ Bubble and phase change models</span>, the cavitation
pressure becomes a function of the local fluid temperature and computed from
the vapor saturation curve that must be defined in <span class="menuselection">Fluids
‣Properties for‣ Phase Change</span>.  The constant <span class="guilabel">Cavitation pressure</span>
input parameter is <em>not</em> used in this model. The general model should be used
when bubbles are formed by heating the fluid like in thermal bubble printers.</p>
<blockquote>
<div><img alt="Bubble and phase change" src="_images/bubble-and-phase-change_v12-1.JPG" />
</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
<blockquote>
<div><img alt="Cavitation pressure" src="_images/vaporization-at-free-surfaces-phase-change_v12-1.JPG" />
</div></blockquote>
<p>In this case, the <span class="guilabel">Cavitation</span> model is coupled to
the <a class="reference internal" href="#condensationevaporationonefluidthermalbubblesmr"><span class="std std-ref">Phase Change with Thermal Bubbles</span></a>. The value of the phase change
<span class="guilabel">Accommodation coefficient for evaporation</span> and <span class="guilabel">Accommodation coefficient for condensation</span> values are typically between 0.01 and 0.1.
<span class="guilabel">Exponent for T-P Curve</span> is the exponent in the temperature-pressure
saturation relationship. The default saturation curve is a Clausius-Clapeyron
relation between pressure <img class="math" src="_images/math/c019589f6059cfe1c389d07bb5414a16dae4f3c5.png" alt="P" style="vertical-align: 0px"/> and temperature <img class="math" src="_images/math/3220cefb5db8f2913afbedb55591cb3437ae3113.png" alt="T" style="vertical-align: 0px"/>:</p>
<div class="math">
<p><img src="_images/math/4892913cef7158f8916b1765587744b314cf81f7.png" alt="{P_{sat}}(T) = P_{V1} \cdot exp \left[\frac{1}{T_{\text{EXP}}} \left( {\frac{1}{T_{V1}} - \frac{1}{T}} \right)\right]"/></p>
</div><p>where:</p>
<ul class="simple">
<li><img class="math" src="_images/math/37e8b9507f9f231b7ca6386cde46d5e0dffd7e10.png" alt="P_{V1}" style="vertical-align: -3px"/> and <img class="math" src="_images/math/74ae34502f7811546939f9172fd3802eda92e59d.png" alt="T_{V1}" style="vertical-align: -3px"/> (entitled <span class="guilabel">Saturation Pressure</span> and
<span class="guilabel">Saturation Temperature</span> on the properties listed above) are the pressure
and temperature values at a point on the saturation curve.</li>
<li><img class="math" src="_images/math/0e9a74166e13e2e83311a57f7991e5f1d3ed464f.png" alt="T_{\text{EXP}}" style="vertical-align: -3px"/> is entered as <span class="guilabel">Exponent for T-P Curve</span>; its value
should typically be <img class="math" src="_images/math/e08d28b9b8fd24bcdd2be701081af4c9bf4888f0.png" alt="T_{\text{EXP}} = (\gamma - 1) \frac{C_v}{\Delta H_v}" style="vertical-align: -8px"/>.</li>
<li><img class="math" src="_images/math/0a9c286987ad5fd2f65853d796ca3f4366ae29ec.png" alt="\gamma" style="vertical-align: -4px"/> is <span class="guilabel">Gamma</span>, the ratio of the vapor specific heats (<img class="math" src="_images/math/b12aa772dafbd6ca13bbf3a252225e1388d46347.png" alt="\frac{C_p}{C_v}" style="vertical-align: -8px"/>).</li>
<li><img class="math" src="_images/math/472e47f7ee247b6955897f4a90b1da1ae5f29170.png" alt="C_v" style="vertical-align: -3px"/> is the <span class="guilabel">Vapor specific heat</span> at constant volume.</li>
<li><img class="math" src="_images/math/b1e95f1881a267b53ddcc839bd72a5dd70c35cce.png" alt="\Delta H_v" style="vertical-align: -3px"/> is the <span class="guilabel">Latent Heat of Vapor</span>.</li>
<li><img class="math" src="_images/math/3220cefb5db8f2913afbedb55591cb3437ae3113.png" alt="T" style="vertical-align: 0px"/> is the temperature.</li>
<li><img class="math" src="_images/math/e2e783e8fe09fdaaa2c5b4312556b596f7dce575.png" alt="\rho_{vap}" style="vertical-align: -6px"/> density of the vapor in the bubble.</li>
</ul>
<p>After opening, each cavitating region has its own pressure, <img class="math" src="_images/math/c019589f6059cfe1c389d07bb5414a16dae4f3c5.png" alt="P" style="vertical-align: 0px"/>, which
is a function of heat and mass transfer and the volume of the bubble: <img class="math" src="_images/math/29e32d03d0e55cc9fa0dc3ce6014a1187408773b.png" alt="P
= (\gamma - 1)  {\rho_{vap}} C_v T" style="vertical-align: -6px"/>.</p>
<p>Boiling, or cavitation, in the liquid bulk can be delayed past the saturation
temperature by using the <span class="guilabel">Superheat temperature</span>. A value
of the <span class="guilabel">Superheat temperature</span> greater than the local boiling temperature
allows the liquid in the bulk to heat to that temperature before vapor bubbles begin to
form at that location. Before the liquid temperature reaches the superheat
temperature, the formation of the vapor bubbles is controlled by the
<span class="guilabel">Characteristic time for formation of cavitation bubbles</span> defined in
<span class="menuselection">Physics ‣ Cavitation</span>. After the <span class="guilabel">Superheat temperature</span> is
exceeded, vapor bubbles appear and grow on a time scale of five time-step
sizes.</p>
<p>Superheating can be selectively turned off near solid walls by using a non-zero
wall roughness. Component roughness is defined in <span class="menuselection">Model Setup ‣
Geometry ‣ Component ‣ Surface Properties ‣ Surface
Roughness</span>. See <a class="reference internal" href="#componentroughnessmr"><span class="std std-ref">Component and Sub-Component Roughness</span></a>.</p>
<p>Similarly to superheating, liquefaction of the evaporated fluid can be designed to occur below the
<span class="guilabel">Saturation Temperature</span> by setting a <span class="guilabel">Supercooling temperature</span>. When a <span class="guilabel">Supercooling temperature</span> lower
than the boiling point of the bulk fluid is defined, the fluid will remain in the vapor phase and continue to cool down
until the specified <span class="guilabel">Supercooling temperature</span> is reached. However, contrary
to superheating, supercooling is not subject to the same characteristic time or
time-step constraints described above. Once, the vapor reaches the
given <span class="guilabel">Supercooling temperature</span> liquefaction occurs immediately.
It is important to note that unlike superheating, supercooling applies only to 2 Fluid
simulations and only in areas of bulk vapor where local temperature gradients are possible.
Fluid condensation will behave normally on all other surfaces such as the liquid-vapor interface
and solid walls.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>Only the <span class="guilabel">Simplified  model</span> can be used in conjunction with <span class="guilabel">Thermal bubbles with phase change</span>.</li>
<li>In the general cavitation model newly created vapor bubbles are
assigned heat transfer void type 1.</li>
<li>The definition of a reference pressure is strongly recommended
when modeling cavitation.  For thermal cavitation, this will be
a specified-pressure boundary condition.</li>
</ul>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p></p>
<ul class="last simple">
<li><a class="reference internal" href="#heattransfertovoidsmr"><span class="std std-ref">Heat Transfer to Voids</span></a></li>
<li><a class="reference internal" href="#condensationevaporationonefluidthermalbubblesmr"><span class="std std-ref">Phase Change with Thermal Bubbles</span></a></li>
<li>Parameters in <a class="reference internal" href="input-variable-summary-units.html#cavitationproperties"><span class="std std-ref">Cavitation Properties</span></a></li>
<li>Parameters in <a class="reference internal" href="input-variable-summary-units.html#phasechangeproperties"><span class="std std-ref">Phase Change Properties</span></a></li>
</ul>
</div>
<span class="target" id="index-16"></span><span class="target" id="index-17"></span><span class="target" id="index-18"></span><span class="target" id="index-19"></span></div>
<div class="section" id="cavitation-potential-model">
<span id="cavitationpotential"></span><span id="index-20"></span><h3>Cavitation Potential Model<a class="headerlink" href="#cavitation-potential-model" title="Permalink to this headline">¶</a></h3>
<p>If modeling cavitation directly is not desirable due to numerical constraints,
the <span class="guilabel">Cavitation potential</span> model can be used instead. This model is
activated in <span class="menuselection">Physics ‣ Cavitation</span>. It offers an efficient
way of modeling possible cavitation by predicting the <strong>likelihood</strong> of
cavitation, or the <strong>cavitation potential</strong>, without actually introducing
bubbles into the flow. The model evaluates the integral over time of the
difference between the Cavitation pressure and the local fluid pressure:</p>
<div class="math">
<p><img src="_images/math/a710d9531cb304f464ad2a5f0eb7609a4da7ab40.png" alt="S = \int\limits_0^t {\max (0,PCAV - p(ijk))dt}"/></p>
</div><p>The larger the value of this variable, the larger the potential for cavitation
can be. The integral is taken from the beginning of the simulation.</p>
<p>The cavitation potential model can be used to predict die erosion due to
cavitation during high-pressure die casting filling, where metal pressure
often drops several atmospheres below the vapor pressure in areas of very fast
flow, usually near the gates, causing the metal to cavitate. The most reliable
indications of possible die erosion are highly localized “hot spots” of the
cavitation potential, that is, small areas of very high values of this
quantity. To activate this model, go to
<span class="menuselection">Physics ‣ Cavitation‣ Activate cavitation potential model</span>
and enter a value for the cavitation pressure.</p>
<span class="target" id="index-21"></span></div>
</div>
<div class="section" id="combustible-objects">
<span id="combustibleobjectsmr"></span><span id="index-22"></span><h2>Combustible Objects<a class="headerlink" href="#combustible-objects" title="Permalink to this headline">¶</a></h2>
<p>Combustible objects can be used to model the combustion process in solid-fuel
rockets. Please refer to the <a class="reference internal" href="theory.html#combustibleobjectmodel"><span class="std std-ref">Combustible Object Model</span></a> of the <a class="reference internal" href="theory.html"><span class="doc">Theory</span></a> chapter
for details of the model.</p>
<p>In order to use combustible objects the <a class="reference internal" href="#compressibleflowmr"><span class="std std-ref">compressible flow model</span></a>
needs to be activated and the model itself can be turned ON by selecting the <span class="guilabel">Combustible objects</span>
button in the <span class="guilabel">Physics</span> tab.</p>
<p>The combustible object needs to be defined as a special type of component and the reaction
parameters need to be specified. This can be done in the <span class="guilabel">Geometry</span> tab and the
following image provides a screenshot of the various parameters required.</p>
<blockquote>
<div><img alt="Combustible objects definition" src="_images/combustible-objects-MG.PNG" />
</div></blockquote>
<p><strong>Note:</strong> The reaction rate is only a function of the local gas pressure. A high initial gas
pressure needs to be defined to ignite the fuel and sustain the reaction. Implicit advection
solver, although not necessary, can be used to reduce run times.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p></p>
<ul class="last simple">
<li><a class="reference internal" href="input-variable-summary-units.html#combustibleobjectmodelparameters"><span class="std std-ref">Combustible Object Model Parameters</span></a></li>
<li><a class="reference internal" href="input-variable-summary-units.html#componentpropertiescombustiblecomponents"><span class="std std-ref">Component Properties: Combustible Components</span></a></li>
</ul>
</div>
<span class="target" id="index-23"></span></div>
<div class="section" id="compressible-flows">
<span id="compressibleflowmr"></span><span id="index-24"></span><h2>Compressible Flows<a class="headerlink" href="#compressible-flows" title="Permalink to this headline">¶</a></h2>
<div class="section" id="fully-compressible-flows">
<h3>Fully-compressible flows<a class="headerlink" href="#fully-compressible-flows" title="Permalink to this headline">¶</a></h3>
<p>The compressible flow model treats fluid #2 as an ideal, compressible
gas. Since only fluid #2 can be compressible, this option can only be used
together with the two-fluid model.  To enable the model, go to <span class="guilabel">Model Setup –&gt; Physics</span> and
select <span class="menuselection">Two fluids</span> and <span class="menuselection">Compressible</span> from the dropdown menus at the top of
the window.</p>
<blockquote>
<div><img alt="Compressible flow" src="_images/compressible-flow.png" />
</div></blockquote>
<p>The fluid properties are set on the <span class="guilabel">Fluids</span> widget.  The
compressible flow model requires the specific <span class="guilabel">Gas Constant</span> and
the thermal properties of the fluid.</p>
<p>Input vlaues of pressure are automatically converted to absolute units in pre-processor.
Similarly, for temperature, the input is automatically converted to absolute units based
on the temperature units (see <a class="reference internal" href="model-setup.html#unitsms"><span class="std std-ref">Units</span></a>). The conversion enable the use of the equation-of-state
whenever it is needed.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p></p>
<ul class="last simple">
<li><a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#twofluidflowmr"><span class="std std-ref">Two-Fluid Flow</span></a>.</li>
<li>Parameters in <a class="reference internal" href="input-variable-summary-units.html#stateequationproperties"><span class="std std-ref">State Equation Properties</span></a></li>
</ul>
</div>
<span class="target" id="index-25"></span><span class="target" id="index-26"></span><span class="target" id="index-27"></span></div>
<div class="section" id="acoustic-waves-limited-compressibility">
<span id="acousticwavesmr"></span><span id="index-28"></span><h3>Acoustic Waves (Limited Compressibility)<a class="headerlink" href="#acoustic-waves-limited-compressibility" title="Permalink to this headline">¶</a></h3>
<p>The limited compressibility model is used to model acoustic waves in a fluid
that otherwise can be treated as incompressible. It is typically used for
flows of liquids in problems where sharp pressure changes occur or can be used
to simulate flows of gases where pressure fluctuations are small. The model is
activated by setting <span class="guilabel">Compressibility</span> coefficients for either or
both fluids in the fluid properties at the <span class="guilabel">Fluids</span> widget. These
coefficients are defined as <img class="math" src="_images/math/e5f283de804c970beb54d559e6c1823a625a59b2.png" alt="1/\rho {c^2}" style="vertical-align: -5px"/> of fluid #1 and fluid #2,
where <img class="math" src="_images/math/505bec53c42fc78b12fcff89dde94cd96fb0770b.png" alt="\rho" style="vertical-align: -4px"/> is the respective fluid density and <img class="math" src="_images/math/0eb5e361bb43732fc188aa3fcfa15e874464e4ed.png" alt="c" style="vertical-align: 0px"/> is the adiabatic
speed of sound. These parameters are assumed to be independent of pressure,
density or temperature, so they should be set to values for the expected
pressure, density and temperature during the simulation.</p>
<blockquote>
<div><img alt="Limited compressibility" src="_images/ModelReference_ImplicitCompressibility_v12.JPG" />
</div></blockquote>
<p>Limited compressibility can also be used as a numerical tool to improve
pressure convergence in “stiff” flow problems. The idea is to allow a small
amount of “give” in the fluid to dampen out sharp pressure fluctuations,
easing convergence. This can be done automatically by selecting the
<span class="guilabel">Implicit with automatic limited compressibility</span> option in
the <span class="guilabel">Pressure solver type</span> drop-down list at the
<span class="guilabel">Pressure solver options</span> group of options in
<span class="guilabel">Numerics</span>. In this case, there is no need for the user to define
the compressibility coefficient in the fluid properties.</p>
<blockquote>
<div><img alt="Automatic limited compressibility" src="_images/ModelReference_LimitedCompressibility_v12.JPG" />
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>Unpyhsically large values for the compressibility may result in poor
conservation of fluid mass.</li>
<li>The time-step size should be limited to the characteristic time scale of
the acoustic waves to ensure accuracy if acoustic waves are of primary
importance.  This is done by restricting the the time-step size using
the <span class="guilabel">Maximum time step</span> option on the <span class="guilabel">Numerics</span> widget.
The characteristic time scale can be estimated as the time
it takes for an acoustic wave to propagate through the distance of one
cell.</li>
</ul>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"> <span class="target" id="index-29"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">RCSQL</span></code> and <span class="target" id="index-30"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">RCSQV</span></code> in <a class="reference internal" href="input-variable-summary-units.html#stateequationproperties"><span class="std std-ref">State Equation Properties</span></a>.</p>
</div>
</div>
</div>
<div class="section" id="condensation-evaporation-at-free-surfaces">
<span id="condensation-evaporationmr"></span><h2>Condensation/Evaporation at Free Surfaces<a class="headerlink" href="#condensation-evaporation-at-free-surfaces" title="Permalink to this headline">¶</a></h2>
<span class="target" id="index-31"></span><div class="section" id="evaporation-into-constant-pressure-bubbles">
<span id="vaporizationatfreesurfacesmr"></span><span id="index-32"></span><h3>Evaporation into Constant Pressure Bubbles<a class="headerlink" href="#evaporation-into-constant-pressure-bubbles" title="Permalink to this headline">¶</a></h3>
<p>The simplest phase change model in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> describes the evaporation into constant-pressure void regions.
The void region pressure and temperature are prescribed by the user and do not change due to phase change.
The main assumption in this approach is that the void regions are sufficiently large that the phase change
does not significantly change their properties. The drying of rain puddles into the air are an example of
such process.</p>
<p>The evaporation mass flux is governed by Eq. <a class="reference internal" href="theory.html#equation-simplifiedphasechange">(52)</a> in which the saturation pressure <img class="math" src="_images/math/6450a384de7b7cef97727c23abfe1061e7a81223.png" alt="P_l^{\rm{sat}}" style="vertical-align: -5px"/> is
defined from the vapor saturation curve and the temperature of the liquid at the surface, and the vapor pressure <img class="math" src="_images/math/acdb52187455e9ab79a848d62cbc8e88a99e9c03.png" alt="P_v" style="vertical-align: -3px"/>
is the user-defined <span class="guilabel">Void vapor partial pressure</span>.</p>
<p>To activate this model, select <span class="menuselection">Physics ‣ Bubble and phase change
models ‣ Constant pressure bubbles with vaporization</span> to activate this model.
The <span class="menuselection">Saturation Temperature</span> in <span class="menuselection">Fluids ‣ Properties for ‣ Phase Change</span>
defines the saturation state of the vapor in the
void regions. The latent heat of vaporization is specified in
<span class="menuselection">Fluids ‣ Properties for ‣ Phase change ‣ Latent heat of vaporization</span>.</p>
<blockquote>
<div><img alt="Bubble and phase change - Constant pressure bubbles" src="_images/vaporization-at-free-surfaces-bubble-phase-change_v12-1.JPG" />
</div></blockquote>
<p>The fluid energy equation (<span class="guilabel">Heat transfer</span>) must be solved in
conjunction with this model (<span class="menuselection">Physics ‣ Heat Transfer</span>).
Define positive values for the <span class="guilabel">Accommodation coefficients</span>, found in
<span class="menuselection">Fluids ‣ Properties for ‣ Phase Change</span>.</p>
<blockquote>
<div><img alt="Phase Change" src="_images/vaporization-at-free-surfaces-phase-change_v12-1.JPG" />
</div></blockquote>
<p>The evaporative mass flux in each surface cell is saved for post-processing and
can be visualized in <span class="menuselection">Analyze</span>.</p>
<p>Vaporizations may take place only in cells containing free surface. No condensation is
taken into account in this model. The vapor partial pressure is the same and constant
for all voids, both with constant and variable pressure, <em>e.g.</em>, prescribed by
a <span class="guilabel">Void pointer</span>.</p>
</div>
<div class="section" id="phase-change-with-thermal-bubbles">
<span id="condensationevaporationonefluidthermalbubblesmr"></span><h3>Phase Change with Thermal Bubbles<a class="headerlink" href="#phase-change-with-thermal-bubbles" title="Permalink to this headline">¶</a></h3>
<p>Mass transfer due to liquid-vapor phase change can occur between a bubble and
the surrounding liquid.  It is assumed that the bubble is completely filled only with vapor
phase of fluid #1, <em>i.e.</em>, there is only one gas component, and that the
bubbles have uniform pressure, temperature, and density. There can be many
bubbles, and the vapor in each bubble has a unique, time-varying state
because of volume changes and heat and mass transfer. Bubbles in contact with
a specified pressure mesh boundary with a fluid fraction of zero will take on
the vapor state defined at that boundary. The vaporization/condensation model
is activated in <span class="menuselection">Physics‣Bubble and phase change
models‣Thermal bubbles with phase change</span>.</p>
<blockquote>
<div><img alt="Condensation and evaporation" src="_images/bubble-and-phase-change_v12-1.JPG" />
</div></blockquote>
<p>Bubbles are initialized by specifying their initial pressures and temperature, relative or absolute.
Vapor can also be created in the fluid through cavitation or boiling as described in <a class="reference internal" href="#cavitationbubbleformationmr"><span class="std std-ref">Cavitation and Bubble Formation (Nucleation)</span></a>.
The vapor properties and saturation curve are defined under <span class="menuselection">Fluids ‣ Properties for ‣ Phase change</span>.</p>
<p>The <span class="guilabel">Accommodation coefficients</span> are coefficients of proportionality for
the rate of phase change. Values between 0.01 and 0.1 usually provide good
results. Positive values for the <span class="guilabel">Accommodation coefficients</span> and the
<span class="guilabel">Latent heat of vapor</span> in <span class="menuselection">Fluids ‣ Properties for ‣ Phase Change</span>
must be defined. A non-zero value of the <span class="guilabel">Vapor specific heat</span> is also required.</p>
<blockquote>
<div><img alt="Condensation and evaporation properties" src="_images/vaporization-at-free-surfaces-phase-change_v12-1.JPG" />
</div></blockquote>
<p>Heat transfer between geometry components and the vapor in a bubble is
specified by the component-to-void heat transfer coefficients in
<span class="menuselection">Geometry ‣ Component ‣ Surface
properties</span>. The same is true for heat transfer between liquid and vapor in a
bubble, which is specified by a fluid-to-void heat transfer coefficient.
Note that newly created vapor bubbles are assigned heat transfer void type 1.
<span class="menuselection">Physics ‣ Heat transfer ‣ Fluid to solid heat transfer</span>
must be activated to enable heat transfer between vapor bubbles and solid components.</p>
<p>Phase change mass flux is based on the average fluid properties (density, thermal
energy, and liquid fraction) in a computational cell. In particular, it is
assumed that the temperatures of the liquid and vapor are uniform in an element. In this
sense, the phase change model is phenomenological and requires the adjustment
of the <span class="guilabel">Accommodation coefficients</span> to control the rates of evaporation and condensation
through the <span class="guilabel">Accommodation coefficient for evaporation</span> and the <span class="guilabel">Accommodation coefficient for condensation</span>, respectively.
It is not recommended to use a value larger than 1, because convergence of the phase
change model may be difficult to attain. Typical values used are between 0.01 and 0.1.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p></p>
<ul class="last simple">
<li><a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#cavitationbubbleformationmr"><span class="std std-ref">Cavitation and Bubble Formation (Nucleation)</span></a></li>
<li><a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#adiabaticbubblesmr"><span class="std std-ref">Adiabatic Bubbles</span></a></li>
<li>Parameters in <a class="reference internal" href="input-variable-summary-units.html#phasechangeproperties"><span class="std std-ref">Phase Change Properties</span></a></li>
</ul>
</div>
<span class="target" id="index-33"></span></div>
<div class="section" id="two-fluid-model">
<span id="condensationevaporationtwofluidsmr"></span><span id="index-34"></span><h3>Two-fluid Model<a class="headerlink" href="#two-fluid-model" title="Permalink to this headline">¶</a></h3>
<p>This model is similar to the one-fluid model of Condensation/Evaporation (<a class="reference internal" href="#condensationevaporationonefluidthermalbubblesmr"><span class="std std-ref">Phase Change with Thermal Bubbles</span></a>), except that the
full dynamics in the vapor regions are computed. In this case, the
two-fluid model with an incompressible liquid and a
compressible vapor can have liquid-vapor phase change occurring at the
interface. Nucleation in pure liquid regions or condensation in pure vapor
regions is also allowed. Fluid #1 describes the liquid state of the fluid and
compressible fluid #2 (gas) describes the vapor.</p>
<p>The two-fluid phase change model is initiated in <span class="menuselection">Physics ‣
Bubble and phase change models ‣ Two-fluid phase change</span> and requires
positive values for the Accommodation coefficients in <span class="menuselection">Fluids ‣ Properties for ‣ Phase change</span>.
The phase-change rate is directly proportional
to the accommodation coefficients. The values of the coefficients are typically in
the 0.01 to 0.1 range, and should not exceed 1.0, although this is not an
absolute limit. Vapor properties are defined as properties of the compressible
fluid #2, and the vapor latent heat and the saturation curve are defined under
<span class="menuselection">Fluids ‣ Properties for ‣ Phase change</span>. The
pressure-temperature pair, defined by the Saturation Pressure and Saturation
Temperature, must be a point on the saturation curve. Exponent for <img class="math" src="_images/math/afe407a507acd6767030c6d5e8414e279090d04c.png" alt="T-P" style="vertical-align: 0px"/> curve
is the exponent in the Clapeyron temperature-pressure saturation relationship, <a class="reference internal" href="theory.html#equation-clapeyronequation">(48)</a>.</p>
<blockquote>
<div><img alt="Condensation and evaporation properties in the Two-Fluid Model" src="_images/vaporization-at-free-surfaces-phase-change_v12-1.JPG" />
</div></blockquote>
<p>Phase changes are based on the average fluid properties (density, thermal
energy, and liquid fraction) in a control volume. In particular, the
temperatures of the liquid and vapor are assumed to be uniform in an element.
The mass transfer rate at the liquid/vapor interface is computed based on the
difference between the local saturation pressure of the liquid and the vapor
pressure, <a class="reference internal" href="theory.html#equation-simplifiedphasechange">(52)</a>.</p>
<p>The rate per unit area at which fluid mass changes phase at the liquid-vapor interface is
computed and stored for post-processing as a spatial variable called
<span class="guilabel">Phase change mass flux</span>. Positive values indicate evaporation and negative, condensation.</p>
<p>Phase change in the liquid bulk can be delayed past the saturation temperature
by specifying the <span class="guilabel">Superheat temperature</span>. A value of the
<span class="guilabel">Superheat Temperature</span> greater than the local saturation
temperature allows the liquid in the bulk to heat until that temperature
before vapor bubbles begin to form. Superheating can be selectively turned off
near solid walls by using a  non-zero wall roughness. Component roughness is
defined in
<span class="menuselection">Model Setup ‣ Geometry ‣ Component # ‣ Surface Properties ‣ Surface Roughness</span>.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p></p>
<ul class="last simple">
<li><a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#componentroughnessmr"><span class="std std-ref">Component and Sub-Component Roughness</span></a>.</li>
<li><a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#condensationevaporationonefluidthermalbubblesmr"><span class="std std-ref">Phase Change with Thermal Bubbles</span></a></li>
<li><a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#condensationevaporationtwofluidsnoncondensablegasmr"><span class="std std-ref">Two Fluids with Non-condensable Gas</span></a></li>
<li>Parameters in <a class="reference internal" href="input-variable-summary-units.html#phasechangeproperties"><span class="std std-ref">Phase Change Properties</span></a></li>
</ul>
</div>
<span class="target" id="index-35"></span></div>
<div class="section" id="two-fluids-with-non-condensable-gas">
<span id="condensationevaporationtwofluidsnoncondensablegasmr"></span><span id="index-36"></span><h3>Two Fluids with Non-condensable Gas<a class="headerlink" href="#two-fluids-with-non-condensable-gas" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><img alt="Condensation and evaporation non-condensable gas" src="_images/condensation-evaporation-non-condensable-gas_v12-1.JPG" />
</div></blockquote>
<p>Normally, the condensation/evaporation model (two-fluid model) assumes that
fluid #2 is composed entirely of the vapor phase of the liquid. For situations
where the gaseous phase is composed of a mixture of vapor and a
non-condensable gas (e.g., water vapor in air), select
<span class="menuselection">Physics ‣Bubble and phase change‣Two-fluid phase change‣Non-condensable gas model</span>.
Additions to the two-fluid vapor model include the computation of a mixture
gas constant, which is evaluated as a density-weighted average of the gas
constants of the vapor and the non-condensable gas:</p>
<div class="math">
<p><img src="_images/math/534842e7f3d76f5f8f8b61f0cb5ea23ed6578977.png" alt="\overline{R_F} = \frac{\rho_{vap} R_{\text{vap}} + \rho_{nc} R_{nc}} {\rho}"/></p>
</div><p>where:</p>
<ul class="simple">
<li><img class="math" src="_images/math/49bef060c11f4f15e479b39cefe57da5166f02d2.png" alt="{\rho_{vap}}" style="vertical-align: -6px"/> the computed macroscopic vapor density.</li>
<li><img class="math" src="_images/math/72b033d2cfef84f9adde8434003d8190389e3ef2.png" alt="{\rho_{nc}}" style="vertical-align: -4px"/> computed non-condensable gas macroscopic density.</li>
<li><img class="math" src="_images/math/1ff0a35e9d4d92ff7c9330f0f0b79ade48c94258.png" alt="RF2" style="vertical-align: 0px"/> is the gas constant for the vapor</li>
<li><img class="math" src="_images/math/7b1da4d76ad86f4683dd9782095ee5de735b5c5f.png" alt="\overline {RF}" style="vertical-align: 0px"/> is the mean gas constant.</li>
</ul>
<p>Therefore, the pressure is computed as <img class="math" src="_images/math/5ef9b096a3ab890a7bf91d6caade1a21eeaca48b.png" alt="P = \overline {RF} \rho T" style="vertical-align: -4px"/>.
Although the saturation pressure of the vapor is computed the same as it was as in
the standard two-fluid model with phase change (<a class="reference internal" href="#condensationevaporationtwofluidsmr"><span class="std std-ref">Two-fluid Model</span></a>),
the evaporation mass flux is computed using the partial
pressures of the vapor as opposed to using the full gas pressure,</p>
<div class="math">
<p><img src="_images/math/23205335841254420669b31c59c8e02b7e011b2c.png" alt="{\text{Mass transfer rate}} = \frac{RSIZE}{\sqrt {2 \pi \overline{RF} \cdot T }} \left( P_{sat}(T) - P_{vap} \right)"/></p>
</div><p>where:</p>
<ul class="simple">
<li><img class="math" src="_images/math/0f029cea7d326516e07e2c6f276909c1ea42f31c.png" alt="{P_{vap}}" style="vertical-align: -6px"/> is the partial pressure of the vapor in the gaseous fluid,</li>
<li><img class="math" src="_images/math/0607ff7feb8abb8c1704697caabf40be03217498.png" alt="{P_{sat}}(T)" style="vertical-align: -5px"/> is the saturation pressure at the local temperature, computed from the Clausius-Clapeyron Equation, which is defined in the user-customizable subroutine <code class="file docutils literal notranslate"><span class="pre">PSAT.F90</span></code>. This equation is shown in <a class="reference internal" href="#condensationevaporationtwofluidsmr"><span class="std std-ref">Two-fluid Model</span></a>.</li>
<li><img class="math" src="_images/math/310596c46e09c6713e8e253f2646045e2d9f9262.png" alt="RSIZE" style="vertical-align: 0px"/> is the <span class="guilabel">Accommodation coefficient for evaporation</span>, which is typically set to a value between 0.01 and 0.1.</li>
</ul>
<p>If the <span class="guilabel">Accommodation coefficient for evaporation</span> were to have a value of 1.0, the model
would attempt to predict sufficient phase change to reach equilibrium within
one time step. This rate would likely be too fast compared to the actual
physical conditions. It is impossible for <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> to predict accurately the
phase change rate without this coefficient as the dynamics within the boundary
layer at the liquid/gas interface are too small in scale to include in the
model.</p>
<blockquote>
<div><img alt="Boundary condition specification of non-condensable gas" src="_images/ModelReference_BCAuxiliary_v12.JPG" />
</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
<blockquote>
<div><img alt="Initial condition specification of non-condensable gas" src="_images/ModelReference_InitialGlobalFluid_v12.JPG" />
</div></blockquote>
<p>To use this model, select the check box in <span class="menuselection">Physics ‣ Bubble
and phase change models ‣ Non-condensable gas model</span>. Enter the values for
the <span class="guilabel">Gas constant</span> and
<span class="guilabel">Specific heat of the non-condensable gas</span>. Where gas enters at domain boundaries, you can specify the
volume fraction of the non-condensable gas (between 0 and 1) in
<span class="guilabel">Non-condensable gas fraction</span> in the auxiliary section of
each of the mesh block boundaries. To define initial non-condensable gas volume fraction,
specify the <span class="menuselection">Model Setup‣ Initial ‣ Global</span>. This
quantity can also be specified in individual initial fluid regions and
pointers.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p></p>
<ul class="last simple">
<li><a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#condensationevaporationtwofluidsmr"><span class="std std-ref">Two-fluid Model</span></a></li>
<li>Parameters in <a class="reference internal" href="input-variable-summary-units.html#phasechangeproperties"><span class="std std-ref">Phase Change Properties</span></a></li>
</ul>
</div>
<span class="target" id="index-37"></span></div>
<div class="section" id="vaporization-residue">
<span id="vaporizationresiduemr"></span><span id="index-38"></span><h3>Vaporization Residue<a class="headerlink" href="#vaporization-residue" title="Permalink to this headline">¶</a></h3>
<p>When a liquid solvent evaporates any solute that it contains becomes more
concentrated. Likewise, in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span>, solutes modeled with a scalar concentration
variable will automatically be concentrated by evaporation at free surfaces of
one-fluid problems. If a surface element is less than half filled with liquid,
then the concentration of the scalar will also occur in the principal neighbor
of the surface element to the extent that the concentration change is spread
over a region equal to half the thickness of the surface element.</p>
<p>If enough evaporation occurs and the solute becomes dense, it may result in a
surface skin or a residue may form on a solid surface if the solute evaporates
completely away. Residue formation can be simulated in conjunction with the
<span class="guilabel">Constant pressure bubbles with vaporization</span>, and
<span class="guilabel">Thermal bubbles with phase change</span> models that are activated in
<span class="menuselection">Physics ‣ Bubbles and phase change</span>. The residue model can then be
activated through <span class="menuselection">Physics ‣ Scalars</span> by clicking on the
<span class="guilabel">Activate vaporization residue model</span> checkbox and defining the
maximum packing density for the solute scalar. Once the solute is concentrated to
its maximum packing density, then any further concentration results in a
residue that is fixed (not moving). If more than one scalar solute is present
then the residue records the total of all solute contributions to the residue.</p>
<blockquote>
<div><img alt="Residue model options in scalars window" src="_images/ModelReference_ResidueModel_v12-0-1.JPG" />
</div></blockquote>
<p>In conjuction with the residue model, the contact line pinning surface boundary
condition should be activated for the <span class="guilabel">Geometry</span> component where
evaporation is expected to occur, thus, leaving a residue. This surface
boundary condition is used to pin the free surface of a droplet onto the surface
of the solid. This is achieved by setting the outward velicity of the fluid to zero.
In that manner, the fluid free surface can only recede from the orginal location,
when evaporation occurs, or roll over the pinning point, if more fluid is added.
It is important to note that this surface boundary condition works in conjuction with the
<span class="guilabel">Surface tension</span> model and that the value of the <span class="guilabel">Contact angle</span> significantly
affects the behavior of the pinned free surface. The option can be activated in
<span class="menuselection">Geometry ‣ Component Properties ‣ Surface Properties</span>.</p>
<blockquote>
<div><img alt="Surface boundary condition specification for pinning the contact line" src="_images/ModelReference_Pin-contact-line_v12.JPG" />
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The initial solute concentration is entered using <span class="raw-html"><strong><em>FLOW-3D </em></strong></span>’s
<span class="guilabel">Scalars</span> model from <span class="menuselection">Physics ‣ Scalars</span>.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p></p>
<ul class="last simple">
<li><a class="reference internal" href="#condensationevaporationonefluidthermalbubblesmr"><span class="std std-ref">Phase Change with Thermal Bubbles</span></a></li>
<li><a class="reference internal" href="#vaporizationatfreesurfacesmr"><span class="std std-ref">Evaporation into Constant Pressure Bubbles</span></a>.</li>
<li><a class="reference internal" href="theory.html"><span class="doc">Theory</span></a> manual section: <a class="reference internal" href="theory.html#scalaradvectionth"><span class="std std-ref">Scalar Advection</span></a>.</li>
<li><a class="reference internal" href="#scalarsmr"><span class="std std-ref">Scalars</span></a></li>
</ul>
</div>
<span class="target" id="index-39"></span></div>
</div>
<div class="section" id="cooling-channels">
<span id="coolingchannelsmr"></span><span id="index-40"></span><h2>Cooling Channels<a class="headerlink" href="#cooling-channels" title="Permalink to this headline">¶</a></h2>
<p>In permanent mold and die casting, cooling channels are used to cool the mold
as well as extract heat from hot spots that can potentially create shrinkage
porosity in the cast part. In <span class="raw-html"><strong><em>FLOW-3D </em></strong></span>, the flow in a cooling channel is not
modeled explicitly, but instead the cooling action is modeled approximately by
using a uniform effective heat transfer coefficient and temperature of the
cooling channel. This section shows the user how to do the following:</p>
<ul class="simple">
<li>Define cooling channels</li>
<li>Determine heat transfer coefficients between cooling channels and mold</li>
</ul>
<div class="section" id="cooling-channel-definition">
<span id="index-41"></span><h3>Cooling channel definition<a class="headerlink" href="#cooling-channel-definition" title="Permalink to this headline">¶</a></h3>
<p>To create cooling channels the following steps need to be followed.</p>
<ol class="arabic">
<li><p class="first">Activate <span class="guilabel">Heat Transfer</span> from <span class="menuselection">Model Setup ‣ Physics</span> tab.</p>
<img alt="Heat transfer" src="_images/heat-transfer.png" />
</li>
<li><p class="first">Add the cooling lines as subcomponents of the component that describes the die,
using either STL files or primitives. A cooling channel with unique properties
(temperature, heat transfer coefficient, control type, etc.) should be defined
as a separate subcomponent. Cooling channels with identical properties can be
modeled as a single subcomponent. Select <span class="guilabel">Cooling channel</span> for each
such subcomponent.</p>
<img alt="Cooling waterlines" src="_images/cooling-waterlines.png" />
</li>
<li><p class="first">Define <span class="guilabel">Cooling channel temperature</span>.</p>
</li>
<li><p class="first">Define <span class="guilabel">Cooling channel heat transfer coefficient</span>.</p>
</li>
<li><p class="first">Select <span class="guilabel">Cooling channel control type</span>.</p>
<img alt="cooling channel control type" src="_images/cooling-channel-control-type.png" />
</li>
<li><p class="first">If <span class="guilabel">Controlled by time</span> is selected, then define the cooling channel time control table.</p>
<a class="reference internal image-reference" href="_images/cooling-channel-time-control-table.png"><img alt="cooling channel time control table" src="_images/cooling-channel-time-control-table.png" style="width: 520px; height: 300px;" /></a>
</li>
<li><p class="first">If <span class="guilabel">Controlled by thermocouple</span> is selected, then select the history
probe number (probe(s) must be defined inside the mold prior to this), and
turn-on and turn-off temperatures.</p>
<p>The probe defines the location where the wall temperature is monitored. If
cooling mode is selected, the cooling channel is turned on when the wall
temperature at the specified probe reaches the turn-on temperature, and is
kept on as the temperature decreases, until the turn-off temperature is
reached. Thus, the turn-on temperature needs to be higher than the turn-off
temperature. If heating mode is selected, the cooling channel is turned on
when the wall temperature at the specified probe goes below the turn-on
temperature, and kept on as the temperature rises, until the turn-off
temperature is reached. Thus, the turn-on temperature needs to be lower
than the turn-off temperature.</p>
<img alt="cooling channel controlled by thermocouple" src="_images/cooling-channel-thermocouple.png" />
<p>Whenever there is a status change for a cooling channel, a message will be
written to the screen, <code class="file docutils literal notranslate"><span class="pre">hd3msg.*</span></code>, <code class="file docutils literal notranslate"><span class="pre">hd3out.*</span></code>, and <code class="file docutils literal notranslate"><span class="pre">report.*</span></code> files. The cooling
channel status will also be written to the <span class="guilabel">General history</span>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>If the specified probe is not defined or invalid, the cooling channel will be turned off.</li>
<li>If the turn-on and turn-off temperatures are not set correctly, the cooling
channel will be turned off.</li>
</ul>
</div>
</li>
<li><p class="first">If <span class="guilabel">Controlled by total heat</span> is selected, then define the
critical total heat, and the cooling channel on/off status time table.</p>
<p>If this control option is chosen, the cooling channel will be turned off if
the total heat removed (cooling) or added (heating) is greater than the
critical total heat. It works in combination with the status time table. In
other words, the status time table can still be provided as normal, and
works together with the total heat control. The cooling channel will be
turned off at the moment either it is set to off by the status time table,
or by the total heat control. The cooling channel can then be turned on
later by the status time table. However, the total heat counting for the
cooling channel will restart from zero after it is turned on.</p>
<img alt="cooling channel controlled by total heat" src="_images/cooling-channel-totalheat.png" />
<p>In thermal die cycling simulations, at the beginning of each cycle, the
cooling channel will be turned on, and the total heat counting reset to
zero. This is to account for the situation that during a cycle, the cooling
channel total heat has never reached the critical value, but the total heat
counting has to restart from zero for each cycle.</p>
<p>Whenever there is a status change for a cooling channel, no matter it is
due to the total heat control, or time table, a message will be written to
the screen, <code class="file docutils literal notranslate"><span class="pre">hd3msg.*</span></code>, <code class="file docutils literal notranslate"><span class="pre">hd3out.*</span></code>, and <code class="file docutils literal notranslate"><span class="pre">report.*</span></code>. The
cooling channel status will also be written to the <span class="guilabel">General
history</span>.</p>
<p>The total heat history for a cooling channel can be viewed by integrating
the heat flow rate general history data.</p>
</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>In order for the code to be able to distinguish the on/off status changes
specified in the status time table, the time intervals between the status
changes have to be larger than the time steps.</li>
<li>To make sure the restart works correctly, the cooling channel indexes have
to be the same as in the restart source for the restart simulations.</li>
<li>The values defined in the cooling channel temperature, heat transfer coefficient,
and time control tables are piece-wise constant between <img class="math" src="_images/math/f00d575a41393876638c1cc1d734f1177829d9a7.png" alt="t" style="vertical-align: 0px"/> and <img class="math" src="_images/math/08f3eb4e395a3e53474aeea5d501ee8bce68197c.png" alt="t+1" style="vertical-align: -2px"/>, and
equals to the value defined at <img class="math" src="_images/math/f00d575a41393876638c1cc1d734f1177829d9a7.png" alt="t" style="vertical-align: 0px"/>. If the real simulation time is outside of
the time defined in the tables, the nearest value will be used.</li>
<li>Cooling channels also work in <a class="reference internal" href="#gmobasicsmr"><span class="std std-ref">General Moving Objects</span></a>.</li>
</ul>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"> Parameters in <a class="reference internal" href="input-variable-summary-units.html#subcomponentscoolingchannel"><span class="std std-ref">Subcomponents: Cooling Channel</span></a></p>
</div>
</div>
<div class="section" id="heat-transfer-coefficients-for-cooling-channels">
<span id="index-42"></span><h3>Heat transfer coefficients for cooling channels<a class="headerlink" href="#heat-transfer-coefficients-for-cooling-channels" title="Permalink to this headline">¶</a></h3>
<p>Heat transfer coefficients for cooling channels can be
To calculate the heat transfer coefficient in a pipe, you must first calculate
the non-dimensional Nusselt number. Table <a class="reference internal" href="#tableheattransfereqpipeflow"><span class="std std-ref">Heat Transfer Equations for Pipe Flow</span></a>
is a list of equations used to determine Nusselt number. The user must be
careful in choosing the correct condition or the results could result in some
uncertainty.</p>
<blockquote>
<div><span id="tableheattransfereqpipeflow"></span><table border="1" class="colwidths-given longtable docutils" id="id32">
<caption><span class="caption-text">Heat Transfer Equations for Pipe Flow</span><a class="headerlink" href="#id32" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">CONDITIONS</th>
<th class="head">EQUATION</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Fully-developed turbulent flow with
<img class="math" src="_images/math/5a126be28283c00c5256ee9708dc931212429d78.png" alt="2500 &lt; Re &lt; 1.25 \times 10^{5}" style="vertical-align: -1px"/> and  <img class="math" src="_images/math/a55437464a512b7aaac98357d9f8ac4f47061b48.png" alt="0.5 &lt; Pr &lt; 1.5" style="vertical-align: -1px"/>.</td>
<td><div class="first math">
<p><img src="_images/math/1ffff15012db10e7f1b028f6fd6b7e7e1dcc35cb.png" alt="Nu = 0.023Re^{0.8}Pr^{n}"/></p>
</div><p class="last"><img class="math" src="_images/math/4bb8d703d5368c50fa540dd4338b1f3eb90e832a.png" alt="n=0.3" style="vertical-align: 0px"/> for cooling and <img class="math" src="_images/math/6aada4d2aa39509b5a1c8e959e6c47423f9636a4.png" alt="n=0.4" style="vertical-align: 0px"/> for heating</p>
</td>
</tr>
<tr class="row-odd"><td>Fully-developed turbulent flow with
<img class="math" src="_images/math/ea490801db694b15c940aac718606e2657c12677.png" alt="10^{4} &lt; Re &lt; 5 \times 10^{6}" style="vertical-align: -1px"/> and <img class="math" src="_images/math/a55437464a512b7aaac98357d9f8ac4f47061b48.png" alt="0.5 &lt; Pr &lt; 1.5" style="vertical-align: -1px"/>.</td>
<td><div class="first last math">
<p><img src="_images/math/aebf32e0d94495c8eea7702671320fd4c8a19222.png" alt="Nu = 0.0214\left( Re^{0.8} - 100 \right)Pr^{0.4}"/></p>
</div></td>
</tr>
<tr class="row-even"><td>Fully-developed turbulent flow with
<img class="math" src="_images/math/afe32d06639ccb607924da312531672878cd2d54.png" alt="3000 &lt; Re &lt; 10^{6}" style="vertical-align: -1px"/> and <img class="math" src="_images/math/06befac8a0433a8d2658cca4fb555970375eb3b1.png" alt="1.5 &lt; Pr &lt; 500" style="vertical-align: -1px"/></td>
<td><div class="first last math">
<p><img src="_images/math/a4caa7825a8b0ddbb3e1ccab89a02100b7c17d95.png" alt="Nu = 0.012 \left(Re^{0.87} - 280 \right) Pr^{0.4}"/></p>
</div></td>
</tr>
<tr class="row-odd"><td>Fully-developed laminar flow, constant surface temperature</td>
<td><div class="first last math">
<p><img src="_images/math/159bd021da4e6d1bc8f9f4dbfa65a4c183136ba9.png" alt="Nu = 3.66 + \frac{0.0668\left(\frac{D}{L}\right)RePr}{1+0.04\left[ \left(\frac{D}{L}\right)RePr\right]^{2/3}}"/></p>
</div></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>In the table, <img class="math" src="_images/math/3a419aa9969c7e85e998e02252cd2897ba03d7b6.png" alt="Re" style="vertical-align: 0px"/> is the Reynolds number, which is equal to the ratio
<em>inertial forces/viscous forces</em>:</p>
<div class="math" id="equation-reynoldsnumber">
<p><span class="eqno">(1)<a class="headerlink" href="#equation-reynoldsnumber" title="Permalink to this equation">¶</a></span><img src="_images/math/9f7036d9af834586508f51950a2a3b8ca45b63c6.png" alt="Re = \frac{{\rho VD}}{\mu }"/></p>
</div><p><img class="math" src="_images/math/68a040349082728e69ac462e7226be9e9cc3c0c0.png" alt="Pr" style="vertical-align: 0px"/> is the Prandtl number which is equal to the ratio <em>viscous forces/thermal diffusion rate</em>:</p>
<div class="math" id="equation-prandtlnumber">
<p><span class="eqno">(2)<a class="headerlink" href="#equation-prandtlnumber" title="Permalink to this equation">¶</a></span><img src="_images/math/83883e54786c7f245b06c91f23f2de94688f3e7b.png" alt="Pr = \frac{{{C_p}\mu }}{{{k_f}}}"/></p>
</div><p>where:</p>
<ul class="simple">
<li><img class="math" src="_images/math/6cc656fef5d44427eff85bab32555f9860c78f1e.png" alt="D" style="vertical-align: 0px"/> is the inside diameter of the pipe</li>
<li><img class="math" src="_images/math/3735e5423e8351e88e867cedee048ce78fdedfd0.png" alt="{k_f}" style="vertical-align: -6px"/> is the thermal conductivity of the fluid</li>
<li><img class="math" src="_images/math/505bec53c42fc78b12fcff89dde94cd96fb0770b.png" alt="\rho" style="vertical-align: -4px"/> is the density of the fluid</li>
<li><img class="math" src="_images/math/f5a322f82f9e644cb83622202e5be0da6a7cbb00.png" alt="V" style="vertical-align: 0px"/> is the mean velocity of the flow</li>
<li><img class="math" src="_images/math/bbdfba3f34876c71a27706eb12b647f73eb32d69.png" alt="\mu" style="vertical-align: -4px"/> is the viscosity of the fluid</li>
<li><img class="math" src="_images/math/f132209723751bdee6f07d2bac9f7b5b2c4ba12a.png" alt="{\mu _s}" style="vertical-align: -4px"/> is the viscosity at the surface temperature of the wall</li>
<li><img class="math" src="_images/math/baae12ce10e76b044e6747b6ef5478c745913573.png" alt="{C_p}" style="vertical-align: -6px"/> is heat capacity at constant pressure</li>
</ul>
<p>The convective heat transfer coefficient, <img class="math" src="_images/math/287f8adc72babf3e4b81f4266f4392176081a8bd.png" alt="h" style="vertical-align: 0px"/>, is then calculated from the
correlation given in Eq. <a class="reference internal" href="#equation-nusseltnumber">(3)</a> which can be derived from
Newton’s law of cooling ratio between a stagnant flow and moving flow:</p>
<div class="math" id="equation-nusseltnumber">
<p><span class="eqno">(3)<a class="headerlink" href="#equation-nusseltnumber" title="Permalink to this equation">¶</a></span><img src="_images/math/7e4607471ba818d27b225e0a1e2a38b0f5546e76.png" alt="Nu = \frac{{hD}}{{{k_f}}}"/></p>
</div><p>where:</p>
<ul class="simple">
<li><img class="math" src="_images/math/287f8adc72babf3e4b81f4266f4392176081a8bd.png" alt="h" style="vertical-align: 0px"/> is the heat transfer coefficient</li>
<li><img class="math" src="_images/math/6cc656fef5d44427eff85bab32555f9860c78f1e.png" alt="D" style="vertical-align: 0px"/> is the inside diameter of the pipe</li>
<li><img class="math" src="_images/math/3735e5423e8351e88e867cedee048ce78fdedfd0.png" alt="{k_f}" style="vertical-align: -6px"/> is the thermal conductivity of the fluid</li>
</ul>
<p>In the thermal entry region, a “local” convective heat transfer coefficient, <img class="math" src="_images/math/f0366957f79f1df7e8626f247e76b0752283623e.png" alt="{h_x}" style="vertical-align: -3px"/>,
is a function of the axial location where an “average” convective heat transfer
coefficient, <img class="math" src="_images/math/d8a5b03eadb5a3bd7fa792c1d8d78fa592504599.png" alt="{h_L}" style="vertical-align: -3px"/>, may be obtained by integrating the heat transfer
over the entire length of the pipe.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><strong>Example:</strong></p>
<blockquote>
<div><p>Water flows through a pipe at the temperature of <img class="math" src="_images/math/403a9a64e7711d52656c0a4f426ea315e6a961cc.png" alt="{T_{m1}}=26" style="vertical-align: -3px"/> <img class="math" src="_images/math/f36bc2958f48e5ef97d30c652ce7900197e83da8.png" alt="C" style="vertical-align: 0px"/>
enters a 0.254 <img class="math" src="_images/math/1037a8f4215555e3efa2949f5393050807b5b344.png" alt="m" style="vertical-align: 0px"/>-long tube with an inner diameter
of <img class="math" src="_images/math/27c6bd94c0cfebfe31b9c21378bcdfb8a1fdd9eb.png" alt="D=0.003175" style="vertical-align: 0px"/> <img class="math" src="_images/math/1037a8f4215555e3efa2949f5393050807b5b344.png" alt="m" style="vertical-align: 0px"/>. The average velocity of the water
in the tube is <img class="math" src="_images/math/7c7fdacba91f17d6627edd1357ee9d31f5b26452.png" alt="V=23.9" style="vertical-align: 0px"/> <img class="math" src="_images/math/1a18e24935cbd9b3d554419d7829f67c96fcaf96.png" alt="m/s" style="vertical-align: -5px"/>. The water exits at a temperature
of <img class="math" src="_images/math/d8d16b5e5c009c34a7cfc3e86514e28a45618dc5.png" alt="{T_{m2}}=37.7" style="vertical-align: -3px"/> <img class="math" src="_images/math/f36bc2958f48e5ef97d30c652ce7900197e83da8.png" alt="C" style="vertical-align: 0px"/>. What is the heat transfer coefficient?</p>
<div class="line-block">
<div class="line"><img class="math" src="_images/math/e05a5e0e590ef9dd8e8d13bab1bae2d2ecf298c3.png" alt="\rho = 1000" style="vertical-align: -4px"/> <img class="math" src="_images/math/54c1c855c002cdd242bdde5dd26b81ef3b2153ca.png" alt="kg/m^3" style="vertical-align: -5px"/></div>
<div class="line"><img class="math" src="_images/math/4722d3ca4b140aae065ec14596f172b50a20162d.png" alt="\mu = 0.001" style="vertical-align: -4px"/> <img class="math" src="_images/math/2e98aaa43adbe6e6186e5aa8180682a849b04683.png" alt="Pa*s" style="vertical-align: 0px"/></div>
<div class="line"><img class="math" src="_images/math/5dc1a8d7bcd3ee4ff4a686e3e798650311b3e088.png" alt="k_f=0.597" style="vertical-align: -6px"/> <img class="math" src="_images/math/0de18fcc1ed04ebcc4857f6a6e672a99d5991bf0.png" alt="W/(m*K)" style="vertical-align: -5px"/></div>
<div class="line"><img class="math" src="_images/math/0fa6ce20e182b8ced4e73738e627362c239835c5.png" alt="C_p=4182" style="vertical-align: -6px"/> <img class="math" src="_images/math/e3e44069b78b5264dd4243b83731716e7d7e6c74.png" alt="J/(kg*K)" style="vertical-align: -5px"/></div>
</div>
<p>First we calculate the Reynolds number using Eq. <a class="reference internal" href="#equation-reynoldsnumber">(1)</a>
to determine if the flow is turbulent or laminar and what regime it
falls in to give the proper condition for the appropriate heat transfer
equation.</p>
<div class="math">
<p><img src="_images/math/e6e78c48554852f1a0923a70c5369c4490d5c2ec.png" alt="Re = 75,882"/></p>
</div><p>The flow is turbulent. Next we calculate the Prandtl number using Eq.
<a class="reference internal" href="#equation-prandtlnumber">(2)</a> to help us determine which heat transfer equation is
needed. The Prandtl number is calculated as:</p>
<div class="math">
<p><img src="_images/math/ea709626ae8e1182c7fb6b5763cef6211214dce0.png" alt="Pr = 7.0"/></p>
</div><p>Finally using the third condition from the Table
<a class="reference internal" href="#tableheattransfereqpipeflow"><span class="std std-ref">Heat Transfer Equations for Pipe Flow</span></a>, gives the following equation
for the Nusselt number:</p>
<div class="math">
<p><img src="_images/math/3f943d0d91ef24db76a1cf2931827cbec3bf6cba.png" alt="Nu = 0.012\left( {R{e^{0.87}} - 280} \right)P{r^{0.4}} = 0.012\left( {{{75882}^{0.87}} - 280} \right){7.0^{0.4}} = 452.876"/></p>
</div><p>Solving for the convective heat transfer coefficient, <img class="math" src="_images/math/287f8adc72babf3e4b81f4266f4392176081a8bd.png" alt="h" style="vertical-align: 0px"/>, gives:</p>
<div class="math">
<p><img src="_images/math/191888f18d1a4225af1eb034f25420d93295993c.png" alt="h = \frac{{Nu{\text{*}}{k_f}}}{D} = \frac{{452.876{\text{*}}0.597{\text{ }}W/(m{\text{*}}K)}}{{0.003175{\text{ }}m}} = 85155{\text{ }}W/({m^2}{\text{*}}K)"/></p>
</div></div></blockquote>
<span class="target" id="index-43"></span></div>
</div>
<div class="section" id="core-gas">
<span id="coregasmr"></span><span id="index-44"></span><h2>Core Gas<a class="headerlink" href="#core-gas" title="Permalink to this headline">¶</a></h2>
<div class="section" id="model-dependencies">
<h3>Model Dependencies<a class="headerlink" href="#model-dependencies" title="Permalink to this headline">¶</a></h3>
<p>The core gas model computes the generation and flow of the chemical binder
gases in permeable cores. The model works in conjunction with other
models in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span>. It requires the activation of the full heat transfer model
<span class="menuselection">Physics ‣ Heat Transfer</span>. Pressures and temperature can
be defined in any unit system as they are automatically converted to absolute units
in pre-processor based on the user-defined units.</p>
</div>
<div class="section" id="global-model-controls">
<h3>Global Model Controls<a class="headerlink" href="#global-model-controls" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><img alt="Core gas" src="_images/ModelReference_CoreGas_v12.JPG" />
</div></blockquote>
<p>The model is controlled by a set of global input parameters available through
the <span class="menuselection">Physics</span> widget and a set of component-specific input
parameters set in the <span class="menuselection">Geometry</span> widget.
The model is activated in <span class="menuselection">Physics ‣ Core gas</span>. Additionally,
by selecting <span class="guilabel">Activate print venting</span> the user can activate venting
at all core prints and set numerical options that control the computation of
the core gas source terms and the convergence behavior of the core gas flow
solver.  The print venting option allows the user to model cases of
well-vented print surfaces where the gas escapes to atmosphere either through the
parting plane, or through specially introduced mold vents drilled to the
print surfaces. The reference pressure at prints is the void pressure set in
<span class="menuselection">Initial ‣ Global ‣ Void</span>.</p>
<blockquote>
<div><img alt="Core gas numerical options" src="_images/core-gas-numerical-options.png" />
</div></blockquote>
<p>To achieve good accuracy of the core gas source in the binder decomposition
zone, a sub-cell resolution method is used. For a typical resin binder a
decomposition zone width at the surface of the core, the thermal gradients are
steepest, is 0.25-0.5 mm. A submesh resolution is, therefore, needed for a
mesh with cell size larger than 0.5 mm; mesh cells are subdivided further into
sub-cells to capture these steep thermal gradients. However, the total number
of sub-cells in each computational cell has to be less than 1000. Thus if
using cartesian coordinates, the <span class="guilabel">sub-scaling dimension of binder
array</span> <span class="target" id="index-45"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">ISSDIMCG</span></code> must be less than 10. If using cylindrical coordinates,
<span class="target" id="index-46"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">ISSDIMCG</span></code> must be less than 32.The core gas flow is computed with a
compressible SOR pressure-velocity solver with a <span class="guilabel">Convergence
tolerance multiplier</span> and <span class="guilabel">Maximum iteration count</span> defined in
<span class="menuselection">Physics ‣ Core gas ‣ Numerical Options</span>. Defaults here are
typically optimal; however, greater time accuracy can be achieved by setting
the <span class="guilabel">Convergence tolerance multiplier</span> to a value smaller than 1.0,
and some simulations may require more than the 1000 iteration limit.</p>
<p>The core gas flow is influenced by the metal pressure distribution on the
surface of the core which acts as a boundary condition for the gas flow. With
the default <span class="guilabel">Boundary underrelaxation time</span> of zero, the metal
pressure variations are instantaneously reflected on the core gas flow. For a
positive value of the under-relaxation time, the changes in the metal
pressures exponentially decay to the current value with the specified
relaxation time. Negative values are not allowed.</p>
</div>
<div class="section" id="core-gas-component-properties">
<span id="index-47"></span><h3>Core Gas Component Properties<a class="headerlink" href="#core-gas-component-properties" title="Permalink to this headline">¶</a></h3>
<p>Individual core gas obstacles are defined in the <span class="menuselection">Geometry</span>
component list. The <span class="guilabel">Component Type</span> has to be
<span class="guilabel">Core gas</span>. In the <span class="guilabel">Solid Properties</span>, the user can choose
if <span class="guilabel">Shell mold</span> is used. If <span class="guilabel">Shell mold</span> is chosen, the
thermal shell layer defined by <span class="guilabel">The Maximum Thermal Penetration
Depth</span> is treated as an actual shell mold with full core gas venting at the
shell exterior boundary.</p>
<blockquote>
<div><img alt="Core gas solid properties" src="_images/core-gas-solid-properties.png" />
</div></blockquote>
<p>A fixed pressure venting boundary condition is
imposed at the boundary, with the pressure defined in <span class="menuselection">Initial
‣ Global ‣ Void initial state ‣ Pressure</span>. If <span class="guilabel">Shell mold</span> is
not chosen, the component volume outside the thermal layer is treated as an
impenetrable wall.</p>
<blockquote>
<div><img alt="Core gas component properties" src="_images/core-gas-component-properties.png" />
</div></blockquote>
<p>The core gas obstacle is characterized by the thermophysical properties of the
sand, by the chemical properties of the binder, and by the flow properties of
the gasified binder. The parameter <span class="guilabel">Average Sand Grain Diameter</span> -
<span class="target" id="index-48"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">GRAINDIAM</span></code>, or <span class="guilabel">Sand Darcian Permeability</span> - <span class="target" id="index-49"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PERMCG</span></code>
and <span class="guilabel">Sand Non-Darcian Permeability</span> - <span class="target" id="index-50"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PERMCG2</span></code> must be
provided and be positive. If <span class="guilabel">Average Sand Grain Diameter</span> is used,
it is  converted in the pre-processor to the linear and quadratic drag
coefficients for a given sand core component according to:</p>
<div class="math">
<p><img src="_images/math/3b4f1cbb6038c3fd772c1b954025e5215d99f55c.png" alt="a = \frac{180}{\rm{GRAINDIAM}^2}"/></p>
</div><div class="math">
<p><img src="_images/math/c039046b23e619a4b9bc14320ceb3b38c0c11504.png" alt="b = \frac{3}{\rm{GRAINDIAM}}"/></p>
</div><p>If <span class="guilabel">Sand Darcian Permeability</span> and <span class="guilabel">Sand Non-Darcian Permeability</span>
are used, they are converted in the pre-processor to the linear and quadratic drag coefficients according to:</p>
<div class="math">
<p><img src="_images/math/874a50b6eaeb46c389ba78fe86392f611f744967.png" alt="a=\frac{{\phi}^3}{{(1-\phi)^2} {\rm{PERMCG}}}"/></p>
</div><div class="math">
<p><img src="_images/math/6908ef77e36f7d1e4fc1e15f6a8c0736727aefd1.png" alt="b=\frac{\phi^3}{(1 - \phi) {\rm{PERMCG2}}}"/></p>
</div><p>where <img class="math" src="_images/math/43c39ebe6079883ede9bb3a94e9a1674af72de6e.png" alt="\phi" style="vertical-align: -4px"/> is the core porosity. For more information about the core
gas component properties, please refer to the <a class="reference internal" href="theory.html"><span class="doc">Theory</span></a> manual section
<a class="reference internal" href="theory.html#coregasgenerationth"><span class="std std-ref">Core Gas Generation and Flow in Sand Cores and Molds</span></a>.</p>
</div>
<div class="section" id="model-output">
<h3>Model Output<a class="headerlink" href="#model-output" title="Permalink to this headline">¶</a></h3>
<p>The core gas model generates model-specific output for post-processing. The
<span class="guilabel">General history</span> output in <span class="guilabel">Probe</span> includes the core gas
mass fluxes to metal, to void, to prints and a total gasification rate from
each core gas component. The spatial plots contain the binder content,
gasification rate, surface gas flux and gas density in the core. To access gas
velocities and pressures the user should specifically choose <span class="guilabel">Core
gas velocity</span> and <span class="guilabel">Core gas pressure</span> variables to plot these
quantities inside the components. The user can also plot core gas pressures
concurrently with metal pressure in the casting.</p>
<p>The gas flow domain inside core components is confined to fully blocked cells,
therefore, the sand core thickness should be resolved by at least one full
cell for the core gas flow solution to be accurate. The quality of core
component resolution should be checked by first preprocessing the input, then
loading the <code class="file docutils literal notranslate"><span class="pre">prpgrf</span></code> file into the <span class="menuselection">Analyze</span> tab and
plotting the iso-surface of the <span class="guilabel">Complement of volume fraction</span>
with the contour value of 0.99. The resulting iso-surface for the sand core
components should be continuous throughout the core. If it is not continuous,
then the mesh should be refined and the resolution checked again using this
procedure.</p>
<span class="target" id="index-51"></span></div>
</div>
<div class="section" id="defect-tracking">
<span id="defecttrackingmr"></span><span id="index-52"></span><h2>Defect tracking<a class="headerlink" href="#defect-tracking" title="Permalink to this headline">¶</a></h2>
<p>The <span class="guilabel">Free surface defect tracking</span> model tracks surface impurities
that arise from oxide formation on the free surface. The model is activated by
selecting <span class="menuselection">Physics ‣ Defect tracking</span>, and activate
<span class="guilabel">Track free surface defects</span>:</p>
<blockquote>
<div><img alt="Defect Tracking" src="_images/surface-contamination-defect-tracking.png" />
</div></blockquote>
<p>The surface defect prediction algorithm in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> consists of a source term for
oxide formation, which is proportional to the surface area and exposure time.
A transport equation is used to track the movement of defect
material with the flowing metal.</p>
<p>Oxide generation at free surfaces is governed by the <span class="guilabel">Defect
generation rate</span>, which defaults to
1.0. The actual magnitude of the generation rate is unimportant, especially
in the absence of experimental data quantifying the production of the
contamination at the surface. The distribution of the contaminant in the
filled mold can be interpreted as the distribution of the probability of
defects. For example, locations of local maximums of the oxide defect
concentration are more likely to be the locations of defects.</p>
<p>The <span class="guilabel">Molecular diffusion coefficient</span> controls the
rate of molecular diffusion (i.e., Brownian-motion based) of the defect after it has been generated, during transport. The
<span class="guilabel">Turbulent diffusion coefficient multiplier</span> controls the rate of
diffusion due to turbulence: a value of 1.0 means that the defect
diffuses at the same rate as the momentum, while values less than 1.0 mean
that the diffusion of defect is slower than that of momentum. Values greater
than 1.0 make no physical sense.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>Surface contaminants can only be tracked in flows with sharp fluid interfaces.</li>
<li>In the current model, surface contaminant cannot escape through the surrounding mold material.</li>
<li>Surface defects are represented by the
<span class="menuselection">Surface defect concentration</span> flag in the <span class="guilabel">Selected</span>
data output area.</li>
</ul>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">The <a class="reference internal" href="#surfacecontaminationmr"><span class="std std-ref">Lost foam residue tracking</span></a> is a related model for
approximating defects generated by
the decomposition of foam during the <a class="reference internal" href="#lostfoammr"><span class="std std-ref">Lost Foam Casting Process</span></a>.</p>
</div>
<span class="target" id="index-53"></span></div>
<div class="section" id="drift-flux">
<span id="driftfluxmr"></span><span id="index-54"></span><h2>Drift Flux<a class="headerlink" href="#drift-flux" title="Permalink to this headline">¶</a></h2>
<p>The drift model describes the relative flow of two intermixed fluid
components, one continuous and the other dispersed, with different densities.
The components can be of different phases, or of the same phase but different
(immiscible) fluids. Limitations to the applicability of the drift model can
exist when the dispersed phase particle size is large. These limitations can
generally be avoided by maintaining a dispersed phase particle size of less than 10% of
the mesh cell size. See TN-77 at <a class="reference external" href="http://users.flow3d.com/technical-notes/">http://users.flow3d.com/technical-notes/</a> for a more detailed discussion on the
limitations to the drift flux model.</p>
<blockquote>
<div><img alt="Drift flux" src="_images/drift-flux.png" />
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The drift-flux model requires that the <span class="guilabel">Viscous flow</span> option (<span class="target" id="index-55"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">IFVISC</span></code> =1) be enabled.</p>
</div>
<div class="section" id="versions-of-the-model">
<span id="drift-model-versions"></span><h3>Versions of the Model<a class="headerlink" href="#versions-of-the-model" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first"><strong>One fluid, variable density flow with or without free surface</strong>:
This option allows the user to simulate a mixture of two phases and still
include a transient free surface with a void space. The fluid is a mixture of
two components, each of a constant density. First, <span class="menuselection">General ‣One fluid option</span>
must be selected and the variable density model must be
selected in <span class="menuselection">Physics ‣ Density Evaluation ‣ First order approximation to density transport equation</span>
or <span class="menuselection">Second order approximation to density transport equation</span>.
Second, activate the <span class="guilabel">Drift-flux</span>
model in <span class="menuselection">Physics ‣ Drift-flux</span>. The continuous
phase density is defined in <span class="menuselection">Fluids ‣ Properties for ‣ Fluid 1 ‣ Density</span>.
For the dispersed component (e.g., bubbles, solid particles, or
immiscible liquid droplets) the density is set in <span class="menuselection">Physics ‣ Drift-flux ‣ Density of the dispersed phase</span>.
The initial density distribution can be set in <span class="guilabel">Initial</span> – see
<a class="reference internal" href="model-setup.html#ics"><span class="std std-ref">Initial Conditions</span></a>. The mixture density at inlet boundaries,
i.e., at a velocity or pressure boundary, can be set in <span class="guilabel">Boundaries</span>
– see <a class="reference internal" href="model-setup.html#settingbcs"><span class="std std-ref">Mesh Boundary Conditions</span></a>. The initial and boundary values of the mixture
densities must be in the range between the densities of the two components. No
heat transfer is allowed in this case (i.e., only possible with isothermal
simulations).</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"> <a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#flowwithdensityvariationsmr"><span class="std std-ref">Flows with Density Variations</span></a></p>
</div>
</li>
<li><p class="first"><strong>One fluid flow with solidification with or without free surface</strong>:
The fluid is a mixture of liquid and solidified phases, each of a constant
density. Select <span class="menuselection">General ‣ One fluid option</span>. The
solidification model must be activated in <span class="menuselection">Physics ‣
Solidification</span>. See <a class="reference internal" href="#solidificationsectionmr"><span class="std std-ref">Solidification</span></a>. The liquid (continuous)
and solid (dispersed) phase densities are defined as in case 1. In
<span class="menuselection">Physics ‣ Density Evaluation</span> either <span class="guilabel">Constant
uniform density</span> or <span class="guilabel">Density evaluated as a function of other
quantities</span> can be used.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"> <a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#solidificationsectionmr"><span class="std std-ref">Solidification</span></a></p>
</div>
</li>
<li><p class="first"><strong>Two incompressible fluids, each of a constant density</strong>:
Select <span class="menuselection">General ‣ Two fluids, No sharp interface</span> and
<span class="menuselection">Incompressible</span>. Densities for the two fluids
are defined in <span class="menuselection">Fluids ‣ Properties for ‣ Fluid 1 ‣ Density</span> and <em>not</em> in
the drift-flux window shown above. Phase #1 is fluid #1 and phase #2 is fluid #2.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"> <a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#twofluidflowmr"><span class="std std-ref">Two-Fluid Flow</span></a></p>
</div>
</li>
<li><p class="first"><strong>Incompressible and compressible fluid mixtures</strong>
In this case, the density of the compressible gas (fluid #2) is defined by the
equation of state, while the incompressible material has a constant density,
which is always assumed to be much larger than the gas density. Select
<span class="menuselection">General ‣ Two fluids, No sharp interface and Compressible</span>.
Fluid #1 density is defined in <span class="menuselection">Fluids ‣ Properties for ‣ Fluid 1 ‣ Density</span>.
The gas properties are defined the same way as for
any compressible fluid case.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"> <a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#compressibleflowmr"><span class="std std-ref">Compressible Flows</span></a>.</p>
</div>
</li>
</ul>
</div>
<div class="section" id="calculation-of-drag-between-the-phases">
<span id="drift-drag-calculation"></span><h3>Calculation of drag between the phases<a class="headerlink" href="#calculation-of-drag-between-the-phases" title="Permalink to this headline">¶</a></h3>
<p>The drift-flux model has two terms in the calculation of drag between the
phases: Linear and Quadratic, referring to the approximation of momentum
coupling. The linear term describes a Stokes-type, viscosity dominated flow of
the continuous phase around particles of the dispersed phase. The quadratic
term takes into account the pressure forces acting between the two phases,
covering a wider range of flow types. The drag per unit volume (<img class="math" src="_images/math/f260cf8d7d301afbe8939298464f1835db53f316.png" alt="K_p" style="vertical-align: -6px"/>)
is</p>
<div class="math" id="equation-drag-per-unit-volume">
<p><span class="eqno">(4)<a class="headerlink" href="#equation-drag-per-unit-volume" title="Permalink to this equation">¶</a></span><img src="_images/math/46897ec1d4cdafd62ea8d63a13b51bcd678c9971.png" alt="K_p = \frac{1}{2} A_p \rho_c \left( C_D U + 12 \frac{\mu_c}{\rho_c R_p} \right)"/></p>
</div><p>where:</p>
<ul class="simple">
<li><img class="math" src="_images/math/76f33918841510e15d8098f9d04510b3097370be.png" alt="A_p" style="vertical-align: -6px"/> is the cross sectional area per unit volume of the dispersed phase.</li>
</ul>
<p>It can be <span class="guilabel">Dynamically computed</span> or by using a constant value of a user-specified <span class="guilabel">Average particle radius</span>,</p>
<ul class="simple">
<li><img class="math" src="_images/math/acd735e57c2e31b5fd744e36cba87442ddebf269.png" alt="\rho_c" style="vertical-align: -4px"/> and <img class="math" src="_images/math/1868977c5775eecc31ad917919867752e67058fd.png" alt="\mu_c" style="vertical-align: -4px"/> are the fluid density and dynamic viscosity, and</li>
<li><img class="math" src="_images/math/257fb351c94813d1da6f0305ac48ee38ffb415b2.png" alt="C_D" style="vertical-align: -3px"/> is the user-specified <span class="guilabel">Drag coefficient</span>. It is a dimensionless quantity and is 0.5 for spheres (the default)</li>
<li><img class="math" src="_images/math/36a7ab61377662a8efdc0c7f045bf8de74aaecfc.png" alt="R_p" style="vertical-align: -6px"/> is the average particle size in the dispersed component.</li>
</ul>
<p>The relative velocity between the phases is computed from combining the
driving force of drift (per unit volume), which is merely <img class="math" src="_images/math/3b24aa21794c9b64063a86d54ee374e7d2dd59b9.png" alt="\nabla P" style="vertical-align: -1px"/>,
with Equation <a class="reference internal" href="#equation-drag-per-unit-volume">(4)</a>. The relative velocity is computed
from the solution of the resulting quadratic equation.</p>
<p>In addition, <span class="menuselection">Physics ‣ Drift-flux ‣ Volume fraction of
dispersed phase at inversion point</span> can be used to model the coalescence of
the dispersed phase droplets into a continuous fluid at this volume fraction.
If the volume fraction of the second phase drops back below the inversion
point, it again reverts to the dispersed phase. This may be important in
devices such as oil/water separators.</p>
<p>The Richardson-Zaki model approximates the effects of the dispersed phase
interactions when the dispersed phase concentration becomes finite, since the
aforementioned model assumes that each droplet/particle/bubble does not see
neighboring droplets/particles/bubbles. The model serves to restrict the
relative velocity between the phases, <img class="math" src="_images/math/65ec3beb6a51b0cf6462bf5bebbe448e0bd05c40.png" alt="u_r" style="vertical-align: -3px"/>:</p>
<div class="math">
<p><img src="_images/math/d4588aaf7ff03f23ce2d774c740c0fc806530d81.png" alt="u_r^{\prime}=u_r \left( 1-min(0.5,f_d) \right)^{R_m \cdot R_z}"/></p>
</div><p>where</p>
<ul class="simple">
<li><img class="math" src="_images/math/19b29e0abb35e59ba83cc6061eee5334fb04c413.png" alt="u_r^{\prime}" style="vertical-align: -5px"/> is the adjusted relative velocity due to particle-particle effects,</li>
<li><img class="math" src="_images/math/65ec3beb6a51b0cf6462bf5bebbe448e0bd05c40.png" alt="u_r" style="vertical-align: -3px"/> is the relative velocity calculated using Equation <a class="reference internal" href="#equation-drag-per-unit-volume">(4)</a>,</li>
<li><img class="math" src="_images/math/3b49c0f4242a6835160fd21c1322201466d0e5bc.png" alt="f_d" style="vertical-align: -4px"/> is the volume fraction of dispersed phase,</li>
<li><img class="math" src="_images/math/c69c75c7694ea31d3d9d2054b804d088cf0f1e4f.png" alt="R_m" style="vertical-align: -3px"/> is the user-defined <span class="guilabel">Richardson-Zaki coefficient multiplier</span>, and</li>
<li><img class="math" src="_images/math/c66e51136d406c54df1922f22f7e6764cd66a556.png" alt="R_z" style="vertical-align: -3px"/> is the Richadson-Zaki coefficient, determined based on the particle Reynolds number, <img class="math" src="_images/math/a306693dd8de1f19a7b1bf09ef05e54e5bd3f8b7.png" alt="Re_p" style="vertical-align: -6px"/>:</li>
</ul>
<table border="1" class="colwidths-given longtable docutils" id="richardsonzakicoefficient">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Particle Reynolds number, <img class="math" src="_images/math/a306693dd8de1f19a7b1bf09ef05e54e5bd3f8b7.png" alt="Re_p" style="vertical-align: -6px"/></th>
<th class="head">Richardson-Zaki Coefficient, <img class="math" src="_images/math/c66e51136d406c54df1922f22f7e6764cd66a556.png" alt="R_z" style="vertical-align: -3px"/></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><img class="math" src="_images/math/7296ab751d12dc978f4c85c3caba18192e5458b2.png" alt="Re_p \le" style="vertical-align: -6px"/> 0.2</td>
<td><img class="math" src="_images/math/ad066a2a2cb03cd67a8278986b231f62eec6492c.png" alt="4.65" style="vertical-align: 0px"/></td>
</tr>
<tr class="row-odd"><td>0.2 <img class="math" src="_images/math/0e853e4ecacc6b73fc498b88148325e124143dd3.png" alt="&lt; Re_p \le" style="vertical-align: -6px"/> 1.0</td>
<td><img class="math" src="_images/math/c1e5d1f9d160cb19fe6accd13872528ecf05b8f1.png" alt="\frac{4.35}{Re_p^{0.03}}" style="vertical-align: -11px"/></td>
</tr>
<tr class="row-even"><td>1.0 <img class="math" src="_images/math/0e853e4ecacc6b73fc498b88148325e124143dd3.png" alt="&lt; Re_p \le" style="vertical-align: -6px"/> 500</td>
<td><img class="math" src="_images/math/0446c7ff3b56af66759e295a086038d6a3777fd0.png" alt="\frac{4.45}{Re_p^{0.1}}" style="vertical-align: -11px"/></td>
</tr>
<tr class="row-odd"><td><img class="math" src="_images/math/76584f1a87955d9b7a60b15fb102b3ed621b0a95.png" alt="Re_p &gt;" style="vertical-align: -6px"/> 500</td>
<td><img class="math" src="_images/math/f1a09d93f7e6d879cbe1a7391bc04eea8b4d7c61.png" alt="2.39" style="vertical-align: 0px"/></td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"> <a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#escapeofgasmr"><span class="std std-ref">Escape of Gas through a Free Surface</span></a> for a special case of using the drift model.</p>
</div>
<span class="target" id="index-56"></span></div>
<div class="section" id="dispersed-phase-drop-size">
<span id="dropletsizemr"></span><span id="index-57"></span><h3>Dispersed Phase Drop Size<a class="headerlink" href="#dispersed-phase-drop-size" title="Permalink to this headline">¶</a></h3>
<p>With the drift flux model activated and the <span class="guilabel">Type of dispersed phase</span> defined as
<span class="menuselection">Liquid or gaseous</span>, the user has the option to  select the
<span class="guilabel">Dispersed phase drop size</span> to be defined as <span class="menuselection">Constant</span>
or <span class="menuselection">Dynamically computed</span>. Defining an accurate droplet size is often  a
critical step when using the drift flux model, because it will directly effect the drag
and buoyancy calculations of the dispersed phase within the continuous phase.</p>
<p>When <span class="menuselection">Constant</span> is selected, the droplet size will remain fixed
throughout the simulation. This method has limitations because most often the size of
the droplet is not known and droplet size can vary as a function of both time and space.
The droplet size can decrease by breaking up into multiple smaller droplets as shear is applied across the element.
The droplet size can increase when one or more droplets collide and coalesce into a larger droplet.</p>
<p>Selecting the <span class="menuselection">Dynamically computed</span> option will allow the
droplet size to be calculated dynamically. To use this option the user must
first define the <span class="guilabel">Initial drop diameter</span>. Values for the
<span class="guilabel">Critical weber number</span> and <span class="guilabel">Critical capillary number</span>
must also be specified. These variables control the rate of particle breakup
and are described in Flow Science Report 11-16 at <a class="reference external" href="http://users.flow3d.com/technical-notes/">http://users.flow3d.com/technical-notes/</a>.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"> Flow Science Technical Note Flow Science Report 11-16 at <a class="reference external" href="http://users.flow3d.com/technical-notes/">http://users.flow3d.com/technical-notes/</a>.</p>
</div>
<span class="target" id="index-58"></span></div>
<div class="section" id="escape-of-gas-through-a-free-surface">
<span id="escapeofgasmr"></span><span id="index-59"></span><h3>Escape of Gas through a Free Surface<a class="headerlink" href="#escape-of-gas-through-a-free-surface" title="Permalink to this headline">¶</a></h3>
<p>The drift-flux model is useful for modeling two-phase flow situations in which
the phases or components are strongly coupled. See <a class="reference internal" href="#driftfluxmr"><span class="std std-ref">Drift Flux</span></a> for the
general use of the drift-flux model. The drift model allows a lighter
material, dispersed in a denser fluid, to move in the direction of the
pressure gradient. In the standard drift flux model applied to a single fluid
mixture, both fluid components constitute fluid #1. Therefore, the total fluid
volume stays constant as the two components separate. In the case of small gas
bubbles rising (drifting) and reaching a free surface, they are allowed to
escape into the overlying gas region. This is the purpose of the gas escape
model.</p>
<p>The <span class="menuselection">Physics ‣ Drift-flux model</span> must be activated and
<span class="guilabel">Drift-flux –&gt; Type of dispersed phase –&gt; Gaseous</span> must be selected. Also,
<span class="guilabel">One fluid</span> and <span class="guilabel">Free surface or sharp interface</span> must be
activated in <span class="guilabel">General</span>, as well as a density transport model in
<span class="menuselection">Physics ‣ Density evaluation</span>.</p>
<p>Two parameters control the rate of gas escape at free surface.
The comlpement of <span class="guilabel">Minimum volume fraction of phase 1</span> defines the maximum
allowed accumulation of gas near free surface before it escapes into the atmopshere. It
defaults to 0.1 which means that the maximum volume fraction of air near free surface
cannot exceed 0.9. The larger the value of this parameter, the faster gas will escape.</p>
<p>The second parameter is <span class="guilabel">Escape rate coefficient</span> which is a multiplier for
the gas escape velocity at free surface. It defaults to 1.0 which is suitable for air
bubbles in clean water. Contamination of the fluid may impede the gas escape causing
foaming, an effect that could be captured by descreasing the value of this parameter.
A value of 0.0 would turn off gas escape through the mechanism of moving bubbles.
However, the maximum gas concentration would still be controlled by
<span class="guilabel">Minimum volume fraction of phase 1</span>. To completely
turn off gas escape at free surface, set both parameters equal to 0.0.</p>
<blockquote>
<div><img alt="Escape of gas" src="_images/drift-flux.png" />
</div></blockquote>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p></p>
<ul class="last simple">
<li><a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#airentrainmentmr"><span class="std std-ref">Air Entrainment</span></a></li>
<li><a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#driftfluxmr"><span class="std std-ref">Drift Flux</span></a></li>
<li><a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#flowwithdensityvariationsmr"><span class="std std-ref">Flows with Density Variations</span></a></li>
</ul>
</div>
</div>
</div>
<div class="section" id="elastic-plastic-and-viscoelastic-fluids">
<span id="elastic-and-viscoelasticmr"></span><h2>Elastic, Plastic, and Viscoelastic Fluids<a class="headerlink" href="#elastic-plastic-and-viscoelastic-fluids" title="Permalink to this headline">¶</a></h2>
<p><span class="raw-html"><strong><em>FLOW-3D </em></strong></span> has broad capability for modeling non-Newtonian fluids,
including <a class="reference internal" href="#elasticandplasticmaterialsmr"><span class="std std-ref">Elastic and Plastic Materials</span></a>
and <a class="reference internal" href="#vematerialsmr"><span class="std std-ref">Viscoelastic Materials</span></a>, as described in the following sections.</p>
<span class="target" id="index-60"></span><div class="section" id="elastic-and-plastic-materials">
<span id="elasticandplasticmaterialsmr"></span><span id="index-61"></span><h3>Elastic and Plastic Materials<a class="headerlink" href="#elastic-and-plastic-materials" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><img alt="Elasto-visco plasticity" src="_images/elasto-visco-plasticity.png" />
</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
<blockquote>
<div><img alt="Elasto-visco plasticity properties" src="_images/ModelReference_ViscoElasticFluidProperties_v12.JPG" />
</div></blockquote>
<p>Viscoplastic materials are materials that behave as elastic solids up to their
yield stress, at which time they behave as a viscous liquid. The incremental
elastic stress model in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> computes the elastic stress using a Hookean
model. Although this constitutive equation predicts only a linear response to
stress, implemented as an incremental model it allows for the prediction of
nonlinear responses to finite strains. If viscous stresses also need to be
predicted, it is necessary to turn on viscosity. In this way,
elasto-viscoplastic fluids (i.e., Bingham-like materials) can be simulated: the
stress that dominates depends on local strain and strain rate.
For truly viscoelastic materials, where there is a continuous interaction
between viscous and elastic stresses, refer to <a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;
<a class="reference internal" href="#vematerialsmr"><span class="std std-ref">Viscoelastic Materials</span></a>.</p>
<p>Activate the elastic stress model in  <span class="menuselection">Physics ‣ Elasto-
visco-plasticity</span>. Select  <span class="guilabel">Elasto-viscoplastic model</span> and then
choose between the <span class="guilabel">Implicit</span> or <span class="guilabel">Explicit</span> solvers. An
implicit solver can be used if the explicit model requires a time-step size
too small for an efficient calculation.</p>
<p>The shear elastic modulus and yield stress limit for either (or both) fluids
can be specified in <span class="menuselection">Fluids ‣ Properties for ‣ Fluid 1 ‣ Elasto-
viscoplastic</span>. Specifying the yield stress to be negative (default)
means that the yield stress is infinite; thus, no yielding occurs.
The bulk modulus of the fluid is specified via the <span class="guilabel">Compressibility</span>
entries in <span class="menuselection">Fluids ‣ Properties for ‣ Fluid # ‣ Density ‣ Compressibility</span>; the
compressibility parameter in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> is the inverse of the bulk modulus.
Elasto-thermal effects can also be predicted if the <span class="guilabel">Thermal
expansion coefficient</span> is specified along with <span class="guilabel">Density evaluated as
a function of other quantities</span> along with the addition of <span class="guilabel">Include
volumetric thermal expansion</span>.</p>
<p>Output quantities associated with the <span class="guilabel">Elasto-visco-plastic</span> model
include the 6 independent components of the elastic stress tensor, as well as
the cell-centered off-diagonal components. The <span class="guilabel">Von Mises</span> stress is
the square root of the second invariant of the Cauchy Stress deviator, and is
a measure of the magnitude of the local shearing stresses. The pressure (as
always) is a measure of the local isotropic stress.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p></p>
<ul class="last simple">
<li><a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#vematerialsmr"><span class="std std-ref">Viscoelastic Materials</span></a></li>
<li><a class="reference internal" href="theory.html"><span class="doc">Theory</span></a> –&gt; <a class="reference internal" href="theory.html#viscoelasticstressmodelth"><span class="std std-ref">Elasto-visco-plastic and Viscoelastic Model</span></a></li>
<li><a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#buoyantflowmr"><span class="std std-ref">Buoyant Flow</span></a></li>
<li>Flow Science Technical Note 64 on modeling incremental elastic stress can be found at <a class="reference external" href="http://users.flow3d.com/technical-notes/">http://users.flow3d.com/technical-notes/</a>.</li>
</ul>
</div>
<span class="target" id="index-62"></span><div class="section" id="elastic-fluid-example-bingham-material-approximation">
<span id="binghammaterialmr"></span><span id="index-63"></span><h4>Elastic fluid example:  Bingham Material Approximation<a class="headerlink" href="#elastic-fluid-example-bingham-material-approximation" title="Permalink to this headline">¶</a></h4>
<p>A Bingham material has a finite yield stress, so the material behaves as a
solid when applied forces do not exceed the yield stress. Once the yield
stress is exceeded, the material then behaves as a viscous fluid. Toothpaste
is often cited as an example of a Bingham material.  <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> has an
elastic-plastic stress model that can be used to compute the elastic stress within the
fluid. The model is activated in the <span class="menuselection">Physics ‣ Elastic stress</span>
panel.</p>
<blockquote>
<div><img alt="Elasto-visco-plasticity" src="_images/elasto-visco-plasticity.png" />
</div></blockquote>
<p>The elastic modulus and the yield stress values for each fluid are defined in
the <span class="guilabel">Fluids</span> widget in the <span class="menuselection">Fluid 1 ‣ Elasto-Viscoplastic</span> tab.
Also, because the fluid behaves in a viscous manner after the yield stress
is exceeded, the fluid viscosity must be defined.</p>
<blockquote>
<div><img alt="Bingham Material" src="_images/ModelReference_BinghamMaterialFluidProperties_v12.JPG" />
</div></blockquote>
<p>It is recommended to use the implicit solver for the elastic
model for reduced computation time; the selection can be found in the
<span class="guilabel">Elastic stress</span> panel, as well as in <span class="guilabel">Numerics</span>.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p></p>
<ul class="last simple">
<li><a class="reference internal" href="#elasticandplasticmaterialsmr"><span class="std std-ref">Elastic and Plastic Materials</span></a></li>
<li><a class="reference internal" href="theory.html"><span class="doc">Theory</span></a> –&gt; <a class="reference internal" href="theory.html#viscoelasticstressmodelth"><span class="std std-ref">Elasto-visco-plastic and Viscoelastic Model</span></a></li>
<li>TN-64 at <a class="reference external" href="http://users.flow3d.com/technical-notes/">http://users.flow3d.com/technical-notes/</a></li>
</ul>
</div>
<span class="target" id="index-64"></span></div>
</div>
<div class="section" id="viscoelastic-materials">
<span id="vematerialsmr"></span><span id="index-65"></span><h3>Viscoelastic Materials<a class="headerlink" href="#viscoelastic-materials" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><img alt="Viscoelastic materials" src="_images/viscoelastic-materials.png" />
</div></blockquote>
<p>Viscoelastic materials are materials that have properties of both viscous
liquids and elastic solids. Examples of such materials are polymeric liquids,
where the polymer chains can become entangled with one another during rapid
shear (and thus behave very solid-like), but are able to easily slide past one
another while being slowly sheared, and thus are highly time-dependent in
their material properties.</p>
<p>In <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> there are two models built-in to predict the behavior of viscoelastic
materials: the <span class="guilabel">Oldroyd-B model</span> and the <span class="guilabel">Giesekus model</span>.
These are selected in <span class="menuselection">Physics ‣ Elasto-visco-plasticity</span>.
Choose the one that will fit your material the best. Additionally, users can
modify the custom routine <span class="target" id="index-66"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">elstc_custom.F90</span></code> to add additional terms to
the constitutive equation for the elastic stress. Also select the
<span class="guilabel">Custom</span> option in <span class="menuselection">Physics ‣ Elasto-visco-
plasticity</span>.</p>
<p>As with the elasto-viscoplastic model, the incremental elastic stress in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span>
is computed incrementally based on a linear relationship between the
incremental strain from one computational cycle to the next. Viscous stresses
are predicted using the viscosity model, just as with viscous liquids, so it
is necessary to turn on viscosity.</p>
<p>For simpler materials, where the magnitude of elastic stress increases only up
to a yielding limit, using the <span class="guilabel">Elasto-viscoplastic model</span> may be
more appropriate. Refer to <a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;
<a class="reference internal" href="#elasticandplasticmaterialsmr"><span class="std std-ref">Elastic and Plastic Materials</span></a>.</p>
<p>The <span class="guilabel">Implicit</span> or <span class="guilabel">Explicit</span> options control how the
elastic stress is computed each time step. The <span class="guilabel">Explicit</span> option is
the default, and provides the most time-accurate simulations, but may limit
the time step. The <span class="guilabel">Implicit</span> option can allow for larger time
steps, but at the cost of less time accuracty, and a larger CPU time <strong>per
time step</strong>. Generally, as with the use of any implicit solver, the implicit
option should be used if the elastic effects are large yet their time
dependency is not important to the simulation</p>
<blockquote>
<div><img alt="Viscoelastic properties" src="_images/ModelReference_ViscoElasticMaterialFluidProperties_v12.JPG" />
</div></blockquote>
<p>Certain material properties must be provided for the viscoelastic model to
function. In <span class="menuselection">Fluids ‣ Properties for ‣ Fluid # ‣ Elasto-viscoplastic</span>,
<span class="guilabel">Shear Modulus</span> and <span class="guilabel">Relaxation</span> must be
provided. For the <span class="guilabel">Giesekus model</span>, <span class="guilabel">Mobility</span> must also
be provided. <span class="guilabel">Relaxation</span> represents the relaxation time, and is in
units of time. The longer the relaxation time, the longer it takes for elastic
stresses to relax. Purely viscous liquids thus have a relaxation time of zero.
<span class="guilabel">Mobility</span> refers to the mobility factor, which controls the
non-linear term of the Giesekus model; its default value is 0.0. Any or all
parameters can be temperature-dependent; tabular data can be provided by
selecting the <span class="guilabel">Tabular</span> button next to each property. Note that for
two-fluid flows, each of the relevant material properties can also be
specified for fluid 2. The bulk modulus of the fluid(s) are specified via the
<span class="guilabel">Compressibility</span> entries in
<span class="menuselection">Fluids ‣ Properties for ‣ Fluid # ‣ Density ‣ Compressibility</span>;
the compressibility parameter in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> is the inverse of
the bulk modulus.</p>
<p>Output quantities associated with the <span class="guilabel">Viscoelastic</span> model include
the 6 independent  components of the elastic stress tensor, as well as the
cell-centered off-diagonal components. The <span class="guilabel">Von Mises</span> stress is the
square root of the second invariant of the Cauchy Stress deviator, and is a
measure of the magnitude of the local shearing stresses. The pressure (as
always) is a measure of the local isotropic stress.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p></p>
<ul class="last simple">
<li><a class="reference internal" href="#"><span class="doc">Model Reference</span></a> –&gt;  <a class="reference internal" href="#elasticandplasticmaterialsmr"><span class="std std-ref">Elastic and Plastic Materials</span></a></li>
<li><a class="reference internal" href="theory.html"><span class="doc">Theory</span></a> –&gt; <a class="reference internal" href="theory.html#viscoelasticstressmodelth"><span class="std std-ref">Elasto-visco-plastic and Viscoelastic Model</span></a></li>
<li>Flow Science Technical Note 64 at <a class="reference external" href="http://users.flow3d.com/technical-notes/">http://users.flow3d.com/technical-notes/</a>.</li>
</ul>
</div>
</div>
</div>
<div class="section" id="electro-mechanics">
<span id="electromechanicsmr"></span><h2>Electro-mechanics<a class="headerlink" href="#electro-mechanics" title="Permalink to this headline">¶</a></h2>
<span class="target" id="index-67"></span><div class="section" id="electric-fields">
<span id="electricfieldsmr"></span><span id="index-68"></span><h3>Electric Fields<a class="headerlink" href="#electric-fields" title="Permalink to this headline">¶</a></h3>
<p>An electric potential can be computed as a function of charge and potential
distribution in a computational domain. <span class="guilabel">Electric potential</span> is
activated in <span class="menuselection">Model Setup ‣ Physics ‣ Electro-mechanics</span>.</p>
<blockquote>
<div><img alt="Electric fields" src="_images/electrical-fields.png" />
</div></blockquote>
<p>The <span class="guilabel">Fluid electric charge field</span> model
can be activated to simulate an electrically charged fluid while the <span class="guilabel">Dielectrophoresis model</span>
can be enabled to model dielectric fluids.</p>
<blockquote>
<div><img alt="Electric fields properties" src="_images/electro-osmosis-properties.png" />
</div></blockquote>
<p>Fluid #1 and fluid #2 conductivity and dielectric constants are defined in
<span class="menuselection">Fluids ‣ Properties for ‣ Fluid # ‣ Electrical Properties</span>. If the
<span class="guilabel">Fluid electric charge field</span> is used, the initial charge density in
the fluid is defined in <span class="menuselection">Model Setup ‣
Initial</span>. However, the electric potential (electric fields) can be
activated without fluid in the computational domain.</p>
<blockquote>
<div><a class="reference internal image-reference" href="_images/ModelReference_ElectricChargeFluidRegion_v12.JPG"><img alt="Electric fields initial" src="_images/ModelReference_ElectricChargeFluidRegion_v12.JPG" style="width: 452.0px; height: 807.2px;" /></a>
</div></blockquote>
<p>Conditions at mesh boundaries are defined in
<span class="menuselection">Model Setup ‣ Boundaries</span>.
Mesh boundary conditions for
electric potential can be conducting or insulating. A boundary is made
conducting by selecting <span class="guilabel">Specified potential boundary</span> and then
setting the specified value of the <span class="guilabel">Electric potential</span> on that
boundary. It can also be provided as a function of time. If the
<span class="guilabel">Fluid electric charge field</span> is used, the <span class="guilabel">Electric
Charge</span> density can be defined at inlet boundaries as a function of time.</p>
<blockquote>
<div><img alt="Electric fields properties components" src="_images/electrical-fields-properties-components.png" />
</div></blockquote>
<p>If there are solid components in the computational domain, the components can
be of two types: dielectric, or conductive based on the value of
<span class="target" id="index-69"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">IOEPOTM</span></code>. If <span class="target" id="index-70"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">IOEPOTM</span></code> is not set then the component will be
treated as having a fixed potential. These properties are defined in
<span class="menuselection">Model Setup ‣ Geometry ‣ Component ‣ Electrical
Properties</span>. The initial charge density in the component can be defined in
<span class="menuselection">Model Setup ‣ Geometry ‣ Component properties ‣ Initial ‣
Electric Charge Density</span>.</p>
<p>Solution of the Poisson equation that governs the potential is done by
<span class="guilabel">GMRES</span> iteration method. The convergence criteria and the maximum
iteration number are defined by <span class="target" id="index-71"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">EPSELE</span></code> and <span class="target" id="index-72"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">MAXPHIT</span></code>,
respectively. Both parameters have acceptable defaults and it is not,
generally, recommended to change them. Both of these parameters are modified
by editing the input file (<span class="menuselection">File ‣ Edit Simulation…</span>).</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p></p>
<ul class="last simple">
<li><a class="reference internal" href="input-variable-summary-units.html"><span class="doc">Input Variable Summary</span></a> section <a class="reference internal" href="input-variable-summary-units.html#scalarelectrostaticselectroosmosisandelectromechanicsmodelparameters"><span class="std std-ref">Scalar Electrostatics, Electro-osmosis and Electromechanics Model Parameters</span></a></li>
<li><a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#dielectrophoresisrefmr"><span class="std std-ref">Dielectrophoresis</span></a></li>
<li><a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#electroosmosismr"><span class="std std-ref">Electro-osmosis (Zeta Potential)</span></a></li>
<li><a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#markerandmassparticlesmr"><span class="std std-ref">Particles</span></a></li>
</ul>
</div>
<span class="target" id="index-73"></span></div>
<div class="section" id="electro-osmosis-zeta-potential">
<span id="electroosmosismr"></span><span id="index-74"></span><h3>Electro-osmosis (Zeta Potential)<a class="headerlink" href="#electro-osmosis-zeta-potential" title="Permalink to this headline">¶</a></h3>
<p>Many substances (e.g., silica and glass) will acquire a surface electric
charge when brought into contact with an aqueous (polar) medium (electrolyte
solution). When this occurs it creates what is known as an <abbr title="Electric Double Layer">EDL</abbr>. An EDL is a region near the charged surface where an
excess of counter-ions over co-ions exist in the fluid in order to neutralize
the surface charge. An electric potential (zeta-potential) is created due to
the EDL which is a property of the liquid-solid pair that can be measured
experimentally. Electro-osmotic flow occurs due to the existence of EDL and an
external potential imposed upon it. To model electro-osmosis, the electric
potential model must first be activated in <span class="menuselection">Physics ‣
Electro-mechanics</span> as described in <a class="reference internal" href="#electricfieldsmr"><span class="std std-ref">Electric Fields</span></a>. The
electro-osmosis model can then be activated in the same window.</p>
<blockquote>
<div><img alt="Electro-osmosis" src="_images/electro-osmosis.png" />
</div></blockquote>
<p>The model requires two lumped parameters  to be defined in
<span class="menuselection">Physics ‣ Electro-mechanics</span>, <span class="guilabel">F*C</span> and
<span class="guilabel">F/R*T</span>, where: <img class="math" src="_images/math/d59b7cc086cf6a4c9a0e8246bfbbd29d4467a990.png" alt="F" style="vertical-align: 0px"/> is the Faraday constant,
<img class="math" src="_images/math/f36bc2958f48e5ef97d30c652ce7900197e83da8.png" alt="C" style="vertical-align: 0px"/> is the ionic concentration in the bulk solution,
<img class="math" src="_images/math/c4b1f4d9462b05032bd840b98b1de290be0021dc.png" alt="R" style="vertical-align: 0px"/> is the universal gas constant, and
<img class="math" src="_images/math/3220cefb5db8f2913afbedb55591cb3437ae3113.png" alt="T" style="vertical-align: 0px"/> the ambient temperature in degrees Kelvin.
The electrical properties for fluid are defined in <span class="menuselection">Fluids ‣ Properties for ‣ Fluid 1 ‣ Electrical</span>.</p>
<blockquote>
<div><img alt="Electro-osmosis properties" src="_images/electro-osmosis-properties.png" />
</div></blockquote>
<p>The electrical properties for components are defined in
<span class="menuselection">Model Setup ‣ Geometry ‣ Component ‣ Electrical
Properties</span>. In addition to the properties required for the electric potential
model, the Zeta-potential must also be defined.  The Zeta-potential is only
associated with components (zero-gradient boundary conditions for the
Zeta-potential are assumed at all mesh boundaries) and the  default Zeta-potential
is zero.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p></p>
<ul class="last simple">
<li><a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#dielectrophoresisrefmr"><span class="std std-ref">Dielectrophoresis</span></a></li>
<li><a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#electricfieldsmr"><span class="std std-ref">Electric Fields</span></a></li>
<li>Flow Science Technical Note 65 at <a class="reference external" href="http://users.flow3d.com/technical-notes/">http://users.flow3d.com/technical-notes/</a></li>
</ul>
</div>
<span class="target" id="index-75"></span></div>
<div class="section" id="electro-thermal-effects">
<span id="electrothermalmr"></span><span id="index-76"></span><h3>Electro-thermal Effects<a class="headerlink" href="#electro-thermal-effects" title="Permalink to this headline">¶</a></h3>
<p>Free charges and Joule heating are two consequences associated with the
electrical conductivity of materials. A charge density equation that accounts
for charge formation, relaxation and convective transport is solved together
with the electric field equations. Charged layers may then develop at fluid
interfaces or at the boundaries between fluids and solids inducing electric
and dielectric forces.</p>
<blockquote>
<div><img alt="Electro-thermal effect" src="_images/electro-thermal-effect.png" />
</div></blockquote>
<p>Joule heating and additional forces can be added to include fluid and solid
heating due to electric currents. These modeling options require the
activation of the thermal energy transport that can be done in
<span class="menuselection">Physics ‣ Heat Transfer ‣ Fluid internal energy advection</span>
and <span class="menuselection">Physics ‣ Heat Transfer ‣ Full energy equation</span>.
The <span class="guilabel">Electric potential</span> model must also be activated in
<span class="menuselection">Physics ‣ Electro-mechanics</span>.</p>
<p>Joule heating with electro-thermal forces option will include forces in the
fluid arising from the variation of its permittivity and electric conductivity
with temperature. The respective properties are defined in
<span class="menuselection">Physics ‣ Electro-mechanics</span> <span class="menuselection">Fluids ‣ Properties for ‣ Fluid 1 ‣ Electrical</span>, as
<span class="guilabel">Permittivity temperature sensitivity</span>, <span class="guilabel">Conductivity
temperature sensitivity</span> and <span class="guilabel">Electric field angular frequency</span>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">the <span class="guilabel">Electrical conductivity</span> must be defined of the fluid(s) for the electro-thermal effects to work. This is defined in <span class="menuselection">Model Setup ‣ Fluids ‣ Properties for ‣ Fluid # ‣ Electrical Properties</span>.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p></p>
<ul class="last simple">
<li><a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#electricfieldsmr"><span class="std std-ref">Electric Fields</span></a> for additional options</li>
<li><a class="reference internal" href="input-variable-summary-units.html#electrostaticproperties"><span class="std std-ref">Electrostatic Properties</span></a></li>
</ul>
</div>
<span class="target" id="index-77"></span></div>
<div class="section" id="dielectrophoresis">
<span id="dielectrophoresisrefmr"></span><span id="index-78"></span><h3>Dielectrophoresis<a class="headerlink" href="#dielectrophoresis" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><img alt="Electro-mechanics" src="_images/electro-mechanics.png" />
</div></blockquote>
<p>Dielectric forces arise due to the polarization of fluid molecules and of
particles in an applied electric field. The electric potenial model must, first, be activated in
<span class="menuselection">Physics ‣ Electro-mechanics</span>. The dielectrophoresis model
can then be activated in the same window. The dielectric properties for fluid
are defined in <span class="menuselection">Fluids ‣ Properties for ‣ Fluid # ‣ Electrical</span>. The <span class="guilabel">Electrical conductivity</span>
for <span class="guilabel">Fluid 1</span> and <span class="guilabel">Fluid 2</span> can be given as function of temperature.</p>
<blockquote>
<div><img alt="Electro-mechanics properties" src="_images/ModelReference_FluidElectricalProperties_v12_Upd1.PNG" />
</div></blockquote>
<p>For geometry components, the related properties are defined in
<span class="menuselection">Model Setup ‣ Geometry ‣ Component properties ‣ Electrical Properties</span>:</p>
<blockquote>
<div><img alt="Electro-mechanics properties" src="_images/electro-osmosis-properties.png" />
</div></blockquote>
<p>When the dielectrophoresis model is activated in <span class="menuselection">Physics ‣
Electro-mechanics</span> the dielectric force acts in fluids with the dielectric
constant greater than one. The dielectric force is also applied to all material
particles (i.e., Mass, Fluid and Gas particles) in the computational domain.
In this case, <span class="guilabel">Dielectric constant</span> must also be defined in <span class="menuselection">Physics ‣
Particles</span>. Dielectrophoresis is not compatible with the <a class="reference internal" href="#electroosmosismr"><span class="std std-ref">Electro-osmosis model</span></a> because of the different scales at which these forces are
significant. The dielectrophoresis model is automatically deactivated when
<span class="guilabel">Electro-osmosis</span> is turned on. The electro-osmosis model is turned
on in <span class="menuselection">Physics ‣ Electro-mechanics</span>, in which case additional
input is required and can be provided in the same Electro-mechanics window.
Zeta-potential is defined for each solid component in <span class="menuselection">Model Setup ‣
Geometry ‣ Component ‣ Electrical Properties</span>. All
dielectric constants are the ratios of the permittivity of the material to that of vacuum.</p>
<blockquote>
<div><img alt="Particle electric properties" src="_images/particles-mass-electric.png" />
</div></blockquote>
<p>Two implicit solvers are available for the electric potential equation,
<span class="guilabel">GMRES</span> and <span class="guilabel">ADI</span>. The <span class="guilabel">GMRES</span> solver is
recommended.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p></p>
<ul class="last simple">
<li><a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#electricfieldsmr"><span class="std std-ref">Electric Fields</span></a>.</li>
<li><a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#electroosmosismr"><span class="std std-ref">Electro-osmosis (Zeta Potential)</span></a>.</li>
<li>Flow Science Technical Note 56 on modeling dielectric phenomena at <a class="reference external" href="http://users.flow3d.com/technical-notes/">http://users.flow3d.com/technical-notes/</a>.</li>
</ul>
</div>
<span class="target" id="index-79"></span></div>
</div>
<div class="section" id="fan-and-impeller-model">
<span id="fanandimpellermr"></span><span id="index-80"></span><h2>Fan and Impeller Model<a class="headerlink" href="#fan-and-impeller-model" title="Permalink to this headline">¶</a></h2>
<p>The fan and impeller model imparts momentum to fluid in a region defined by a
special kind of “phantom” component. It is used to represent fans, propellers, and
impellers that cannot easily be resolved or rotate so quickly that the resulting time step
size is untenable. The model induces both swirl and axial velocity components in fluid that
enters a “phantom” geometry component that defines a region but does not block
area or volume. These geometry components are usually cylinders of outer
radius <img class="math" src="_images/math/c4b1f4d9462b05032bd840b98b1de290be0021dc.png" alt="R" style="vertical-align: 0px"/> and thickness <img class="math" src="_images/math/48db08e51669ad87af374b5f0fd4dacbb2de0ea6.png" alt="L" style="vertical-align: 0px"/>, which define the region swept out by
the rotating blades. They are defined in the same way as regular components,
except that the <span class="guilabel">Component Type</span> must be set to
<span class="guilabel">Fan/Impeller</span> in <span class="menuselection">Model Setup ‣ Geometry
‣ Component</span>. Regular transformation, including magnification, rotation and
translation, is allowed to transform the component to any location and any
orientation.</p>
<blockquote>
<div><img alt="Fan-impeller component type selection" src="_images/fan-impeller-component.png" />
</div></blockquote>
<p>After the geometry component is defined, the following steps should be
performed in <span class="menuselection">Component ‣ Fan/Impeller Object
(Phantom)</span>.</p>
<ul class="simple">
<li>Specify x, y and z coordinates for two points on the rotation axis (i.e.,
the central axis of the component after transformation) in the corresponding input boxes.
The orientation of the axis does matter: objects rotate in right handed
sense about the axis. Therefore, looking down the axis from point 1 to
point 2, objects rotate clockwise for positive values of <span class="guilabel">Spin
rate</span>.</li>
<li>Specify the <span class="guilabel">Spin rate</span>, in radians per unit time. Its positive
direction is defined from point 1 to point 2. For a constant spin rate, simply enter
its value in the input box. If it is time-variant, click on the <span class="guilabel">Tabular</span>
button to enter the spin rate versus time directly, or <span class="guilabel">Import Values</span> from
an existing file with a <code class="file docutils literal notranslate"><span class="pre">csv</span></code> extension. The file must have two columns of data which
represent time and spin rate from left to right.</li>
<li>Specify the <span class="guilabel">Accommodation coefficient for rotational velocity</span>.</li>
<li>Specify the <span class="guilabel">Axial velocity coefficient</span>.</li>
<li>Specify the <span class="guilabel">Number of blades</span> to add blade effects (optional).</li>
<li>Specify the <span class="guilabel">Blade tip thickness in the azimuthal direction</span> (optional).</li>
</ul>
<p>It is best to determine the values of <span class="guilabel">Accommodation coefficient for
rotational velocity</span> and <span class="guilabel">Axial velocity coefficient</span> from empirical
data because the performance of a fan or impeller depends on details of the
blade sizes and shapes that are not part of the model. The manufacturers of
these devices often characterize them by so called “performance curves,” which
are plots of the pressure increase across the device versus the average flow rate
passing through it. The model performance curve is a linear approximation. The
figure below shows a hypothetical example of a performance curve.</p>
<div class="figure" id="id33">
<img alt="Performance curve" src="_images/performance-curve.png" />
<p class="caption"><span class="caption-text">Figure 1: Typical performance curve (solid) and <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> approximation (dashed).</span></p>
</div>
<p>A performance curve for the model can be derived by relating the rotating
momentum source to an equivalent pressure drop across the thickness of the
device and averaging the flow rate over the entire cross section. The result
is:</p>
<div class="math">
<p><img src="_images/math/2e71f3d055094f3792445ebeee3653904b965023.png" alt="\Delta p = \rho L{A_d}\left( {\frac{{2{S_d}{B_d}{R^*}}}{3} - \frac{Q}{{\pi {R^2}}}} \right)"/></p>
</div><p>where:</p>
<ul class="simple">
<li><img class="math" src="_images/math/afdd4db1e21a66fc5bbaa1e5b1105235e99c1844.png" alt="\Delta p" style="vertical-align: -4px"/> is the pressure difference across the impeller,</li>
<li><img class="math" src="_images/math/505bec53c42fc78b12fcff89dde94cd96fb0770b.png" alt="\rho" style="vertical-align: -4px"/> is the fluid density,</li>
<li><img class="math" src="_images/math/9bbde2affc95e6328b85b66e9da618f2ad0212a8.png" alt="A_d" style="vertical-align: -3px"/> is the <span class="guilabel">Accommodation coefficient for rotational velocity</span>,</li>
<li><img class="math" src="_images/math/68412866082f6b8a92897f1032b0a90368ae5d12.png" alt="S_d" style="vertical-align: -3px"/> is the <span class="guilabel">Spin rate</span>,</li>
<li><img class="math" src="_images/math/c3057df9f2bebf10315af3944c134901ae7a7b27.png" alt="B_d" style="vertical-align: -3px"/> is the <span class="guilabel">Axial velocity coefficient</span>,</li>
<li><img class="math" src="_images/math/ffe9616beb8c7daa27d7ba6f96e0d38f980e3ef9.png" alt="Q" style="vertical-align: -4px"/> is the net flow rate,</li>
<li><img class="math" src="_images/math/c4b1f4d9462b05032bd840b98b1de290be0021dc.png" alt="R" style="vertical-align: 0px"/> is the outer radius of the rotating blades (as defined in component setup), and
<img class="math" src="_images/math/729907f991256f8982745053e59cd24a6d334a19.png" alt="R^* = R\left( {1 - {r^3}/{R^3}} \right)" style="vertical-align: -5px"/>, where <img class="math" src="_images/math/d77e09b1ac0f59812794adc2b8da7f9a192d32bc.png" alt="r" style="vertical-align: 0px"/> is the minimum radius
of the rotating blades (as defined in component setup).</li>
</ul>
<p>This relationship gives a linear performance curve with y-intercept
<img class="math" src="_images/math/d1af18eb09cc52b2419df5da39ea88cfbb0c0aa9.png" alt="\Delta {p_0}" style="vertical-align: -4px"/> and x-intercept <img class="math" src="_images/math/31ef36f010d4ca222c874b55822a15d705ae541d.png" alt="{Q_0}" style="vertical-align: -4px"/> given by:</p>
<div class="math">
<p><img src="_images/math/c2e1532e3eebfa52a6e2529966cdcadcbeaac9c1.png" alt="\Delta {p_0} = \rho L\left( {\frac{{{Q_0}}}{{\pi {R^2}}}} \right){A_d}"/></p>
</div><div class="line-block">
<div class="line"><br /></div>
</div>
<div class="math">
<p><img src="_images/math/c6bf7f11de411885f703fa004b94532e161ade42.png" alt="{Q_0} = \frac{2}{3}\pi {R^*}{R^2}{S_d}{B_d}"/></p>
</div><p>Using these relations, a given <img class="math" src="_images/math/d77e09b1ac0f59812794adc2b8da7f9a192d32bc.png" alt="r" style="vertical-align: 0px"/>, and a known <span class="guilabel">Spin rate</span>, the
<span class="guilabel">Accommodation coefficient for rotational velocity</span> and
<span class="guilabel">Axial velocity coefficient</span> parameters can be computed to give a
linear approximation to any desired performance curve.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p></p>
<ul class="last simple">
<li><a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#rotatingcomponentsmr"><span class="std std-ref">Rotating Axisymmetric Components</span></a></li>
<li><a class="reference internal" href="input-variable-summary-units.html"><span class="doc">Input Variable Summary</span></a> section <a class="reference internal" href="input-variable-summary-units.html#fanorimpellercomponents"><span class="std std-ref">Fan or Impeller Components</span></a></li>
</ul>
</div>
<span class="target" id="index-81"></span></div>
<div class="section" id="flows-with-density-variations">
<span id="flowwithdensityvariationsmr"></span><span id="index-82"></span><h2>Flows with Density Variations<a class="headerlink" href="#flows-with-density-variations" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><img alt="Density evaluation - Density evaluated as a function of other quantities" src="_images/flows-with-density-variations-density-evaluated-as-a-function.png" />
</div></blockquote>
<p>The fluid density in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> may vary in a number of situations:</p>
<ol class="arabic">
<li><p class="first"><strong>Density is a function of other variables, e.g., temperature, scalar concentration or solid fraction</strong>:</p>
<p>Select
<span class="menuselection">Physics ‣ Density evaluation ‣ Density evaluated as a function of other quantities</span>
for this option. For example, in thermally buoyant flow density is a function of
temperature. This model is activated when
<span class="menuselection">Physics ‣ Heat transfer</span>
is activated, and the thermal expansion coefficient is defined for either or both fluids in
<span class="menuselection">Fluids ‣ Properties for ‣ Fluid # ‣ Density</span>. The
<span class="guilabel">Reference Temperature</span> used in the density equation is defined under
<span class="menuselection">Fluids ‣ Properties for ‣ Fluid #</span> (see also
<a class="reference internal" href="#buoyantflowmr"><span class="std std-ref">Buoyant Flow</span></a>). Similarly, in the <a class="reference internal" href="#macrosegregationmr"><span class="std std-ref">Macro-segregation model</span></a> density may
be a function of alloy composition. In that case Solutal Expansion Coefficient
must be defined in <span class="menuselection">Fluids ‣ Properties for ‣ Fluid 1 ‣ Solidification ‣ Binary alloy segregation</span>.</p>
<img alt="Fluid 1 tree - Thermal expansion" src="_images/ModelReference_FluidPropertiesThermalExpansion_v12.JPG" />
<p>For temperature-dependent density, a linear relationship between density
and temperature is defined using the <span class="guilabel">Thermal Expansion</span>
coefficient. The relationship between temperature and density is <img class="math" src="_images/math/b14217eea95edb019f3612de7356ef3a6548b484.png" alt="\rho(T) = \rho_0 \left[ 1- \alpha \left( T - T_{ref} \right) \right]" style="vertical-align: -6px"/>, where:</p>
<ul class="simple">
<li><img class="math" src="_images/math/f69d3ae75d38a6802a604cd6426f34f65b780ef2.png" alt="\rho(T)" style="vertical-align: -5px"/> is the temperature-dependent density,</li>
<li><img class="math" src="_images/math/5c4566a18d9506c1d934954298ac6e1db330178f.png" alt="\rho_0" style="vertical-align: -4px"/> is the fluid density at the reference temperature <img class="math" src="_images/math/31602d1e3a7c90d9ad174403f6862fed95ca2d11.png" alt="T_{ref}" style="vertical-align: -6px"/> and specified by <span class="guilabel">Density</span>,</li>
<li><img class="math" src="_images/math/db68c1b58b0e0840702a7a6539a5253887a9cd69.png" alt="\alpha" style="vertical-align: 0px"/> is the <span class="guilabel">Thermal Expansion</span> coefficient, and</li>
<li><img class="math" src="_images/math/31602d1e3a7c90d9ad174403f6862fed95ca2d11.png" alt="T_{ref}" style="vertical-align: -6px"/> is the <span class="guilabel">Reference Temperature</span>, specified in <span class="menuselection">Fluids ‣ Properties for ‣ Fluid #</span>.</li>
</ul>
<p>Alternatively, tabular data can be specified related density to temperature; this is done by checking the box next to <span class="guilabel">Density</span>, selecting <span class="guilabel">Tabular</span> and entering the data in the window that appears.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</li>
<li><p class="first"><strong>Density is a function of the fluid fraction in incompressible two-fluid models</strong>:</p>
<p>In two-fluid problems the local density represents the mixture density
of the two fluids and will vary according to the fraction-of-fluid function
distribution. In this case,
<span class="menuselection">Physics ‣ Density evaluation ‣ Density evaluated as a function of other quantities</span>
is turned on automatically by the code.</p>
<p>In this case, the mixture density in each computational cell is computed as
a linear relationship of the two fluid densities by <img class="math" src="_images/math/b03ea910635b8209cbcaa8b4e2a3717af8348f0f.png" alt="\rho(F) = F
\rho_1 + \left( 1-F \right) \rho_2" style="vertical-align: -5px"/>, where:</p>
<ul class="simple">
<li><img class="math" src="_images/math/d59b7cc086cf6a4c9a0e8246bfbbd29d4467a990.png" alt="F" style="vertical-align: 0px"/> is the volume fraction of fluid 1 in the computational cells,</li>
<li><img class="math" src="_images/math/27699509a0cc31c72b5a07796191a7b4257ae993.png" alt="\rho(F)" style="vertical-align: -5px"/> is the mixture density,</li>
<li><img class="math" src="_images/math/2cdd3a6e79151e050bba6eddfe4df4e5404ad5e9.png" alt="\rho_1" style="vertical-align: -4px"/> is the density of fluid 1 (specified in <span class="menuselection">Fluids ‣ Properties for ‣ Fluid 1 ‣ Density</span>), and</li>
<li><img class="math" src="_images/math/ecca08cef6bbd74d627b4bccac4eb9f9fcb2fdf8.png" alt="\rho_2" style="vertical-align: -4px"/> is the density of fluid 2 (specified in <span class="menuselection">Fluids ‣ Properties for ‣ Fluid 2 ‣ Density</span>).</li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
</li>
<li><p class="first"><strong>Density varies due to initial and boundary conditions</strong>:</p>
<p>A one-fluid density may vary spatially in an otherwise incompressible flow with or
without free surfaces, as set in the initial and mesh inlet boundary conditions.
Use <span class="menuselection">Physics ‣ Density evaluation ‣ Solve transport equation for density (first- or second-order)</span>.</p>
<img alt="Density evaluation - First order approximation" src="_images/flows-with-density-variations-first-order-approximation.png" />
<p>This model computes a separate transport equation for the density, and in
effect simulates the movement of two differing fluids (of different
densities) in the domain. In this way, two fluids can be simulated along
with a free surface. Furthermore, drifting of one phase relative to the
other is possible using the <a class="reference internal" href="#driftfluxmr"><span class="std std-ref">Drift Flux</span></a> model.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</li>
<li><p class="first"><strong>Density varies according to an equation of state</strong>:</p>
<p>Compressible fluid density is a function of pressure and temperature
according to the equation of state. When the compressible flow model is
used, <span class="menuselection">Physics ‣ Density evaluation ‣ First order approximation to density transport equation</span>
option is automatically
activated. The <span class="guilabel">Second order</span> option can be selected if sharp
density gradients are expected during the simulation.</p>
</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li><span class="guilabel">Density transport equation</span> options cannot be used
with two incompressible fluids or with fluid internal energy advection for incompressible flows.</li>
<li>The initial density distribution can be set in the <span class="guilabel">Initial Conditions</span>
window. The fluid density for case 3 above can be set at an inlet boundary, <em>i.e.</em>, at a velocity or
pressure boundary, in the <span class="guilabel">Model Setup –&gt; Boundaries</span> window.</li>
<li>When using the density transport equation option the
density advection is computed directly from a continuity equation. See
<a class="reference internal" href="numerical-options.html"><span class="doc">Numerical Options</span></a> –&gt; <a class="reference internal" href="numerical-options.html#densityadvectionmr"><span class="std std-ref">Density advection</span></a>.</li>
</ul>
</div>
<span class="target" id="index-83"></span><div class="section" id="buoyant-flow">
<span id="buoyantflowmr"></span><span id="index-84"></span><h3>Buoyant Flow<a class="headerlink" href="#buoyant-flow" title="Permalink to this headline">¶</a></h3>
<p>Buoyant flow can occur due to fluid density variation because of thermal
expansion, addition of mass scalars and in two-fluid mixtures. Select
<span class="menuselection">Physics ‣ Density Evaluation ‣ Density evaluated as a
function of other quantities</span> to enable local variations in fluid density.
Since fluid density becomes a function of other quantities, additional models
may need to be activated to compute these quantities. For example,
<span class="menuselection">Physics ‣ Heat transfer</span>
model must be activated to model thermally buoyant flow.</p>
<blockquote>
<div><img alt="Density evaluation" src="_images/density-evaluation.png" />
</div></blockquote>
<p>The standard buoyant flow model only introduces a change in density as it
appears in the momentum equation. There is no accompanying volume change in
the fluid. If desired, the corresponding volume changes can also be included.
This option is activated by selecting
<span class="menuselection">Include volumetric thermal expansion</span> in
<span class="menuselection">Physics ‣ Density evaluation</span>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>Additional buoyancy effects due to gradients in alloy concentration are
included in the macro-segregation model for binary metal alloys. In this
model, convective flow occurs from the combined effect of thermal and solutal
buoyancy.</li>
<li>Buoyancy effects are computed automatically when the sediment scour and
deposition model is activated; density of the fluid is affected by the
presence of sediment, and can result in <em>gravity</em> flows.</li>
</ul>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p></p>
<ul class="last simple">
<li><a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#transportofheatinfluidmr"><span class="std std-ref">Transport of Heat in Fluid</span></a></li>
<li><a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#macrosegregationmr"><span class="std std-ref">Macro-Segregation during Alloy Solidification</span></a></li>
<li><a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#sedimentscourmr"><span class="std std-ref">Sediment Scour and Deposition</span></a></li>
</ul>
</div>
</div>
</div>
<div class="section" id="fluid-sources">
<span id="fluid-sources-mr"></span><h2>Fluid sources<a class="headerlink" href="#fluid-sources" title="Permalink to this headline">¶</a></h2>
<p>There are three main types of fluid sources in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span>:  <a class="reference internal" href="#dropletsourcemr"><span class="std std-ref">Droplet and bubble sources</span></a>,
<a class="reference internal" href="#masssourcesmr"><span class="std std-ref">Mass Sources</span></a>, and <a class="reference internal" href="#massmomentumsourcesmr"><span class="std std-ref">Mass-Momentum Sources</span></a>.  Each of these different
methods for adding/removing fluid from the domain are described in the sections
below.</p>
<span class="target" id="index-85"></span><div class="section" id="droplet-and-bubble-sources">
<span id="dropletsourcemr"></span><span id="index-86"></span><h3>Droplet and bubble sources<a class="headerlink" href="#droplet-and-bubble-sources" title="Permalink to this headline">¶</a></h3>
<p>The droplet source model provides a way to introduce droplets or bubbles into
the computational domain at a prescribed location and rate. Bubbles can be
introduced in one-fluid, free-surface simulations. Unless stated otherwise,
“droplet” can mean both a fluid droplet or a bubble. The input variables for
the droplet source model must be entered directly into the <code class="file docutils literal notranslate"><span class="pre">prepin.*</span></code>
file using a text editor.  A complete description of the variables
can be found in the <a class="reference internal" href="input-variable-summary-units.html#fluiddropletbubblesources"><span class="std std-ref">Fluid Droplet/Bubble Sources</span></a> section of the
<a class="reference internal" href="input-variable-summary-units.html"><span class="doc">Input Variable Summary</span></a> chapter.</p>
<p>To activate the droplet source model, define the number of sources using the
input variable <a class="reference internal" href="input-variable-summary-units.html#fluiddropletbubblesources"><span class="std std-ref">NDROP</span></a>. Up to 2000 sources can
currently be defined. A droplet source can be either of fluid #1 or fluid #2,
depending on the value of the variable <a class="reference internal" href="input-variable-summary-units.html#fluiddropletbubblesources"><span class="std std-ref">IFDROP</span></a>(<em>n</em>): <a class="reference internal" href="input-variable-summary-units.html#fluiddropletbubblesources"><span class="std std-ref">IFDROP</span></a>(<em>n</em>) = 1 generates fluid #1 droplets and the value
of 2 generates droplets of fluid #2. For one-fluid, free-surface cases,
<a class="reference internal" href="input-variable-summary-units.html#fluiddropletbubblesources"><span class="std std-ref">IFDROP</span></a>(<em>n</em>) = 2 generates bubbles, which
should be used together with the adiabatic bubble model.
The droplets at each source are generated at a fixed location X, Y and Z
location defined by <a class="reference internal" href="input-variable-summary-units.html#fluiddropletbubblesources"><span class="std std-ref">XDROP</span></a>(<em>n</em>), <a class="reference internal" href="input-variable-summary-units.html#fluiddropletbubblesources"><span class="std std-ref">YDROP</span></a>(<em>n</em>) and <a class="reference internal" href="input-variable-summary-units.html#fluiddropletbubblesources"><span class="std std-ref">ZDROP</span></a>(<em>n</em>). The radius is defined by the variable
<a class="reference internal" href="input-variable-summary-units.html#fluiddropletbubblesources"><span class="std std-ref">RDROP</span></a>(<em>n</em>). When a droplet is introduced
into a region where fluid already exists, that fluid is replaced with the
droplet at a uniform pressure <a class="reference internal" href="input-variable-summary-units.html#fluiddropletbubblesources"><span class="std std-ref">PDROP</span></a>(<em>n</em>),
temperature <a class="reference internal" href="input-variable-summary-units.html#fluiddropletbubblesources"><span class="std std-ref">TDROP</span></a>(<em>n</em>), density
<a class="reference internal" href="input-variable-summary-units.html#fluiddropletbubblesources"><span class="std std-ref">RHODROP</span></a>(<em>n</em>) and, for fluid droplets only,
velocity <a class="reference internal" href="input-variable-summary-units.html#fluiddropletbubblesources"><span class="std std-ref">UDROP</span></a>(<em>n</em>), <a class="reference internal" href="input-variable-summary-units.html#fluiddropletbubblesources"><span class="std std-ref">VDROP</span></a>(<em>n</em>) and <a class="reference internal" href="input-variable-summary-units.html#fluiddropletbubblesources"><span class="std std-ref">WDROP</span></a>(<em>n</em>).
The starting and ending times for the droplet generation is set by the
variables <a class="reference internal" href="input-variable-summary-units.html#fluiddropletbubblesources"><span class="std std-ref">SDROP</span></a>(<em>n</em>) and <a class="reference internal" href="input-variable-summary-units.html#fluiddropletbubblesources"><span class="std std-ref">EDROP</span></a>(<em>n</em>), which by default span the whole simulation
time. The droplets are emitted at a fixed rate defined by the variable
<a class="reference internal" href="input-variable-summary-units.html#fluiddropletbubblesources"><span class="std std-ref">TIMDROP</span></a>(<em>n</em>) (which is time interval
between consecutive droplets).</p>
<p>The default value of the initial droplet pressure <a class="reference internal" href="input-variable-summary-units.html#fluiddropletbubblesources"><span class="std std-ref">PDROP</span></a>(<em>n</em>) is set equal to the initial pressure
<a class="reference internal" href="input-variable-summary-units.html#initialconditionsuniform"><span class="std std-ref">PRESI</span></a>, except for a bubble source which uses
an initial value equal to the void pressure <a class="reference internal" href="input-variable-summary-units.html#initialconditionsuniform"><span class="std std-ref">PVOID</span></a>. The default value of the density <a class="reference internal" href="input-variable-summary-units.html#fluiddropletbubblesources"><span class="std std-ref">RHODROP</span></a>(<em>n</em>) is set to the density of fluid #1 for fluid
droplet source of fluid #1, and to the density of fluid #2 for drop source of
fluid #2. The variable <a class="reference internal" href="input-variable-summary-units.html#fluiddropletbubblesources"><span class="std std-ref">RHODROP</span></a>(<em>n</em>) is
only used when the density transport model (first or second order) is
activated. Initial velocity and density settings are not used for bubble sources.</p>
<span class="target" id="index-87"></span></div>
<div class="section" id="mass-sources">
<span id="masssourcesmr"></span><span id="index-88"></span><h3>Mass Sources<a class="headerlink" href="#mass-sources" title="Permalink to this headline">¶</a></h3>
<p>A mass source is associated with a geometry component. When a component is
defined as a mass source, fluid enters the computational domain at a user-specified mass flow rate or volume flow rate from its open surface (surface
not blocked by other components or by the boundary of the computational
domain). A mass source with negative flow rate removes fluid from the
computational domain and is called a sink (in the following a source
represents only a mass source with positive flow rate). Both stationary and
moving components can be defined as sources or sinks. The model allows for
multiple sources and sinks, each characterized by a unique set of properties
such as mass or volume flow rate, fluid type (fluid #1, #2 or their mixture),
fluid density and temperature.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>The mass/volume flow rate can vary with time. As a result, a source can change to a
sink, and vice versa, during a simulation.</li>
<li>In two-fluid problems, either fluid can be added/removed at a source/sink. In addition,
a two-fluid mixture can be removed at a sink.</li>
<li>In one-fluid problems, if void rather than fluid is added or removed at a
source/sink, the added or removed void volume is converted to the corresponding
pressure change in the void region adjacent to the source/sink.</li>
<li>When both fluid #1 and fluid #2 (or void) are removed at a sink, the amount of
each fluid removed is automatically determined in proportion to its local
volume fraction adjacent to the sink. For example, if the local fluid fraction
is 0.1, then 10% of fluid #1 and 90% of fluid #2 by volume are removed at the
sink. If the local fluid fraction is equal to 1.0, then only fluid #1 is
removed. Since the fluid fraction can change with time, so will the removal
rate of each fluid.</li>
<li>For simulations with heat transfer, the temperature at a sink is automatically
computed as the average temperature in the cells adjacent to the sink and,
therefore, need not be defined by the user.</li>
</ul>
</div>
<div class="section" id="mass-sources-in-different-scenarios">
<span id="mass-source-uses"></span><h4>Mass sources in different scenarios<a class="headerlink" href="#mass-sources-in-different-scenarios" title="Permalink to this headline">¶</a></h4>
<p>The examples below describe the use of the mass sources/sink model in different simulation cases.</p>
<p><strong>Case 1, one-fluid flow with constant density, free surface, and no heat transfer:</strong></p>
<ul class="simple">
<li>A source can release fluid #1 (liquid) or void (gas) but not both. If fluid #1 is released,
the source fluid density defaults to that of fluid #1 and cannot be changed by
the user. If void is released and the mass flow rate is defined, the gas
density for the void at the source/sink must be specified. If void is released
and volume flow rate is defined, gas density of void at the source is not
needed.</li>
<li>A sink can remove fluid #1 (liquid), void or a mixture of the two. If void or a
mixture of fluid #1 and void is removed while mass flow rate is defined,
then the gas density for the void at the sink must be defined. In all other
cases, gas density of void at the sink is not needed.</li>
<li>If void is released at a source or void or its mixture with fluid #1 is removed at
a sink, then a bubble model must be activated in <span class="menuselection">Physics ‣ Bubbles and phase change</span>.</li>
</ul>
<p><strong>Case 2, one-fluid flow with variable density (a density transport equation is solved), free surface and no heat transfer:</strong></p>
<ul class="simple">
<li>A source can release either fluid #1 (liquid) or void but not both. If fluid #1 is
released, the source fluid density must be defined. If void is released and
mass flow rate is defined, the gas density for the void at the source must be
defined. If void is released and volume flow rate is defined, gas density of
void at the source is not needed.</li>
<li>A sink can remove fluid #1 (liquid), void or a mixture of the two. If void or a
mixture of fluid #1 and void is removed while mass flow rate is defined, then
the gas density for the void at the sink must be defined. In all other cases,
gas density of void at the sink is not needed.</li>
<li>If void is released at a source or void or its mixture with fluid #1 is removed at
a sink, then a bubble model must be activated in <span class="menuselection">Physics ‣ Bubbles and phase change</span>.</li>
</ul>
<p><strong>Case 3, one-fluid flow with constant or variable density (function of temperature), free surface and heat transfer:</strong></p>
<ul class="simple">
<li>A source can release either fluid #1 (liquid) or void but not both. If fluid #1
is released, the source fluid density cannot be defined by the user because it
is either constant (equal to the fluid density) or depends on temperature. If
void is released and mass flow rate is defined, then the gas density of void
at the source must be defined.</li>
<li>A sink can remove fluid #1 (liquid), void or mixture of the two. If void is removed
while mass flow rate is defined, then the gas density for the void at the sink must
be defined. In all other cases, the gas density of void at the sink is not needed.</li>
<li>If void is released at a source or void or its mixture with fluid #1 is removed at
a sink, then a bubble model must be activated in <span class="menuselection">Physics &gt; Bubbles and phase change</span>.</li>
<li>Temperature of the fluid must be defined at a source but is not needed at a sink.</li>
</ul>
<p><strong>Case 4, one-fluid flow with constant density, no free surface and no heat transfer:</strong></p>
<ul class="simple">
<li>A source can only release fluid #1. The source fluid density defaults to the
density of fluid #1 and cannot be changed by the user.</li>
<li>A sink can only remove fluid #1. Density at the sink is that of fluid #1 and
cannot be defined by the user.</li>
</ul>
<p><strong>Case 5, one-fluid flow with constant density, heat transfer and no free surface:</strong></p>
<ul class="simple">
<li>A source can only release fluid #1. The source fluid density defaults to the density
of fluid #1 and cannot be changed by the user.</li>
<li>A sink can only remove fluid #1. Fluid density at the sink is that of fluid #1 and
cannot be defined by the user.</li>
<li>Temperature must be defined at a source but is not needed at a sink.</li>
</ul>
<p><strong>Case 6, one-fluid flow with variable density (a density transport equation is solved), no free surface and no heat transfer:</strong></p>
<ul class="simple">
<li>A source can only release fluid #1. The density of the source fluid must be defined by the user.</li>
<li>A sink can only remove fluid #1. Fluid density at the sink has its local value and cannot be defined by the user.</li>
</ul>
<p><strong>Case 7, one-fluid flow with variable density (function of temperature), heat transfer and no free surface:</strong></p>
<ul class="simple">
<li>A source can only release fluid #1. The fluid density at the source cannot be defined because it depends on temperature.</li>
<li>A sink can only remove fluid #1. Fluid density at the sink has its local value and cannot be defined by the user.</li>
<li>Temperature must be defined at a source but not at a sink.</li>
</ul>
<p><strong>Case 8, two-fluid incompressible flow with sharp interface and no heat transfer:</strong></p>
<ul class="simple">
<li>A source can release either fluid #1 or fluid #2 but not both. The fluid density at
a source defaults to that of the source fluid and cannot be changed by the user.</li>
<li>A sink can remove fluid #1, #2 or their mixture. Fluid density at the sink has
its local value and cannot be defined by the user.</li>
</ul>
<p><strong>Case 9, two-fluid incompressible flow with sharp interface and heat transfer:</strong></p>
<ul class="simple">
<li>A source can release either fluid #1 or fluid #2 but not both. The fluid density at a source
defaults to the source fluid density and cannot be changed by the user.</li>
<li>A sink can remove fluid #1, #2 or their mixture. Fluid density at a sink cannot be defined.</li>
<li>Temperature must be defined at a source but not at a sink.</li>
</ul>
<p><strong>Case 10, two-fluid incompressible flow with no sharp interface and no heat transfer:</strong></p>
<ul class="simple">
<li>A source can release either fluid #1 or fluid #2 but not both. The fluid density at
a source defaults to the source fluid density and cannot be changed by the user.</li>
<li>A sink can remove fluid #1, #2 or their mixture. Fluid density at the sink has its
local value and cannot be defined by the user.</li>
</ul>
<p><strong>Case 11, two-fluid incompressible flow with heat transfer and no sharp interface:</strong></p>
<ul class="simple">
<li>A source can release either fluid #1 or fluid #2 but not both. The fluid density at
a source defaults to that of the source fluid and cannot be changed by the user.</li>
<li>A sink can remove fluid #1, #2 or their mixture. Fluid density at the sink has its
local value and cannot be defined by the user.</li>
<li>Temperature must be defined at a source but not at a sink.</li>
</ul>
<p><strong>Case 12, two-fluid flow with sharp interface, and flow of fluid #2 is compressible:</strong></p>
<ul class="simple">
<li>A source can release either fluid #1 or fluid #2 but not both. If fluid #1 is released,
source fluid density defaults to that of fluid #1 and cannot be changed by the user.
If fluid #2 is released, source fluid density must be defined.</li>
<li>A sink can remove fluid #1, #2 or their mixture. Fluid density at the sink has its
local value and cannot be defined by the user.</li>
<li>Temperature must be defined at a source but not at a sink.</li>
</ul>
</div>
<div class="section" id="setup-procedure">
<span id="mass-source-procedure"></span><h4>Setup procedure<a class="headerlink" href="#setup-procedure" title="Permalink to this headline">¶</a></h4>
<div class="section" id="activate-mass-source">
<span id="activatemasssourcemr"></span><span id="index-89"></span><h5>Activate Mass Source<a class="headerlink" href="#activate-mass-source" title="Permalink to this headline">¶</a></h5>
<p>To define a mass source/sink, go to <span class="menuselection">Model Setup ‣
Geometry ‣ Component (the desired component)</span>. In the window
<span class="menuselection">Component properties</span>, go to <span class="menuselection">Mass Source
Properties</span>. check the <span class="guilabel">Mass Source</span> checkbox. The component properties for mass
source definition are shown in the figure below.</p>
<blockquote>
<div><img alt="Mass sources tree" src="_images/mass-sources-activate-mass-source-expanded-tree.png" />
</div></blockquote>
</div>
<div class="section" id="define-source-properties">
<span id="definesourcepropertiesmr"></span><h5>Define Source Properties<a class="headerlink" href="#define-source-properties" title="Permalink to this headline">¶</a></h5>
<p>Users can specify fluid type (fluid #1, #2 or their mixture), pressure type,
density and temperature at a source and fluid type and density at a sink,
depending on definition of the problem.</p>
<p>The pressure types include <span class="guilabel">Stagnation pressure</span> and <span class="guilabel">Static
pressure</span> and only applies to sources (i.e., when the mass flow rate is
positive). At a stagnation pressure source (default), fluid is
assumed to enter at zero velocity. As a result, pressure must build up at the
source to move the fluid away from the source. Such sources are designed to
model fluid emerging at the end of a rocket or a deflating balloon.</p>
<p>At a static pressure source, the fluid velocity is computed from the
mass flow rate and the surface area of the source. In this case, no extra
pressure is required to propel the fluid away from the source. An example of
such source is fluid emerging from a long straight pipe.</p>
<p>Typically, the distinction between those two types of mass sources is only
important for sources associated with coupled-motion GMO components because it
affects the fluid pressure at the source hence the hydraulic force acting on
the moving object.</p>
</div>
<div class="section" id="define-flow-rate">
<span id="defineflowratemr"></span><span id="index-90"></span><h5>Define Flow Rate<a class="headerlink" href="#define-flow-rate" title="Permalink to this headline">¶</a></h5>
<p>In the dropdown boxes under Flow rate, one can choose to define <span class="guilabel">Mass
flow rate</span> or <span class="guilabel">Volume flow rate</span> for the source/sink. Both flow rates
can be selected as either total flow rate or flow rate per unit area of the
source component.</p>
<p>The total flow rate is distributed uniformly over the open surface of the source
component. When flow rate per unit area is selected, the total flow rate is the
specified flow rate per unit area times the open surface area of the source
component. If the open surface area changes in time, so will the total mass flow
rate. For example, the calculated surface area of a moving object depends on
mesh size and mesh distribution and is updated at each time step, thus it can
change with time, resulting in a time-variation of the total flow rate.</p>
<p>If total flow rate is specified with a moving object, the fluxes along the
open surface are adjusted at every time step to maintain the defined total mass
flow rate.</p>
<p>If flow rate is a constant, then simply enter it in the corresponding edit box
under <span class="guilabel">Total flow rate</span> or <span class="guilabel">Per unit area flow rate</span>.
Otherwise click on <span class="guilabel">Tabular</span> to pop up a data table and enter a
series of data for time versus flow rate. Flow rate is positive for a source
and negative for a sink and can change sign with time. Alternatively, users
can also define flow rate versus time by importing an existing data file using
the <span class="guilabel">Import Values</span> button. The file must have two columns of data
which represent time and flow rate from left to right, respectively. A
<code class="file docutils literal notranslate"><span class="pre">csv</span></code> extension is required for the file. As with other time-dependent
inputs in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span>, data is interpolated in a piecewise linear fashion between
time points.</p>
<p>The flow rate can be changed during the simulation by active simulation control.
See also <a class="reference internal" href="#activesimulationcontrolmr"><span class="std std-ref">Active Simulation Control</span></a> for more information.</p>
</div>
<div class="section" id="define-scalars-at-source">
<span id="definescalarsatsourcemr"></span><span id="index-91"></span><h5>Define Scalars at Source<a class="headerlink" href="#define-scalars-at-source" title="Permalink to this headline">¶</a></h5>
<p>Scalars have to be first activated in <span class="guilabel">Scalars</span> under
<span class="guilabel">Physics</span> tab. Scalar quantities in the fluid at a mass source can
be defined as scalar concentrations at the source, which is mass of the scalar
per unit volume of the fluid entering the computational domain. The mass flow
rate of a scalar entering the domain is equal to the specified scalar
concentration times volume flow rate of the source fluid at the source. In
<span class="menuselection">Mass Source Properties ‣ Source ‣ Scalars ‣ User defined
scalar</span>, enter the scalar concentration.</p>
<span class="target" id="index-92"></span></div>
</div>
</div>
<div class="section" id="mass-momentum-sources">
<span id="massmomentumsourcesmr"></span><span id="index-93"></span><h3>Mass-Momentum Sources<a class="headerlink" href="#mass-momentum-sources" title="Permalink to this headline">¶</a></h3>
<p>The mass-momentum source model allows the user to introduce fluid at any
location and orientation into the computational domain at a specified
(time-dependent) flow rate and velocity without having to model the geometry of the
actual source. A mass-momentum source is represented by an array of particles
of a special type in a planar surface. Users only need to define the location,
shape and orientation of the source surface, and the solver will generate
these particles automatically at the specified location in a pattern that
follows the user-specified shape and orientation. In addition, mass-momentum
sources can move at a user-defined velocity. They are intended to represent
objects like nozzles, ventilation air ducts, pipes, etc. This approach is
particularly useful when source dimensions are small compared to the size of
the computational domain.</p>
<p>A mass-momentum source can release fluid (when flow rate is positive) or
remove fluid (when flow rate is negative). In the following we will call a
mass-momentum source that releases fluid a source and one that removes fluid a
sink. Multiple sources and sinks are allowed to exist in one simulation, each
characterized by a unique set of properties such as mass or volume flow rate,
fluid type (fluid #1, #2 or their mixture), fluid density and temperature.</p>
<p>The placement and configuration of mass-momentum sources is discussed in
detail in the <a class="reference internal" href="model-setup.html#massmomentummng"><span class="std std-ref">Mass-momentum sources</span></a> section in the <a class="reference internal" href="model-setup.html"><span class="doc">Model Setup</span></a> chapter.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="model-setup.html#massmomentummng"><span class="std std-ref">Mass-momentum sources</span></a> section in the <a class="reference internal" href="model-setup.html"><span class="doc">Model Setup</span></a> chapter</p>
</div>
<span class="target" id="index-94"></span></div>
</div>
<div class="section" id="fluid-structure-interaction-fsi">
<span id="fsitsemr"></span><span id="index-95"></span><h2>Fluid-Structure Interaction (FSI)<a class="headerlink" href="#fluid-structure-interaction-fsi" title="Permalink to this headline">¶</a></h2>
<span class="target" id="index-96"></span><p>The fluid-structure interaction (FSI) model is an integrated solid mechanics
modeling capability in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span>. This model makes use of the <em>finite element
method</em> (FEM) to simulate and analyze the stresses within solid components and
the resulting deformations. Stresses develop in the solid due to the forces
exerted by the surrounding fluid, thermal gradients within the solid, and/or
constraints imposed by walls and other components.</p>
<blockquote>
<div><img alt="Geometry tree" src="_images/fsi-thermal-stress-evolution-geometry-tree.png" />
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>Only <em>solid</em> components can be FSI deformable objects.</li>
<li>Porous components cannot be FSI deformable objects.</li>
</ul>
</div>
<div class="section" id="fsitsemodelsetupmr">
<span id="id1"></span><h3>Model Setup<a class="headerlink" href="#fsitsemodelsetupmr" title="Permalink to this headline">¶</a></h3>
<div class="section" id="properties">
<span id="fsipropertiesmr"></span><h4>Properties<a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h4>
<p>From the <span class="guilabel">Component Properties</span> list, select <span class="guilabel">FSI
Deformable Properties</span> to open up the FSI properties. Checking the box next to
<span class="guilabel">FSI Deformable Component</span> in <span class="guilabel">Component Properties</span>
activates the model for that component. Do not confuse this with the
<span class="guilabel">Simple Deforming Object</span> selection, which models membrane and
simple wall deformation. The minimum requirements  of the material properties
for this model are: <span class="guilabel">Solid Density</span> and at least two elastic
properties out of the <span class="guilabel">Bulk Modulus</span>, <span class="guilabel">Shear Modulus</span>,
<span class="guilabel">Elastic (Young’s) Modulus</span>, and <span class="guilabel">Poisson Ratio</span>. Unless
these minimum requirements are met, the preprocessor will terminate the
simulation. Note that temperature-dependent tabular data can be specified for
any or all material properties. If more than 2 of the aforementioned
properties are specified, priority is given in order from top to bottom of the
list in the GUI.</p>
<p>If the <span class="guilabel">Heat Transfer</span> model (with full conduction in components) is
turned on and thermal gradients exist with the solid, the model computes
thermal stresses that can develop due to density variation within the
material; either the <span class="guilabel">Thermal Expansion Coefficient</span> or
<span class="guilabel">Tabular</span> data for <span class="guilabel">Solid Density</span> must be provided to
compute thermal stresses. Also, if the solid properties are temperature
dependent and if this information is available, the properties can be defined
with temperature dependent tables. Click on the <span class="guilabel">Tabular</span> button to
enter the temperature dependent properties directly, or <span class="guilabel">Import
Values</span> from an existing comma separated value (<code class="file docutils literal notranslate"><span class="pre">csv</span></code>) file. The values
can also be read directly from an external file without being copied to the
<code class="file docutils literal notranslate"><span class="pre">prepin.*</span></code> file (see
<a class="reference internal" href="#temperaturedependentpropertiesmr"><span class="std std-ref">Temperature Dependent Properties</span></a>). These properties can also be loaded
into components from the <span class="guilabel">Solids Database</span> under the
<span class="guilabel">Materials</span> menu.</p>
<p>The <span class="guilabel">Yield Stress</span> input allows entry of a Yield-stress limiting
value (in units of stress). Setting this value for the component activates the
<em>Plastic deformation</em> model for that component, which predicts non-elastic
deformation locally where the local von Mises stress exceeds the specified
value.</p>
<p>The <span class="guilabel">Fluid/Solid Coupling</span> drop-down menu controls the coupling
between the current FSI component and the surrounding fluid:
<span class="guilabel">Partial</span> coupling means that the solid “sees” the surrounding
fluid, but the deformation of the solid does <em>not</em> affect the fluid flow. This
is the default, and the appropriate choice for when the solid deformations are
expected to be small. For simulations where the deformations are expected to
be large and/or rapid, or the acoustic vibrations of the solid are important
to the simulation, the <span class="guilabel">Full</span> coupling option will compute the fluid
motion generated by the deformation of the solid. This option will extend
computation times, and is not recommended unless actually needed.</p>
<p>The sub-branch entitled <span class="guilabel">FSI Coupling between… :</span> controls the
coupling between the current FSI component and neighboring FSI components.
There is a drop-down menu for each neighboring FSI component, and the default
selection is <span class="guilabel">No coupling</span>, which assumes a fixed boundary between
the components (i.e., no displacements are permitted). Alternate selections
are <span class="guilabel">Complete coupling</span> and <span class="guilabel">Partial coupling</span>. Selecting
<span class="guilabel">Complete coupling</span> causes the model to assume that the two
components are completely fused together, with no sliding or separation
possible. Selecting <span class="guilabel">Partial coupling</span> allows the components to
separate and slide past one another, but they cannot interfere. The sliding
friction is controlled by specifying a value for the <span class="guilabel">Friction
coefficient</span> below each drop-down menu. By default, sliding friction is not
limited (i.e., sliding cannot occur so long as the components are in contact);
setting this to 0.0 or greater allows for sliding. Physical values are
typically less than 1.0.</p>
<p>After the elastic properties are provided, it is time to generate a finite
element (FE) mesh for the solid. The preprocessor makes use of a rectangular
Cartesian mesh around the solid component to generate the <em>Finite Element</em>
(FE) mesh, which is used to solve the equation of motion throughout the solid
component. The Cartesian mesh can be the fluid mesh (default), or it can be an
independent <span class="guilabel">Local Input Mesh</span> whose purpose is only to generate the
FE mesh for the solid component.</p>
</div>
<div class="section" id="fsi-meshing">
<span id="femeshing-fsi"></span><h4>FSI meshing<a class="headerlink" href="#fsi-meshing" title="Permalink to this headline">¶</a></h4>
<p>When a deformable object is present in the domain, its deformations are captured
using a finite element (FE) mesh. More than one FE meshes may be required depending on
the number of deformable components and their interactions.</p>
<p>To generate a FE mesh, navigate to the <span class="guilabel">Mesh</span> widget in <span class="guilabel">Model Setup</span>
using the appropriate button (<a class="reference internal" href="_images/Mesh.png"><img alt="f3d_mesh_icon" src="_images/Mesh.png" style="width: 0.25in;" /></a>). In the <span class="guilabel">Mesh</span> widget, the
deformable component will be present as one of the meshing options under
<span class="guilabel">Select meshing mode</span>.</p>
<blockquote>
<div><img alt="Automatic FE Mesh options" src="_images/ModelReference_FEMesh_Automatic_v12.JPG" />
</div></blockquote>
<p>By default, the <span class="guilabel">Finite element mesh usage</span> will be set to <span class="guilabel">Automatic</span>.
This implies that the FE mesh is going to be based on the current resolution of the
<span class="guilabel">Flow Mesh</span>. When using this option, the mesh need not be generated at this point;
it will automatically be generated during the preprocessing step.</p>
<p>When set to automatic, the only available option is to determine
the selection of either <span class="guilabel">Hexahedron</span> or <span class="guilabel">Tetrahedron</span> mesh elements. Hexahedron meshes,
the default,  are based on six-sided elements, with merging of some vertices
in the vicinity of the component boundaries to allow for smooth interfaces.
Tetrahedron meshes are composed of 4-sided elements and do not require merging
of any vertices. Tetrahedral meshes are simpler, use linear basis functions,
and can result in lower runtimes. However, due to the linear basis functions,
the results may be somewhat less smooth.</p>
<p>The FE mesh can be generated and displayed using the <span class="guilabel">Preview/Display FE mesh</span> button.
When using the <span class="guilabel">Automatic</span> option, the FE mesh file for this component will be overwritten every time the simulation is run.</p>
<blockquote>
<div><img alt="Custom FE Mesh options" src="_images/ModelReference_FEMesh_Custom_v12.JPG" />
</div></blockquote>
<p>If if a different mesh resolution is desired, select the <span class="guilabel">Specify the FE mesh</span>
radio button. In this case, the mesh needs to be generated in advance. If a FE mesh is
not already present, it can be generated using the options avaialble in the
<span class="guilabel">Finite element mesh generation</span> box. The first step is to determine the
source of FE mesh generation through the <span class="guilabel">Initialize structured input mesh with..</span> button.
The available options are <span class="guilabel">From flow mesh</span>, which copies the current mesh parameters
as defined in the <span class="guilabel">Flow Mesh</span> section, <span class="guilabel">Custom</span>, which requires a
new rectangular mesh to be defined, and <span class="guilabel">Import from FE mesh</span>, which imports the
mesh generation information from a previously generated FE mesh file. In all cases, the
meshing controls are the same as those to the ones available in <span class="guilabel">Flow Mesh</span>. Once
the required extents and resolution are specified the FE mesh can be generated and displayed
using the <span class="guilabel">Preview/Display FE mesh</span> button. In this case, it will also be automatically
selected in the input field under the <span class="guilabel">Specify the FE mesh</span> radio button.</p>
<p>Optionally, a <span class="guilabel">Filename</span> can be given fior the generated FE mesh.
If no filename is specified, the filename for the mesh file of this component
defaults to <code class="file docutils literal notranslate"><span class="pre">comp#.project.FEmesh</span></code>, where <code class="file docutils literal notranslate"><span class="pre">project</span></code> is the project
name.</p>
<p>Cylindrical coordinate flow mesh can also be used to generate the FE
mesh, either axisymmetric or fully three-dimensional. The only limitation is
that for 3-D meshes, the FE mesh <strong>cannot</strong> contact the centerline of the
mesh; this will result in a singularity point for the FE mesh.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>The <span class="guilabel">Local input mesh</span> information is saved in the <code class="file docutils literal notranslate"><span class="pre">FE</span> <span class="pre">Mesh</span> <span class="pre">File</span></code>
that is generated in the next step, but <em>not</em> in the
<code class="file docutils literal notranslate"><span class="pre">prepin.*</span></code> file.</li>
<li>If <span class="guilabel">Generate FE mesh</span> is selected, the <span class="guilabel">Local input mesh</span>
information is <em>NOT</em> used, and the mesh you created will be overwritten by a
finite element mesh created by the default fluid mesh.</li>
<li>Conforming mesh blocks are ignored while generating FE meshes during preprocessing.
In FE mesh generation mode, conforming mesh blocks are temporarily converted to non-conforming
and FE mesh is generated.</li>
<li>If only conforming mesh blocks are used for a simulation then it is recommended to
generate the FE mesh without conforming mesh blocks in FE mesh generation mode and
load the generated mesh for the simulation step.</li>
</ul>
</div>
</div>
</div>
<div class="section" id="simulation">
<span id="fsitsesimulationmr"></span><h3>Simulation<a class="headerlink" href="#simulation" title="Permalink to this headline">¶</a></h3>
<p>The solver used for the solution of the stresses within the solid component is
similar to the Generalized Minimum Residual (GMRES) pressure solver. This is
the only solver  available, and the user can adjust the <span class="guilabel">GMRES
subspace size</span> (sometimes called the in the literature the <em>restart number</em>,
and is called  <a class="reference internal" href="input-variable-summary-units.html#computationallimitsnamelistlimits"><span class="std std-ref">MRSTRTFSI</span></a> in the
input file), the <span class="guilabel">Maximum number of iterations</span> and the
<span class="guilabel">Convergence tolerance</span>. Changes to these parameters are made from
the <span class="guilabel">FSI/TSE solver options</span> section of the <span class="guilabel">Numerics</span>
tab:</p>
<blockquote>
<div><img alt="Fluid-Structure interaction - GMRES subspace size" src="_images/ModelReference_FSITSE-Numerics_v12.JPG" />
</div></blockquote>
<p>The default value of the GMRES subspace size is 20. Increasing this value will
allow the solver to achieve convergence with fewer iterations; however, the
CPU time per iteration will increase and the memory usage will rise with the
subspace size. In some simulations where convergence is not being reached
(i.e., the maximum number of iterations are being done and the <span class="guilabel">FEA
convergence ratio</span> is greater than 1), increasing this value can drastically
reduce the overall CPU time.</p>
<p>Additionally, if the option <span class="guilabel">Dynamically selected subspace size</span> is
selected, the solver will automatically adjust the subspace size to optimize
solution efficiency. In this case, the entered (or default) value of the
<span class="guilabel">GMRES subspace size</span> becomes the <strong>maximum</strong> subspace size.
Therefore, setting it to a largest value possible with this option is a good
idea (up to the memory available on the computer), since it allows for greater
solver flexibility. In cases where convergence is easily achieved, the
subspace size will automatically be reduced to maintain optimum solver
efficiency.</p>
<p>The <span class="guilabel">Maximum number of iterations</span> limits the number of iterations
used by the solver; the default value is 25 which should be more than enough
for most simulations. If the FSI iteration count in the solver is repeatedly
reaching the limit (as seen in the <span class="guilabel">Simulation</span> messages), this
limit or the subspace size can be increased. It is recommended (up to the
limit of available memory) to try increasing the subspace size first.</p>
<p>The option <span class="guilabel">Additional memory (in GB) for storing FSI data
structures</span> specifies the amount of additional memory that may be used for
storing data structures that can significantly speedup the FSI solver. In the
prepin file, this parameter may be specified by setting the variable,
<span class="target" id="index-97"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">FSI_MEMORY</span></code> in the <span class="target" id="index-98"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">XPUT</span></code> namelist. The FSI solver solves a
system of linear equations (represented by a sparse matrix) for the x, y and z
displacements at all FE mesh nodes. The FSI matrix elements corresponding to
each node can either by computed dynamically for every iteration loop of the
FSI solver or computed and stored once for each cycle and re-used within the
iteration loops in the solver. While storing all the FSI matrix elements can
result in up to 7 times speedup (more often around 3-4 times speedup) of the
FSI solver, it comes with a memory penalty.  Matrix storage for 1 million FE
mesh nodes requires an additional 7 GB of RAM memory. While small FE meshes
benefit from this approach with only a small memory penalty, large FSI problems
involving several million FE mesh nodes would require prohibitively high
additional memory to store the complete FSI matrix. To resolve this problem,
FSI matrix elements are stored only up to a specified memory limit (defaulting
to 7 GB).  Storage for FE mesh nodes that cannot be accommodated within this
memory limit, are dynamically computed within the FSI solver iteration loops.
This retains the performance advantages of storing the FSI matrix without
increasing the memory penalty to prohibitive levels. The amount of additional
memory required for storing a given number of FE mesh nodes can be estimated by
multiplying the number of nodes (in millions) by 7 GB. If the user has enough
RAM memory on his computer to store the entire FSI matrix, he can increase the
default memory limit and improve the computational performance. The additional
memory requirements for tetrahedral meshes are twice that of hexahedral meshes
and the performance gains are typically not as high as for hexahedral meshes.</p>
<p>The <span class="guilabel">Convergence tolerance</span> specifies the maximum residual permitted
in the solution of the solid dynamics equations. This value is dimensionless
independent of the mesh size and time step. The value represents a relative
error in the computed strain. The default value is 10<sup>-3</sup>, which should
work well for most simulations. However, if the goal of the simulation is to
get a final-time stress result, rather than accurate time-dependent results,
raising this value will not greatly harm the accuracy of the end result. For
simulations where the displacements and stresses are needed to be highly
accurate during the course of the simulation, lowering this value can help.
Note that convergence generally becomes increasingly slow for values of the
convergence tolerance smaller than 10<sup>-8</sup> for reasons of machine
precision round-off.</p>
<p>The option <span class="guilabel">Preconditioning of FSI GMRES</span> (on by
default) uses a preconditioning algorithm prior to running the GMRES
algorithm, with the goal of reducing the number of GMRES iterations. The
preconditioning algorithm is only used when:</p>
<ol class="arabic simple">
<li>The option <span class="guilabel">Preconditioning of FSI GMRES</span> is activated, and</li>
<li>The average number of iterations needed to solve the solid dynamics equations during the previous 10 computational cycles exceeded 4.</li>
</ol>
<p>The FSI model solves the equations of solid dynamics incrementally, so
theoretically, large deformations can be predicted with reasonable accuracy.
Although fluid motion due to displacements at the solid-fluid interface is
predicted by the model, <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> volume and area fractions (FAVOR<sup>TM</sup> fractions)
are <em>not</em> updated, so the geometry changes of the solid components are not
seen by the fluid. Therefore, in simulations, where significant deformations
are modeled, the solid dynamics are accurately represented, its effects on the
fluid are not.</p>
<p>Components must be in contact somewhere with fluid mesh boundaries or other
components during a simulation so that they are constrained. If not
constrained, the solid dynamics equations will predict rigid-body motion for
the components, and this motion will not be represented in the fluid. For
example, an unconstrained sphere placed in the simulation with gravity present
will be predicted to exhibit free-fall out of the computational domain.</p>
</div>
<div class="section" id="post-processing">
<span id="fsitsepostprocessingmr"></span><h3>Post-processing<a class="headerlink" href="#post-processing" title="Permalink to this headline">¶</a></h3>
<p>The finite-element results produced by the model are viewed in a separate
display from the fluid regions. To access the FSI data, from the
<span class="guilabel">Analyze</span> tab, select the <span class="guilabel">FSI TSE</span> sub-tab:</p>
<blockquote>
<div><img alt="Analyze tab" src="_images/fsi-tse-solidified-fluid-region-analyze-tab.png" />
</div></blockquote>
<p>From this tab, select which of the components to view:</p>
<blockquote>
<div><img alt="Fluid-Structure Interaction Components" src="_images/fsi-tse-solidified-fluid-region-fsi-components.jpg" />
</div></blockquote>
<p>Also selectable are the time limits, and the data source. Note that to view
<span class="guilabel">Selected</span> data, <span class="guilabel">Fluid structure interaction</span> must have
been chosen from the <span class="guilabel">Selected data</span> list in <span class="menuselection">Model
Setup ‣ Output</span> during setup of the simulation. Click <span class="guilabel">Render</span>
and the <span class="guilabel">Display</span> tab appears, and from here various data variables
can be plotted for the FSI component. Other controls to zoom, rotate, etc.,
are the same as the 3-D display.</p>
<p>The default display is the <span class="guilabel">Normal displacement</span>. This shows the
surface displacement in the direction of the outward-pointing normal over the
entire surface of the component, relative to its original conformation.
Negative values indicate that the surface is pulled in and positive values
indicate that the surface is pushed out relative to its original position.
Individual displacements throughout the component in the x, y and z directions
can also be displayed by selecting <span class="guilabel">X displacement</span>, <span class="guilabel">Y
displacement</span>, or <span class="guilabel">Z displacement</span>, respectively.</p>
<p>There are 6 components of elastic stress and 6 components of strain available
for plotting. These are the 6 independent components that comprise the
symmetric elastic stress and strain tensors. These components are difficult to
conceive for most three-dimensional simulations, as even simple 1-D tension,
diagonal to the coordinates, will produce non-zero values in many of the
stress components. That is why the <span class="guilabel">mean iso stress</span> (mean isotropic
stress) and the <span class="guilabel">Von Mises stress</span> are provided. These are stress
invariants, and as such, are independent of the coordinate system chosen. The
<span class="guilabel">mean iso stress</span> is the isotropic stress – the amount of
purely compressive (negative values) or tensile (positive values) stress in
the solid, which could indicate areas most prone to buckling or cracking. In
contrast, the <span class="guilabel">Von Mises stress</span> is a measure of shearing stresses;
its value is always positive. Regions with high shear stress are more prone to
tearing. Therefore, a solid under pure compressive or tensile stresses can
have a negligible Von Mises stress; conversely, a solid under pure shear can
have negligible tensile or compressive stress.</p>
<p>If a value was specified for the <span class="guilabel">Yield Stress</span>, then data will also
be available for the plastic deformation of the solid. This
data includes the independent components of the plastic strain tensor (all
non-dimensional), and the plastic strain magnitude (the second invariant of
the plastic strain tensor). These values indicate the locations within the
component where the greatest amount of plastic strain occurred.</p>
<p><span class="guilabel">Temperature</span> is available for plotting as a convenience. This
temperature is the same as the wall temperature available from the fluid
3-D display. The <span class="guilabel">volume expansion</span> indicates regions of the component
that have expanded (positive values) or shrunk (negative values) during the
course of the simulation. Such expansion or contraction could be caused by
temperature changes, or by tensile or compressive stresses.</p>
</div>
<div class="section" id="export-import-fsi-meshes">
<span id="fsiexportimportexodusmeshes"></span><h3>Export/Import FSI Meshes<a class="headerlink" href="#export-import-fsi-meshes" title="Permalink to this headline">¶</a></h3>
<p>FSI mesh and data can be imported or exported to <strong class="program">EXODUS II</strong> file
format, which is a random access, machine independent, binary file format.
<strong class="program">EXODUS II</strong> is a widely used model developed to store and retrieve
data for finite element analyses. The ability to export FSI mesh and data files
in <strong class="program">EXODUS II</strong> file format enhances portability and makes it possible
to view FSI results outside the <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> GUI.
<a class="reference external" href="http://www.paraview.org">ParaView</a> is a free, multi-platform data analysis
and visualization application that can be used to view <strong class="program">EXODUS II</strong>
files. To generate <strong class="program">EXODUS II</strong> output files, select <span class="menuselection">Model
Setup ‣ Output</span>. In the <span class="guilabel">Advanced</span> tab, select the
required option in the <span class="guilabel">FSI/TSE EXODUS output format</span> drop-down menu.</p>
<blockquote>
<div><a class="reference internal image-reference" href="_images/ModelReference_FSIMEshDataOutput_v12.JPG"><img alt="EXODUS II output options" src="_images/ModelReference_FSIMEshDataOutput_v12.JPG" style="width: 502.2px; height: 863.1px;" /></a>
</div></blockquote>
<p>The FSI mesh file stores only the FE mesh information (elements, nodes, etc.)
while the FSI data file includes FE mesh information and as well node
properties such as stress, strain, etc. at each FE mesh node. Table
<a class="reference internal" href="#fsidataoutputvariablestable"><span class="std std-ref">FSI data variables</span></a> provides a description of all FSI data
variables. The FSI mesh file has the extension <code class="docutils literal notranslate"><span class="pre">.EXFEmesh.exo</span></code> and is
written out only once, immediately after the pre-processing stage. The FSI data
file has the extension <code class="docutils literal notranslate"><span class="pre">.EXFEdata.exo</span></code> and is written out at the same
frequency as the restart data.  The <strong class="program">EXODUS II</strong> data file is a single
file (one for each FSI component) that contains FSI data at all restart output
times. In the <code class="file docutils literal notranslate"><span class="pre">prepin.*</span></code> file, the variable <span class="target" id="index-99"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">IEXODUSOUT</span></code> (in namelist
<span class="target" id="index-100"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">XPUT</span></code>) can be used to write out FSI mesh and data files in
<strong class="program">EXODUS II</strong> format (see <a class="reference internal" href="input-variable-summary-units.html#filecontroloptions"><span class="std std-ref">File Control Options</span></a> for details of
usage).</p>
<span id="fsidataoutputvariablestable"></span><table border="1" class="colwidths-given longtable docutils" id="id34">
<caption><span class="caption-text">FSI data variables</span><a class="headerlink" href="#id34" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="39%" />
<col width="61%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">FE MESH VARIABLE</th>
<th class="head">DESCRIPTION</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><span class="target" id="index-101"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">stressxx</span></code></td>
<td><em>xx</em>-component of Elastic stress tensor</td>
</tr>
<tr class="row-odd"><td><span class="target" id="index-102"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">stressxy</span></code></td>
<td><em>xy</em>-component of Elastic stress tensor</td>
</tr>
<tr class="row-even"><td><span class="target" id="index-103"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">stressxz</span></code></td>
<td><em>xz</em>-component of Elastic stress tensor</td>
</tr>
<tr class="row-odd"><td><span class="target" id="index-104"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">stressyy</span></code></td>
<td><em>yy</em>-component of Elastic stress tensor</td>
</tr>
<tr class="row-even"><td><span class="target" id="index-105"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">stressyz</span></code></td>
<td><em>yz</em>-component of Elastic stress tensor</td>
</tr>
<tr class="row-odd"><td><span class="target" id="index-106"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">stresszz</span></code></td>
<td><em>zz</em>-component of Elastic stress tensor</td>
</tr>
<tr class="row-even"><td><span class="target" id="index-107"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">DISPLX</span></code></td>
<td><em>x</em>-component of local displacement vector</td>
</tr>
<tr class="row-odd"><td><span class="target" id="index-108"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">DISPLY</span></code></td>
<td><em>y</em>-component of local displacement vector</td>
</tr>
<tr class="row-even"><td><span class="target" id="index-109"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">DISPLZ</span></code></td>
<td><em>z</em>-component of local displacement vector</td>
</tr>
<tr class="row-odd"><td><span class="target" id="index-110"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">strainxx</span></code></td>
<td><em>xx</em>-component of symmetric strain tensor</td>
</tr>
<tr class="row-even"><td><span class="target" id="index-111"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">strainxy</span></code></td>
<td><em>xy</em>-component of symmetric strain tensor</td>
</tr>
<tr class="row-odd"><td><span class="target" id="index-112"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">strainxz</span></code></td>
<td><em>xz</em>-component of symmetric strain tensor</td>
</tr>
<tr class="row-even"><td><span class="target" id="index-113"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">strainyy</span></code></td>
<td><em>yy</em>-component of symmetric strain tensor</td>
</tr>
<tr class="row-odd"><td><span class="target" id="index-114"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">strainyz</span></code></td>
<td><em>yz</em>-component of symmetric strain tensor</td>
</tr>
<tr class="row-even"><td><span class="target" id="index-115"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">strainzz</span></code></td>
<td><em>zz</em>-component of symmetric strain tensor</td>
</tr>
<tr class="row-odd"><td><span class="target" id="index-116"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">rel</span> <span class="pre">volume</span> <span class="pre">expansion</span></code></td>
<td>Relative volume expansion. The first invariant (trace) of strain tensor</td>
</tr>
<tr class="row-even"><td><span class="target" id="index-117"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">mean</span> <span class="pre">iso</span> <span class="pre">stress</span></code></td>
<td>Mean isotropic elastic stress. Represents a measure of purely compressive (if negative) or tensile stresses (if negative). Equal to one-third of the trace of the elastic stress tensor.</td>
</tr>
<tr class="row-odd"><td><span class="target" id="index-118"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">VM</span> <span class="pre">stress</span></code></td>
<td>Von Mises stress. Represents a measure of shearing stresses; its value is always positive. Regions with high shear stress are more prone to tearing. This is the square root of the second invariant of the elastic stress tensor.</td>
</tr>
<tr class="row-even"><td><span class="target" id="index-119"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">Temperature</span></code></td>
<td>Local solid temperature</td>
</tr>
<tr class="row-odd"><td><span class="target" id="index-120"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">norm</span> <span class="pre">displ</span></code></td>
<td>Normal displacement of the solid component boundary. Non-zero only at component interfaces.</td>
</tr>
<tr class="row-even"><td><span class="target" id="index-121"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">Active</span> <span class="pre">node?</span></code></td>
<td>The activity state of the local node. For the FSI model, all nodes are always active.</td>
</tr>
<tr class="row-odd"><td><span class="target" id="index-122"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">pstrainxx</span></code></td>
<td><em>xx</em>-component of plastic strain tensor. Valid only when yielding is specified.</td>
</tr>
<tr class="row-even"><td><span class="target" id="index-123"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">pstrainxy</span></code></td>
<td><em>xy</em>-component of plastic strain tensor. Valid only when yielding is specified.</td>
</tr>
<tr class="row-odd"><td><span class="target" id="index-124"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">pstrainxz</span></code></td>
<td><em>xz</em>-component of plastic strain tensor. Valid only when yielding is specified.</td>
</tr>
<tr class="row-even"><td><span class="target" id="index-125"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">pstrainyy</span></code></td>
<td><em>yy</em>-component of plastic strain tensor. Valid only when yielding is specified.</td>
</tr>
<tr class="row-odd"><td><span class="target" id="index-126"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">pstrainyz</span></code></td>
<td><em>yz</em>-component of plastic strain tensor. Valid only when yielding is specified.</td>
</tr>
<tr class="row-even"><td><span class="target" id="index-127"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">pstrainzz</span></code></td>
<td><em>zz</em>-component of plastic strain tensor. Valid only when yielding is specified.</td>
</tr>
<tr class="row-odd"><td><span class="target" id="index-128"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">pstrainmag</span></code></td>
<td><em>xx</em>-component of plastic strain tensor. Valid only when yielding is specified. This is the square root of the second invariant of the plastic strain tensor.</td>
</tr>
<tr class="row-even"><td><span class="target" id="index-129"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">nn:T</span></code></td>
<td>Normal component of traction on the component interface. This is a measure of the force (due to surrounding fluid, neighboring components) on the component. Non-zero only on component interfaces.</td>
</tr>
</tbody>
</table>
<p>It is also possible to import <strong class="program">EXODUS II</strong> meshes into <span class="raw-html"><strong><em>FLOW-3D </em></strong></span>. Using
this feature, <strong class="program">EXODUS II</strong> meshes generated by third party finite element mesh
generation software (or <span class="raw-html"><strong><em>FLOW-3D </em></strong></span>) can be used to specify the FE mesh instead of the
default <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> FE mesh format. In the <span class="guilabel">FSI Deformable Properties</span>
branch of <span class="guilabel">Component</span>, select <span class="guilabel">Use EXODUS FE
mesh</span> from the <span class="guilabel">FE mesh file usage</span> drop-down menu. Special care must be
taken when importing <strong class="program">EXODUS II</strong> meshes generated by third party
software. See Notes below.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>All element blocks in the imported <strong class="program">EXODUS II</strong> mesh must have the
same element type (i.e., tetrahedral or hexahedral, but not mixed).</li>
<li>The imported finite element mesh and the <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> component must coincide with each other.
Importing an <strong class="program">EXODUS II</strong> mesh does not imply generation of an
equivalent component in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span>. Rather, these are two separate steps and the
user must ensure that the two match in space.</li>
</ul>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="input-variable-summary-units.html#componentpropertiesfluidstructureinteractionfsimodel"><span class="std std-ref">Component Properties: Fluid-Structure Interaction (FSI) Model</span></a>.</p>
</div>
</div>
</div>
<div class="section" id="free-surface-vs-confined-flows">
<span id="flow-optionsmp"></span><h2>Free Surface vs. Confined Flows<a class="headerlink" href="#free-surface-vs-confined-flows" title="Permalink to this headline">¶</a></h2>
<span class="target" id="index-130"></span><div class="section" id="confined-flow">
<span id="confinedflowmr"></span><span id="index-131"></span><h3>Confined Flow<a class="headerlink" href="#confined-flow" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><img alt="Confined flow" src="_images/ModelReference_ModelReferenceNoSharpInterface_v12.JPG" />
</div></blockquote>
<p>Confined homogeneous fluid can be simulated by employing the one-fluid flow
model with the interface tracking algorithm turned off. Select
<span class="menuselection">Physics ‣ No sharp interface</span> and
<span class="menuselection">Physics ‣ One fluid</span>. In this case, all open space in
the mesh is filled by fluid #1 at all times. Pressure, velocity, and
temperature and other fluid quantities can be initialized in the
<span class="guilabel">Initial</span> tab.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>For confined one-fluid compressible flow the two-fluid model has to be used and
then only fluid #2 should be defined in the initial and boundary conditions by setting
<span class="guilabel">Fluid fraction</span> to 0.0 everywhere.</li>
</ul>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"> <a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#compressibleflowmr"><span class="std std-ref">Compressible Flows</span></a></p>
</div>
<span class="target" id="index-132"></span></div>
<div class="section" id="free-surface-flow">
<span id="freesurfaceflowmr"></span><span id="index-133"></span><h3>Free Surface Flow<a class="headerlink" href="#free-surface-flow" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><img alt="Interface tracking" src="_images/ModelReference_ModelReferenceSharpInterface_v12.JPG" />
</div></blockquote>
<p>Flows with free surfaces are simulated using the one-fluid, sharp interface
models. Select <span class="menuselection">Physics</span> and <span class="guilabel">Free surface
or sharp</span> interface.</p>
<p>The properties of the fluid are defined in Fluids with the properties of fluid
#1. All open space in the mesh is assumed to be initially empty, unless
otherwise specified by the user, e.g., by setting fluid Elevation or Volume in
Initial.</p>
<p>Each void region is described with unique volume, pressure and temperature that
can vary with time. The default void region Pressure and Temperature are
initialized in Initial &gt; Void initial state and stay constant during the
calculation, unless one of the bubble models is used (see Adiabatic
Bubbles).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Mesh boundary conditions for fluid fraction in <span class="guilabel">Boundaries</span> at velocity and
pressure boundaries default to 1.0, allowing fluid to enter the mesh domain
if other conditions permit. Fluid fraction at fixed-pressure mesh boundaries
should be set to 0.0 to model ambient gas with no fluid entering the domain.</p>
</div>
<span class="target" id="index-134"></span></div>
</div>
<div class="section" id="granular-flow">
<span id="granularflowmr"></span><span id="index-135"></span><h2>Granular Flow<a class="headerlink" href="#granular-flow" title="Permalink to this headline">¶</a></h2>
<p>Granular flow is a mixture of solid particles and a fluid that can be either gas
or liquid, <em>e.g.</em>, sand and air or sand and water. This mixture of granular solid
and fluid is treated as an incompressible fluid
that may be bounded by free surfaces. Density variations in the mixture fluid
can exist initially and may arise during a flow because of a relative velocity
of the solid and fluid that is computed using the Drift-Flux model. Gas escape
from a free surface may occur as solid compacts forcing the gas out from between
the grains. In the case of a liquid, regions of pure liquid can form as solid material
compacts.</p>
<p>To activate this model select <span class="menuselection">General ‣ One fluid option</span> and
<span class="menuselection">Physics ‣ Granular Flow ‣ Granular Flow in Gas</span> or
<span class="menuselection">Physics ‣ Granular Flow ‣ Granular Flow in Liquid (Slurry)</span>.
A granular flow window appears in which the diameter and microscopic density of the grains, and
the density and viscosity of the fluid must be defined.</p>
<blockquote>
<div><img alt="Granular Flow" src="_images/granular-flow-activate.png" />
</div></blockquote>
<p>If necessary, <span class="guilabel">Close packing volume fraction</span>, <span class="guilabel">Mechanical jamming volume fraction</span>
and <span class="guilabel">Loose packing volume fraction</span>, which all relate to the flow characteristics of the solid material,
can be changed from their default values of 0.63, 0.61 and 0,55,
respectively. Also, <span class="guilabel">Angle of repose</span> for granular medium can be changed if the
default value of 34° is not suitable for the solid material to be modeled.</p>
<p>Another auxiliary input quantity is <span class="guilabel">Friction angle</span> , which is typically 2 to 8 degrees
larger than the angle of retention. The friction angle is important in the case of a fluid being
liquid, where it influences the dispersive pressure arising in shearing flow from the collision
between solid particles.</p>
<p>When the granular flow option is selected this automatically activates several
other models in the program that are used in the model. Also, it should be
remarked that it is unnecessary to define a mixture viscosity because this is
automatically computed as part of the model. In fact, it is not necessary to
define any of the fluid properties in the <span class="guilabel">Fluids</span> widget.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If a granular material is to enter a computational region through a mesh
boundary, it is necessary to define the <span class="guilabel">Density</span> of the solid/fluid mixture in
the boundary condition window. To avoid flow blockage, the entered density should represent
a solid fraction less than that for close packing. For example, if the <span class="guilabel">Fluid density</span> is
<img class="math" src="_images/math/c443cdd81845eef153ae028132e4ef918f1fe1de.png" alt="1000 \frac{kg}{m^3}" style="vertical-align: -6px"/> and the <span class="guilabel">Grain density</span> and <span class="guilabel">Close packing volume fraction</span>
(given in <span class="menuselection">Physics ‣ Granular Flow</span>) are <img class="math" src="_images/math/f5acbcf3af98099a9d54852f7d523085d2fac419.png" alt="1540 \frac{kg}{m^3}" style="vertical-align: -6px"/> and 0.63, respectively, then
the <span class="guilabel">Density</span> values entered in the boundary conditions window should be between 1000,
<em>i.e.</em>, <span class="guilabel">Fluid density</span>, and 1340.2, <em>i.e.</em>, close packing density, 1540*0.63+1000*0.37.</p>
</div>
<p>Two auxiliary input variables are available. One is the <span class="guilabel">Multiplier
in threshold packing velocity</span> and the other is the <span class="guilabel">Multiplier in packing drag</span>.
The <span class="guilabel">Multiplier in threshold packing velocity</span> is the
speed above which flow will set into motion packed solid material. The
<span class="guilabel">Multiplier in packing drag</span> is used to bring a flow to zero when
the grains pack to a sufficiently high density. Both of these variables should
be left at their default values unless the user knows that the granular
material has cohesive or other forces that could change these quantities.</p>
<span class="target" id="index-136"></span><span class="target" id="index-137"></span><span class="target" id="index-138"></span><span class="target" id="index-139"></span><span class="target" id="index-140"></span><span class="target" id="index-141"></span><span class="target" id="index-142"></span><div class="section" id="granular-flow-application-example-core-blowing">
<span id="coreblowingmr"></span><span id="index-143"></span><h3>Granular flow application example:  Core Blowing<a class="headerlink" href="#granular-flow-application-example-core-blowing" title="Permalink to this headline">¶</a></h3>
<p>The core blowing process involves the high speed filling of a core mold with
air/sand mixture. <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> models core blowing as a two-phase continuum, not as individual
particles of sand. The two-phase effects (air/sand coupling) are modeled using the <a class="reference internal" href="#driftfluxmr"><span class="std std-ref">Drift Flux</span></a> model.
The sand/air mixture is modeled as a single fluid with sharp
interfaces with pure air. The pure air is represented with adiabatic bubbles.
Vents are defined as <span class="guilabel">valves</span>. For more information about how these
models are implemented, refer to Flow Science Technical Note 88 at <a class="reference external" href="http://users.flow3d.com/technical-notes/">http://users.flow3d.com/technical-notes/</a>.</p>
<p>The steps for creating a core blowing simulation are:</p>
<ol class="arabic">
<li><p class="first">Import or create the relevant geometry from STL files or create geometry using <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> primitives on
the <span class="guilabel">Model Setup –&gt; Geometry</span> tab.</p>
</li>
<li><p class="first">Activate the following physics and define parameters in the
<span class="menuselection">Model Setup ‣ Physics</span> tab:</p>
<ol class="loweralpha">
<li><p class="first">Use the <span class="guilabel">Gravity and non-inertial reference frame</span> model to define
gravity in the correct direction.</p>
</li>
<li><p class="first">Activate <span class="guilabel">Viscosity</span> and <span class="guilabel">Laminar</span> flow
from the <span class="guilabel">Viscosity and Turbulence</span> dialog:</p>
</li>
<li><p class="first">Activate the <span class="guilabel">Granular Flow</span> model.</p>
<ul>
<li><p class="first">The <span class="guilabel">Granular Flow in Gas</span> selection sets the <span class="guilabel">Granular Flow</span>
model to assume that the sand particles are much more dense than the surrounding
media.</p>
</li>
<li><p class="first">A <span class="guilabel">Global vent</span> controls the overall venting of air through the sand.
The <span class="guilabel">Global vent coefficient</span> is a multiplier that accounts for an
average flow losses through sand plus reduction in area vents due to blockage of the
sand. It also takes an average of all the valve external pressures and the sum
of all the valve coefficients. An estimate can be calculated by the following
equation: <img class="math" src="_images/math/6208113e6119fbbbbfe132e03f1fd2966889dc16.png" alt="C_{v,g} = {\left( {\frac{{2{{(1 - f_s^{mx})}^4}}}{{3f_s^{mx}}}} \right)^{1/2}}{\left( {\frac{d_g}{L}} \right)^{1/2}}" style="vertical-align: -12px"/>
where <img class="math" src="_images/math/00d0b571053e9d8f81cb52451a8057e380cc147a.png" alt="C_{v,g}" style="vertical-align: -6px"/> is the <span class="guilabel">Global vent coefficient</span>,
<img class="math" src="_images/math/4cf5b356c957b69d97349fd633ee02ee7a58da91.png" alt="f_x^{mx}" style="vertical-align: -5px"/> is maximum possible solid volume fraction,
<img class="math" src="_images/math/48db08e51669ad87af374b5f0fd4dacbb2de0ea6.png" alt="L" style="vertical-align: 0px"/> is the average distance between the air pocket and the vents, and
<img class="math" src="_images/math/d982caa5e188d992775994535949497d9d6f8bf4.png" alt="d_g" style="vertical-align: -6px"/> is the <span class="guilabel">Average grain diameter</span>.</p>
</li>
<li><p class="first">The <span class="guilabel">Mechanical jamming volume fraction</span> is the volume fraction of
sand above which the flow experiences resistance due to grain-grain
interaction. A good value to use is 0.61.</p>
</li>
<li><p class="first"><span class="guilabel">Close packing volume fraction</span> describes the sand volume fraction
at which flow becomes frozen. When the volume fraction exceeds 0.995(<span class="guilabel">Close packing volume fraction</span>) the velocity of that element is
set to zero. This is typically 0.63 when the sand grains are spheres.</p>
</li>
<li><p class="first">The random <span class="guilabel">Loose packing volume fraction</span> occurs when the grains are
touching just enough to support their weight under gravity provided there is no
disturbance that drives them into a close packed arrangement. This is typically
0.55 when the grains are spheres.</p>
</li>
<li><p class="first">The <span class="guilabel">Average grain diameter</span> and <span class="guilabel">Grain density</span> need to be
defined and can be found from the manufacturer. <span class="guilabel">Gas density</span> and
<span class="guilabel">Gas viscosity</span> also must be defined. Typical values for air in CGS
units are 0.001225 g/cm<sup>3</sup> and 0.00017 <em>poise</em>, respectively.</p>
</li>
<li><p class="first">The <span class="guilabel">Multiplier in packing drag</span>, <span class="guilabel">Multiplier in threshold
packing velocity</span>, and the <span class="guilabel">Angle of repose</span> are <strong>not</strong> needed for
modeling core blowing.</p>
</li>
<li><p class="first">The grain restitution coefficient is used to estimate the amount of energy
that is retained by a sand grain after a collision with a solid surface.</p>
<img alt="Granular flow" src="_images/granular-flow-core-blowing-example.png" />
</li>
</ul>
</li>
<li><p class="first">Activate the <span class="guilabel">Density Evaluation</span> model.  Once <span class="guilabel">Granular Flow</span>
is activated, <span class="guilabel">First order approximation to density transport equation</span>
is automatically enabled.  This is needed to compute the transport of sand. For
greater spatial accuracy, the
<span class="guilabel">Second order monotonicity-preserving approximation to density transport equation</span>
can be selected. This can be useful for simulations where
steep gradients in sand concentration are expected.</p>
</li>
<li><p class="first">Activate the <span class="guilabel">Bubble and Phase Change</span> model to allow gas to
escape.  This is a prerequisite for using vents and valves.</p>
</li>
</ol>
</li>
<li><p class="first">Initial and boundary conditions can be added in the <span class="guilabel">Model Setup</span> tab.
Initial conditions of the void region or bubble region have
already been defined when the <span class="guilabel">Adiabatic bubble</span> model was activated
from the <span class="guilabel">Bubble and phase change</span> model. The boundary conditions
are defined in the <span class="menuselection">Model Setup ‣ Boundaries</span>.
Sand is carried through the core box by air pressure so a pressure boundary
condition and an air/sand mixture density need to be applied at the boundary.
Select the appropriate boundary box with an S (stands for symmetry boundary)
and a boundary dialog box will appear. Select <span class="menuselection">Specified
pressure</span> radio button, define the inlet <span class="guilabel">Pressure</span>,
<span class="guilabel">Fluid fraction</span> of 1.0, and the <span class="guilabel">Density</span>.</p>
<img alt="Mesh block 1" src="_images/mesh-block-1.png" />
</li>
<li><p class="first">Add valves if there are only a few vents or use geometry defined as
<span class="menuselection">Flow Vent</span> if there are too many vents to add as valves. Valve
flow losses are derived from Bernoulli’s obstruction theory. Details on
creating valves can be found in <a class="reference internal" href="model-setup.html#valvesmng"><span class="std std-ref">Valves</span></a>. To add vents as geometry
components, create a separate component in the <span class="guilabel">Geometry</span> list, and
select <span class="menuselection">Flow Vent</span> from the <span class="menuselection">Type</span> drop down.
When modeled this way, vents do not occupy volume. If the vents are the same
size then they can be modeled with one STL or modeled using primitives in the
same component. If they are different sizes, then they need to be modeled
separately. Once the type has been set, the properties must be defined. Define
the <span class="guilabel">Vent Flow Area</span>, <span class="guilabel">Diameter of Vent Channel</span>,
<span class="guilabel">Vent External Pressure</span> and other vent properties in
<span class="menuselection">Model Setup ‣ Geometry ‣ Component ‣ Component
Properties ‣ Flow Vent Properties</span>. Refer to <a class="reference internal" href="model-setup.html#flowventcomptype"><span class="std std-ref">Flow Vent</span></a> for more
information about flow vent and its properties.</p>
<img alt="Vent properties" src="_images/vent-properties.png" />
</li>
</ol>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li><a class="reference internal" href="#adiabaticbubblesmr"><span class="std std-ref">Adiabatic Bubbles</span></a></li>
<li><a class="reference internal" href="#flowwithdensityvariationsmr"><span class="std std-ref">Flows with Density Variations</span></a></li>
<li><a class="reference internal" href="#granularflowmr"><span class="std std-ref">Granular Flow</span></a>.</li>
</ul>
</div>
<span class="target" id="index-144"></span></div>
</div>
<div class="section" id="gravity">
<span id="gravitysectionmr"></span><span id="index-145"></span><h2>Gravity<a class="headerlink" href="#gravity" title="Permalink to this headline">¶</a></h2>
<p>Gravity vector components in a Cartesian coordinate system can be simply set in
<span class="menuselection">Physics ‣ Gravity</span>. The direction of the gravity vector is
constant during a simulation.</p>
<blockquote>
<div><img alt="Gravity Components" src="_images/gravity-vector-components.png" />
</div></blockquote>
<p>For constant gravity in Cartesian coordinates, ensure that <span class="guilabel">Activate
Gravity</span> is selected and enter the appropriate values for the gravity vector
components in the <span class="guilabel">X component</span>, <span class="guilabel">Y component</span> and
<span class="guilabel">Z component</span> boxes.</p>
<p>If a cylindrical coordinate system is used, then the <span class="guilabel">Z component</span>
of gravity can still be used for a constant gravity vector completely aligned
with the z-axis. However, non-zero values of <span class="guilabel">X component</span> and
<span class="guilabel">Y component</span> are aligned with radial and azimuthal coordinate
directions at every point in the mesh, making little physical sense. For a
gravity vector not aligned with the z-axis in a cylindrical coordinate system,
select <span class="guilabel">Activate non-inertial reference frame</span> in
<span class="menuselection">Physics ‣ Gravity</span>, and provide the appropriate values for
the gravity vector under <span class="guilabel">Initial gravity</span>. Ensure that the standard
gravity components are set to zero; otherwise, gravity will be doubled.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li><a class="reference internal" href="theory.html#nirfth"><span class="std std-ref">Non-Inertial Reference Frame</span></a> notation</li>
<li><a class="reference internal" href="theory.html#rigidbodydynamicsalgorithmth"><span class="std std-ref">Rigid Body Dynamics Algorithm for Non-Inertial Reference Frame Model</span></a></li>
<li><a class="reference internal" href="theory.html#noninertialreferenceframeth"><span class="std std-ref">Non-Inertial Reference Frame Motion</span></a> equations</li>
<li><a class="reference internal" href="theory.html#rigidbodydynamicsnirfth"><span class="std std-ref">Rigid Body Dynamics for Non-Inertial Reference Frame</span></a></li>
<li><a class="reference internal" href="#gravitysectionmr"><span class="std std-ref">Gravity</span></a></li>
<li><a class="reference internal" href="#impulsivemotionmr"><span class="std std-ref">Impulsive Motion of Non-inertial Reference Frame</span></a></li>
<li><a class="reference internal" href="#noninertialreferenceframemotionmr"><span class="std std-ref">Non-Inertial Reference Frame Motion</span></a></li>
<li><a class="reference internal" href="#smoothtabularmotionmr"><span class="std std-ref">Smooth Tabular Motion</span></a></li>
</ul>
</div>
</div>
<div class="section" id="heat-transfer">
<span id="heattransfermr"></span><span id="index-146"></span><h2>Heat Transfer<a class="headerlink" href="#heat-transfer" title="Permalink to this headline">¶</a></h2>
<span class="target" id="index-147"></span><div class="section" id="transport-of-heat-in-fluid">
<span id="transportofheatinfluidmr"></span><span id="index-148"></span><h3>Transport of Heat in Fluid<a class="headerlink" href="#transport-of-heat-in-fluid" title="Permalink to this headline">¶</a></h3>
<p>Energy transport options are accessed via <span class="menuselection">Physics ‣ Heat Transfer</span>:</p>
<blockquote>
<div><img alt="Heat transfer - First order method" src="_images/transport-of-heat-in-fluid-heat-transfer.png" />
</div></blockquote>
<p>Fluid internal energy advection must be activated before any other heat
transfer option can be used. There are two advection options available. The
<span class="guilabel">First-order</span> option is efficient and robust and is suitable for
most heat transfer problems, but can lead to artificial (numerical) diffusion
of heat for simulations where high thermal gradients are expected. The
<span class="guilabel">Second-order monotonicity-preserving</span> option is appropriate in
situations where resolving temperature gradients is of primary importance, for
example, in buoyancy-driven flows. The default setting is <span class="guilabel">No heat
transfer model</span>, which is used for isothermal simulations. For fluid/component
heat transfer see <a class="reference internal" href="#heattransferandconductionsincomponentsmr"><span class="std std-ref">Heat Transfer and Conduction in Components</span></a>.</p>
<p>Whenever a <span class="guilabel">Heat transfer</span> option is used, at the very minimum the
<span class="guilabel">Specific Heat</span> and <span class="guilabel">Thermal Conductivity</span> must be
provided for the fluid:</p>
<blockquote>
<div><img alt="Fluid 1 tree - Setting fluid internal energy advection" src="_images/ModelReference_FluidThermal_v12.JPG" />
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">No energy transport is allowed in one-fluid problems with
<span class="menuselection">Physics ‣ Density evaluation ‣ Solve transport equation</span>
activated.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"> <a class="reference internal" href="numerical-options.html#energyadvectionmr"><span class="std std-ref">Energy advection</span></a> and <a class="reference internal" href="#heattransferandconductionsincomponentsmr"><span class="std std-ref">Heat Transfer and Conduction in Components</span></a>.</p>
</div>
<span class="target" id="index-149"></span></div>
<div class="section" id="heat-sources">
<span id="heatsourcesmr"></span><span id="index-150"></span><h3>Heat Sources<a class="headerlink" href="#heat-sources" title="Permalink to this headline">¶</a></h3>
<div class="section" id="heat-sources-in-fluid">
<span id="heat-sources-fluid-mr"></span><h4>Heat sources in fluid<a class="headerlink" href="#heat-sources-in-fluid" title="Permalink to this headline">¶</a></h4>
<p>Uniform heat sources in both fluid #1 and #2 can be set in
<span class="menuselection">Fluids ‣ Properties for ‣ Fluid # ‣ Thermal ‣ Power source
per unit mass</span>. When defined, each of those variables represents a constant heat
source uniformly distributed in the fluid. The units are energy per unit mass of
the corresponding fluid.</p>
<p>Components can be used as power sources for a particular region of fluid
rather than the entire domain. If defined as 100% porous they determine a
space to apply thermal energy and don’t occupy the space as a solid. To do so,
use porous components with <span class="guilabel">Porosity</span> set to 1.0,
<span class="menuselection">Prescribed Uniform Temperature</span>, and <span class="menuselection">Total
amount, surface</span> or <span class="menuselection">Specific amount, surface</span>.  In that case
fluid and heat flows are not obstructed by the component, but energy is
deposited evenly into the fluid at every point of the porous component
location.</p>
<blockquote>
<div><img alt="Fluid 1 tree - Power Source per unit mass" src="_images/ModelReference_FluidThermal_v12.JPG" />
</div></blockquote>
</div>
<div class="section" id="heat-sources-in-components">
<span id="heat-sources-components-mr"></span><h4>Heat sources in components<a class="headerlink" href="#heat-sources-in-components" title="Permalink to this headline">¶</a></h4>
<p>Time-dependent and localized heat sources can be associated with components.
The component energy source can either be specified as a
<span class="guilabel">Total amount</span> (<em>power</em>), or a <span class="guilabel">Specific amount</span>
(<em>power</em>/<em>unit area</em> or <em>power</em>/<em>unit volume</em>),
chosen by the drop-down menu next to <span class="guilabel">Heat source type</span> in
<span class="menuselection">Model Setup ‣ Geometry ‣ Component ‣ Solid
Properties</span>. Power at a heat source can be positive or negative.</p>
<blockquote>
<div><img alt="Component 1 tree - Heat Source" src="_images/heat-sources-component-1.png" />
</div></blockquote>
<p>The energy source can be either deposited evenly inside the component or distributed as a
flux over its surface. The choice is governed by the selection in the drop-down menu next
to <span class="guilabel">Heat source type</span>. If <span class="menuselection">Total amount, volumetric</span> or
<span class="menuselection">Specific amount, volumetric</span> is selected, then the source energy is deposited
inside the component leading to a change in its temperature. In that case, the component
must be of type <span class="menuselection">Full Heat Transfer</span> or <span class="menuselection">Dynamic Uniform Temperature</span>,
found in the drop-down menu next to <span class="guilabel">Heat Transfer Mode</span>.</p>
<p>If <span class="menuselection">Total amount, surface</span> or <span class="menuselection">Specific amount, surface</span>
is selected instead, then the energy is distributed evenly along the component’s open
surface, and is deposited directly into the fluid that is in contact with the component.
In that case, no thermal solution is computed within the component itself.</p>
<p>General moving object (GMO) components can participate in heat transfer just
like any stationary solid component. When defining specific heat of a GMO
component, the <span class="guilabel">Density*Specific heat</span> product should be used and not
the total heat capacity (only available in the input file) because the volume
of a GMO component may change as it moves through the grid, and even move
in and out of it.</p>
<p>When the <span class="guilabel">Total amount</span> <span class="guilabel">Heat source type</span> option is used,
the heat fluxes along the open surface of the moving object are adjusted at
every time step to maintain a constant total power. If the surface area varies
significantly with time, so will the heat fluxes. When the <span class="guilabel">Specific
amount</span> option is used, the fluxes will be constant (equal to value defined in
<span class="guilabel">Specific amount</span>), but the total power may vary.</p>
<p>Heat sources can also be defined at mesh boundaries of type <span class="guilabel">Wall</span>,
similar to component heat sources. These are defined in
<span class="menuselection">Model Setup ‣ Boundaries</span> and within each
boundary side dialog box from the <span class="guilabel">Thermal information</span> button under
<span class="guilabel">Power</span>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>Uniform heat sources require that <span class="menuselection">Physics ‣ Heat transfer
‣ Fluid internal energy advection</span> is activated. Also, they are ignored
when the <span class="menuselection">Numerics ‣ Use zero velocity field</span> option is
activated.</li>
<li>Heat sources from components require an option in
<span class="menuselection">Physics ‣ Heat transfer ‣ Fluid to solid heat transfer</span>
be activated.</li>
<li>Since the <span class="guilabel">Total amount</span> of power denotes the total power source
of a component, care must be taken when using heat sources in 2-D
simulations. For example, in an axisymmetric problem with the y-direction
grid covering 30 degrees, the <span class="guilabel">Total amount</span> must be reduced by a
factor of 1/12 to account for the fact that only that fraction of the total
component volume (covering 360 degrees) is included in the grid. Similarly,
in 2-D Cartesian meshes, the <span class="guilabel">Total amount</span> must take into
account the width of the domain used in the dimension into the plane of
solution.</li>
</ul>
</div>
<span class="target" id="index-151"></span></div>
</div>
<div class="section" id="heat-transfer-across-baffles">
<span id="heattransferacrossbafflesmr"></span><span id="index-152"></span><h3>Heat Transfer across Baffles<a class="headerlink" href="#heat-transfer-across-baffles" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><a class="reference internal image-reference" href="_images/ModelReference_HTBaffles_v12.JPG"><img alt="Baffle 1 - Heat Transfer Coefficient to Fluid 1" src="_images/ModelReference_HTBaffles_v12.JPG" style="width: 476.1px; height: 803.7px;" /></a>
</div></blockquote>
<p>Baffles can have thermal resistance for fluid-to-fluid and fluid-to-void heat
exchange, although baffles themselves do not posses any heat capacity. The
default setting is no heat transfer through baffles.</p>
<p>Cross-baffle heat transfer is enabled when <span class="menuselection">Physics ‣ Heat
Transfer ‣ Fluid to solid heat transfer</span> is activated. The heat transfer
coefficients are defined in <span class="menuselection">Model Setup ‣ Baffles ‣
Properties</span> for each baffle (image above). For example, if a
baffle has Fluid 1 on one side and Fluid 2 on the other side, then the
resulting cross-baffle heat transfer coefficient between fluid #1 and #2 is:</p>
<div class="math">
<p><img src="_images/math/b50bd2bad4589ce116eee117be6526c8120cb094.png" alt="H_{\text{total}} = 2.0 \frac{H_1 H_2}{H_1 + H_2}"/></p>
</div><p>where <img class="math" src="_images/math/1bd2fd0d14b1ef9a06dd78202ed02db81d89ec47.png" alt="H_1" style="vertical-align: -3px"/> and <img class="math" src="_images/math/81b06a0810e3a33a9cdfdf873d7c0ed77466221b.png" alt="H_2" style="vertical-align: -3px"/> are the <span class="guilabel">Heat transfer Coefficient
to Fluid 1</span> and <span class="guilabel">Heat transfer Coefficient to Fluid 2</span>,
respectively.</p>
<p>Similarly, cross-baffle heat transfer coefficients between Fluid 1 and voids of
heat transfer type <em>n</em> (see <a class="reference internal" href="#heattransfertovoidsmr"><span class="std std-ref">Heat Transfer to Voids</span></a>) can also be defined in
<span class="menuselection">Model Setup ‣ Baffles ‣ Heat Transfer Properties</span>.</p>
<span class="target" id="index-153"></span></div>
<div class="section" id="heat-transfer-and-conduction-in-components">
<span id="heattransferandconductionsincomponentsmr"></span><span id="index-154"></span><h3>Heat Transfer and Conduction in Components<a class="headerlink" href="#heat-transfer-and-conduction-in-components" title="Permalink to this headline">¶</a></h3>
<p>To enable heat transfer between fluid and components of all types activate one
of the options in <span class="menuselection">Physics ‣ Heat transfer ‣ Fluid to solid heat transfer</span>:</p>
<blockquote>
<div><img alt="Heat Transfer" src="_images/heat-transfer-and-conduction-heat-transfer.png" />
</div></blockquote>
<div class="section" id="component-heat-transfer-modes">
<span id="component-ht-modes-mr"></span><h4>Component heat transfer modes<a class="headerlink" href="#component-heat-transfer-modes" title="Permalink to this headline">¶</a></h4>
<p>Different heat transfer modes can be selected for each component in
<span class="guilabel">Heat Transfer Mode</span> under each component’s branch in the <span class="guilabel">Geometry</span> widget:</p>
<blockquote>
<div><img alt="Heat Transfer" src="_images/heat-transfer-in-individual-components.png" />
</div></blockquote>
<p>If <span class="menuselection">Dynamic Uniform Temperature</span> or <span class="menuselection">Prescribed Uniform Temperature</span>
is selected, no conduction equation is solved within the component. The component is treated as a
lumped temperature body for the former selection, and as having a time-prescribed uniform temperature
for the latter selection. The time-prescribed temperature of the component is specified in
<span class="menuselection">Model Setup ‣ Geometry ‣ Component ‣ Initial Conditions</span>:</p>
<blockquote>
<div><img alt="Component 1 tree - Initial conditions" src="_images/heat-transfer-and-conduction-in-components-initial-conditions.png" />
</div></blockquote>
<p>Time-dependent values can be specified by entering data into a table by
clicking on <span class="guilabel">Tabular</span>.</p>
<p>If the <span class="menuselection">Static Temperature</span> option is activated, the
temperature in the component is allowed to vary in space, but still no
conduction equation is solved within the solids. Therefore, the temperatures
remains constant in time, irrespective of the thermal properties of the
component. However, the thermal properties of the component are used when
computing the heat flux so they are required.  The spatial variation of the
solid temperature can be defined either in <span class="menuselection">Model Setup ‣
Initial ‣ Fluid regions ‣ Solid temperature</span> or from restart data (for
restart simulations only – see <a class="reference internal" href="model-setup.html#restarts"><span class="std std-ref">Restart</span></a>).</p>
<p>When <span class="menuselection">Full Heat Transfer</span> is
selected (default), the thermal conduction within the component is included in the
simulation. In this case, both <span class="guilabel">Thermal Conductivity</span> and
<span class="guilabel">Density*Specific Heat</span> must be specified in the components’
<span class="guilabel">Solid Properties</span>.</p>
<p>When the conduction within the component is computed and the
<span class="guilabel">Maximum Thermal Penetration Depth</span> is specified,
only the portion of the component volume within that depth along the component
surface, the <em>thermally active layer</em>, is computed,
typically resulting in a more efficient calculation. For example, during
high pressure die casting, where the typical filling time is 100<em>ms</em>, heat
penetrates only a few millimeters into the die. Therefore, ignoring the part
of the die beyond that depth provides significant memory and CPU savings.</p>
<p>A practical value for the thickness of the thermally active layer in casting
problems depends on the properties of the mold material, component/fluid heat
transfer coefficient and on the simulation time. The figure below shows the
thermal penetration depth for H13 steel die and a silica sand mold as a function
of time. The values are estimated from the exact one-dimensional heat
penetration solution into a semi-infinite medium. The temperature cutoff used to
calculate the depth is 1% of the difference in metal/mold initial temperatures.
In other words, beyond the thermally active layer, the component temperature
varies by less than 1% of the initial temperature difference. The actual value
selected should take into account the shape of the interface.</p>
<blockquote>
<div><img alt="Thermal Boundary layer thickness graph" src="_images/heat-transfer-and-conduction-thermal-boundary-layer-thickness.png" />
</div></blockquote>
<p>To view the thermally active layer, select <span class="menuselection">Simulate ‣
Preprocess Simulation</span>, and then open the <code class="file docutils literal notranslate"><span class="pre">prpgrf</span></code>.<em>project</em> file in
the <span class="guilabel">Analyze</span> tab and plot the iso-surface of <span class="guilabel">Thermally
active component volume</span>.</p>
</div>
<div class="section" id="heat-transfer-coefficients">
<span id="htcs-mr"></span><h4>Heat transfer coefficients<a class="headerlink" href="#heat-transfer-coefficients" title="Permalink to this headline">¶</a></h4>
<p>Heat transfer coefficients between components and fluids and voids are defined
in <span class="menuselection">Model Setup ‣ Geometry ‣ Component ‣ Surface Properties</span>.</p>
<blockquote>
<div><img alt="Component 1 - Surface Properties" src="_images/heat-transfer-and-conduction-component-1.png" />
</div></blockquote>
<p>If a value is specified for the <span class="guilabel">Heat transfer coefficients to –&gt; Fluid 1</span> or
<span class="guilabel">Heat transfer coefficients to –&gt; Fluid 2</span> then that heat transfer coefficient
defines the thermal resistance of the interface defined in terms of a heat transfer coefficient.
In this context the heat transfer coefficient should be a large number if it is in perfect
contact with the component. If the fluid does not perfectly wet the surface
(as might happen due to the presence of oxide layers, trapped
bubbles, or semi-solidified fluid) then the thermal resistance can be significant and the
input heat transfer coefficient will be smaller.</p>
<p>If the <span class="guilabel">Heat transfer coefficients to –&gt; Fluid 1</span> and
<span class="guilabel">Heat transfer coefficients to –&gt; Fluid 2</span> are not specified then the heat
transfer coefficient is evaluated in each cell based on the flow conditions
and properties of the materials in each cell using the maximum of the
following correlations for the Nusselt number, <img class="math" src="_images/math/30e2226130e392fe062c5a23bf889c75727b22a0.png" alt="Nu" style="vertical-align: 0px"/>:</p>
<ul class="simple">
<li><img class="math" src="_images/math/8f4fcf1f67e299ec865b83349b426dc3a051a297.png" alt="Nu_{lam} = 0.664 Re^{\frac{1}{2}} Pr^{\frac{1}{3}}" style="vertical-align: -3px"/></li>
<li><img class="math" src="_images/math/2c74b79faa7075f442638a37487c8f71c9b45d32.png" alt="Nu_{turb} = \left( 0.036 Re^{0.8} - 836 \right)  Pr^{\frac{1}{3}}" style="vertical-align: -5px"/></li>
<li><img class="math" src="_images/math/623702e7d9fb43a402752caee3925eeb2f553dd9.png" alt="Nu_{nat,low \ Gr} = 0.57 \left( Gr Pr \right) ^ \frac{1}{4}" style="vertical-align: -6px"/> for <img class="math" src="_images/math/db66ca9af9ebfa1315bfd0b6b13545b604e18926.png" alt="Gr \leq 1E+09" style="vertical-align: -3px"/></li>
<li><img class="math" src="_images/math/834bac96d82e1152f98ba0c021f818e97ced0a59.png" alt="Nu_{nat,high \ Gr} = 0.14 \left( Gr Pr \right) ^ \frac{1}{3}" style="vertical-align: -6px"/> for <img class="math" src="_images/math/5c0b54293f4d02761d08fca4a366b6977f57e7d0.png" alt="Gr&gt;1E+09" style="vertical-align: -2px"/></li>
</ul>
<p>where <img class="math" src="_images/math/3a419aa9969c7e85e998e02252cd2897ba03d7b6.png" alt="Re" style="vertical-align: 0px"/> is the Reynolds number, <img class="math" src="_images/math/68a040349082728e69ac462e7226be9e9cc3c0c0.png" alt="Pr" style="vertical-align: 0px"/> is the Prandtl number, and
<img class="math" src="_images/math/840307a7a91632c0bbb261c51c51acf706a13c9e.png" alt="Gr" style="vertical-align: 0px"/> is the Grashof number.  The Nusselt number is then transformed back to a
heat transfer coefficient using the length scale defined by <span class="target" id="index-155"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">OBSL</span></code>
(see <a class="reference internal" href="input-variable-summary-units.html#componentpropertiesthermalandheattransfer"><span class="std std-ref">Component Properties: Thermal and Heat Transfer</span></a>).</p>
<p>Fluid/component heat transfer can be enhanced, or reduced, for a given component
by using the <span class="guilabel">Surface Area Multiplier</span>, which serves as a multiplier for the
interfacial area. If the multiplier is equal to zero for a specific component,
then no heat transfer is calculated between fluid and that component.</p>
<p>The other heat transfer coefficients (e.g.
<span class="guilabel">Heat transfer coefficients to –&gt; Void type 1</span> or
<span class="guilabel">Heat transfer coefficients to –&gt; Heat transfer coefficient from solidified fluid to component</span>)
are evaluated as heat transfer coefficients.  The heat transfer coefficients to voids
are described in detail below in <a class="reference internal" href="#heattransfertovoidsmr"><span class="std std-ref">Heat Transfer to Voids</span></a>.</p>
</div>
<div class="section" id="thermal-contact-resistance">
<span id="thermal-contact-resistance-mr"></span><h4>Thermal contact resistance<a class="headerlink" href="#thermal-contact-resistance" title="Permalink to this headline">¶</a></h4>
<p>Heat transfer between any two components <span class="target" id="index-156"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">N</span></code> and <span class="target" id="index-157"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">M</span></code> can be specified
using <a class="reference internal" href="input-variable-summary-units.html#componentpropertiesheattransfercoefficients"><span class="std std-ref">HTCOB(N,M)</span></a> (in
namelist <span class="target" id="index-158"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">OBS</span></code>) to define a thermal resistance at the contact surface
between the two components, in addition to thermal conduction. This lets the
user take into account gaps between components. If <a class="reference internal" href="input-variable-summary-units.html#componentpropertiesheattransfercoefficients"><span class="std std-ref">HTCOB(N,M)</span></a> is not specified, the
components are assumed to have perfect contact, and the effective conductivity
between the two components will be used in the conduction equation.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"> <a class="reference internal" href="#heattransfertovoidsmr"><span class="std std-ref">Heat Transfer to Voids</span></a></p>
</div>
<span class="target" id="index-159"></span></div>
<div class="section" id="special-considerations-for-heat-transfer-in-porous-components">
<span id="heattransferconductionporouscompmr"></span><span id="index-160"></span><h4>Special considerations for heat transfer in porous components<a class="headerlink" href="#special-considerations-for-heat-transfer-in-porous-components" title="Permalink to this headline">¶</a></h4>
<p>First activate the heat transfer model by selecting one of the options in
<span class="menuselection">Physics ‣ Heat transfer ‣ Fluid to solid heat transfer</span>:</p>
<blockquote>
<div><img alt="Heat Transfer" src="_images/heat-transfer-and-conduction-heat-transfer.png" />
</div></blockquote>
<p>When heat transfer between fluid and a porous component is desired,
<span class="guilabel">Specific Surface Area</span> of the porous component should be specified
in <span class="menuselection">Model Setup ‣ Geometry ‣ Component ‣ Porous Properties</span>,
which defines the surface area per unit bulk volume of the
component. If the <span class="guilabel">Specific Surface Area</span> is not used, then the
interfacial area at the external surface of the component will be evaluated by
the preprocessor from the volume and area fractions.
Set <span class="guilabel">Specific Surface Area</span> for the porous component in
<span class="menuselection">Model Setup ‣ Geometry ‣ Component ‣ Porous
Properties</span>. In <span class="raw-html"><strong><em>FLOW-3D </em></strong></span>, the <span class="guilabel">Specific Surface Area</span> can be non-zero
even if the component is 100% porous, i.e., completely open. This is used to
define mass and/or energy sources in any region of the flow.</p>
<p>Set thermal-physical properties under <span class="menuselection">Model Setup ‣ Geometry ‣
Component ‣ Solid Properties</span> for the pure solid of the medium.
The effect of the open volume in the media is already included in the heat
transfer equations.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p></p>
<ul class="last simple">
<li><a class="reference internal" href="#heattransferandconductionsincomponentsmr"><span class="std std-ref">Heat Transfer and Conduction in Components</span></a></li>
<li><a class="reference internal" href="#heatsourcesmr"><span class="std std-ref">Heat Sources</span></a></li>
</ul>
</div>
<span class="target" id="index-161"></span></div>
</div>
<div class="section" id="heat-transfer-to-voids">
<span id="heattransfertovoidsmr"></span><span id="index-162"></span><h3>Heat Transfer to Voids<a class="headerlink" href="#heat-transfer-to-voids" title="Permalink to this headline">¶</a></h3>
<p>Heat transfer to void regions can be used only in one-fluid, free-surface
problems, <em>i.e.</em>, selected in <span class="menuselection">Model Setup ‣ Physics</span>:</p>
<blockquote>
<div><img alt="Interface tracking" src="_images/heat-transfer-to-voids-interface-tracking.png" />
</div></blockquote>
<p>Also, one of the options under
<span class="menuselection">Physics ‣ Heat transfer ‣ Fluid to solid heat transfer</span>
must be activated if heat transfer between solid
components and voids is to be considered:</p>
<blockquote>
<div><img alt="Heat Transfer" src="_images/heat-transfer-and-conduction-heat-transfer.png" />
</div></blockquote>
<p>Additionally, in order to simulate heat transfer from a void to a solid or
from a void to fluid, a <span class="guilabel">Void pointer</span> must be specified somewhere within an
existing void region in order to set the properties of that void region.  See
<a class="reference internal" href="model-setup.html#pointers-mng"><span class="std std-ref">Pointers</span></a> for details on how to do this. Once the void pointer is
placed inside an existing void region all mesh cells that are initially part
of that void region have the same heat transfer properties. Complete the void
pointer definition by defining  the void <span class="guilabel">Temperature</span>,
<span class="guilabel">Pressure</span> and <span class="guilabel">Heat transfer type</span>. Three heat transfer
types are allowed:  <span class="menuselection">Type 1</span>, <span class="menuselection">Type 2</span>, and
<span class="menuselection">Type 3</span>.  The <span class="guilabel">Heat transfer type</span> simply defines
which heat transfer properties defined in the fluid properties
(<span class="guilabel">Fluids –&gt; Properties for –&gt; Fluid # –&gt; Thermal Properties</span>) and  the
<span class="guilabel">Component Properties</span> will be used when computing heat transfer to this void region.
For example, the image below shows the correlation between the void pointer
properties and the component properties.</p>
<blockquote>
<div><img alt="Heat transfer types" src="_images/heat-transfer-to-voids-pointers.png" />
</div></blockquote>
<p>The <span class="guilabel">Heat transfer coefficients</span> between components and voids are
defined under each <span class="menuselection">Model Setup ‣ Geometry ‣ Component
‣ Heat transfer coefficients to</span> <span class="guilabel">Void type k</span>, where <em>k</em> is the
void type number specified in <span class="menuselection">Model Setup ‣ Initial</span>.
The type variable allows the user to have up to three different
types of void regions, each with a unique heat transfer coefficient.
Time-dependent heat transfer coefficients can be defined by clicking on
<span class="guilabel">Tabular</span> and providing data on the heat transfer coefficient as a
function of time.</p>
<p>Radiative heat transfer to voids from components is defined by setting the
<span class="guilabel">Emissivity</span> values for the appropriate void types.</p>
<blockquote>
<div><img alt="Fluid 1 - Heat transfer to void type 1" src="_images/ModelReference_FluidThermal_v12.JPG" />
</div></blockquote>
<p>Heat transfer to and from voids and the fluid free surface are defined in
<span class="menuselection">Fluids ‣ Properties for ‣ Fluid 1 ‣ Thermal Properties</span>. There are the
convective <span class="guilabel">Heat transfer coefficients</span>, and the radiative
<span class="guilabel">Emissivity</span> values for each of the void region types. Radiation heat
flux is proportional to the fourth power of the emitting body temperature.
Those fluxes are only computed at the emitting surfaces, therefore, the
radiation energy is lost once it leaves the surfaces.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The Stefan-Boltzmann constant is <img class="math" src="_images/math/a03ffe4adb8f940f47c7bbf1986ca63dd4405438.png" alt="5.6697 \times 10^{-8} \ \frac{W}{m^{2}K^{4}}" style="vertical-align: -6px"/> in SI units.</p>
</div>
<span class="target" id="index-163"></span></div>
<div class="section" id="heat-transfer-only">
<span id="heattransferonlymr"></span><span id="index-164"></span><h3>Heat Transfer Only<a class="headerlink" href="#heat-transfer-only" title="Permalink to this headline">¶</a></h3>
<p>When heat transfer is the only important mechanism to be modeled the fluid flow
solution can be skipped by selecting
<span class="menuselection">Numerics ‣ Fluid flow solver options ‣ Use zero velocity field</span>
or <span class="guilabel">Use constant velocity field</span>. The latter option is
useful when doing a restart heat transfer calculation in a steady-state flow
field, while the former is useful when modeling solidification after filling. If
either of the two options is selected, the fluid velocities and pressures are
not computed, resulting in substantial CPU time savings.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Power source per unit mass in fluid are ignored when <span class="guilabel">Use zero velocity field</span> is selected.</p>
</div>
<span class="target" id="index-165"></span></div>
</div>
<div class="section" id="lost-foam-casting-process">
<span id="lostfoammr"></span><span id="index-166"></span><h2>Lost Foam Casting Process<a class="headerlink" href="#lost-foam-casting-process" title="Permalink to this headline">¶</a></h2>
<div class="section" id="lost-foam-model">
<span id="id2"></span><h3>Lost foam model<a class="headerlink" href="#lost-foam-model" title="Permalink to this headline">¶</a></h3>
<p>In the Lost Foam casting process, a sand mold is filled with an expanded foam
material, typically polystyrene. When liquid metal is poured into the mold, it
must remove the foam by melting or vaporizing it before it can fill the cavity.
The filling is primarily controlled by heat transfer from the metal to the foam.</p>
<p>To use the Lost Foam casting model in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span>, the first step is to turn on the
model via <span class="menuselection">Model Setup ‣ Physics ‣ Lost foam</span>:</p>
<blockquote>
<div><img alt="Physics panel - Lost foam casting" src="_images/lost-foam-casting-physics.png" />
</div></blockquote>
<p>Within this window, the full model is turned on by selecting <span class="guilabel">Full
Lost Foam Model</span>. The <span class="guilabel">Simplified Lost Foam Model</span>, can be used to
quickly determine general filling patterns and locate possible sources of
defects arising from the convergence of metal fronts. This model, however,
gives no information about temperature or velocity distributions, surface
defects, or solidification.</p>
<p>If a positive value is set for the <span class="guilabel">Gravity effect on metal/foam heat
transfer</span>, the orientation of the metal-foam interface with respect to gravity
is taken into account. The heat transfer coefficient between metal and foam is
larger where metal is above foam than when it is below, therefore, making it
easier for the metal to advance downwards than upwards. When using this
feature, the recommended value for <span class="guilabel">Gravity effect on metal/foam
heat transfer</span> is 0.5.</p>
<p>The options under <span class="guilabel">Foam residue</span> are related to defect tracking and
surface contamination in casting. For more information, refer to
<a class="reference internal" href="#surfacecontaminationmr"><span class="std std-ref">Lost foam residue tracking</span></a>.</p>
<p>To represent foam as disappearing solid, <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> uses a special “free” or
“phantom” component, which does not contribute to area/volume blockages. The
mold cavity is defined by the usual FAVOR<sup>TM</sup> technique for the Standard
components and is then filled with foam. Solid components always take precedence
over phantom components, which can only fill open spaces. Additional component
properties can be assigned to define the heats-of-transformation of foam.</p>
<blockquote>
<div><img alt="Add component - Foam Engine Block" src="_images/lost-foam-casting-process-add-component.png" />
</div></blockquote>
<p>Foam components are defined like any other component, e.g., by importing from
a geometry file in Stereolithography (STL) format or using <span class="raw-html"><strong><em>FLOW-3D </em></strong></span>’s standard
geometry creation. When adding a foam component, specify the type of the new
component as <span class="guilabel">Lost Foam</span>. Alternatively, an already created
component can be made into a lost foam component by selecting <span class="guilabel">Lost
Foam</span> under <span class="menuselection">Model Setup ‣ Geometry ‣ Component ‣
Component Type</span>. Since foam will not replace neighboring <span class="guilabel">Standard</span>
components, its geometric definition does not need to conform exactly to the
mold cavity. Usually a simple box or cylinder shape is sufficient to fill a
cavity with foam. Lighteners (i.e., holes) can be cut in foam, as in ordinary
components, by selecting the type of the subcomponent defining a lightener as
<span class="guilabel">Hole</span>.</p>
<p>The foam component must be assigned values in <span class="menuselection">Model Setup ‣ Geometry ‣
Component ‣ Lost Foam Properties</span> for
<span class="guilabel">Density*Specific Heat</span> (specific heat per unit volume),
<span class="guilabel">Density*Melting energy</span> (per unit volume), <span class="guilabel">Melting Temperature</span>,
<span class="guilabel">Density*Vapor Energy</span> (the energy needed per unit volume to vaporize
the melted foam, and <span class="guilabel">Vaporization Temperature</span>, the temperature at
which the molten foam is vaporized.</p>
<blockquote>
<div><img alt="Component 2 tree - Lost foam pattern" src="_images/lost-foam-casting-process-component-properties.png" />
</div></blockquote>
<p>The <span class="guilabel">Heat Transfer Coefficient</span> is the specified heat transfer
coefficient at the interface between the melting foam and the liquid metal. A
crude estimate of the average speed at which metal moves into foam is
given by:</p>
<div class="math">
<p><img src="_images/math/82a44de013fa70d8790ceda8f1b21335af6fa9a2.png" alt="U_{front} \approx \frac{ h_{m,f} \ \delta T} { \rho C_p \delta T + \rho h_{s,f} + \rho h_{f,g} }"/></p>
</div><p>where</p>
<ul class="simple">
<li><img class="math" src="_images/math/489f42c2231aa5a2d2a6b15a3b909a7a48053898.png" alt="U_{front}" style="vertical-align: -6px"/> is the average metal front speed</li>
<li><img class="math" src="_images/math/c90d412d22f1d57be4d996c48ff95a7599c11947.png" alt="h_{m,f}" style="vertical-align: -6px"/> is the <span class="guilabel">Heat Transfer Coefficient</span> between the metal and the foam</li>
<li><img class="math" src="_images/math/4a4464c149d68afd529969a1fdda8b4cbc6876b9.png" alt="\delta T" style="vertical-align: 0px"/> is the temperature difference between the metal and foam.</li>
<li><img class="math" src="_images/math/1de876128e462f3eac2eff1374f4d26506734f31.png" alt="\rho C_p" style="vertical-align: -6px"/> is the <span class="guilabel">Density*Specific Heat</span> defined above for the foam component.</li>
<li><img class="math" src="_images/math/b22f10c6671018751050cf66313db727548bdc30.png" alt="\rho h_{sf}" style="vertical-align: -6px"/> is the <span class="guilabel">Density*Melting Energy</span> defined above for the foam component.</li>
<li><img class="math" src="_images/math/bc044868ee4923ce2202e52c73cbf7d1e0964116.png" alt="\rho h_{fg}" style="vertical-align: -6px"/> is the <span class="guilabel">Density*Vapor Energy</span> defined above for the foam component.
This should only be included if the metal temperature is higher than the vaporization temperature
of the foam.</li>
</ul>
<p>Since filling of the molten metal is controlled by heat transfer, inlet
conditions at domain boundaries must be specified by pressure and not velocity
boundary conditions. Other considerations when using the <span class="guilabel">Lost Foam
Casting</span> model are:</p>
<ul class="simple">
<li>Fluid cannot be initialized in the regions already occupied by foam.</li>
<li>Foam can be viewed by plotting the <span class="guilabel">Free obstacle volume</span> variable.</li>
</ul>
<p>For better pressure iteration convergence it is recommended to use a small
degree of limited compressibility by setting the compressibility of Fluid 1 (<span class="menuselection">Fluids ‣ Properties for ‣ Fluid 1 ‣ Density ‣ Compressibility</span>) to a value in the
range from 1.0 <img class="math" src="_images/math/b1843c713c800b463022026d2b2f46a1bbee5797.png" alt="\times" style="vertical-align: 0px"/> 10<sup>-7</sup> to 1.0 <img class="math" src="_images/math/b1843c713c800b463022026d2b2f46a1bbee5797.png" alt="\times" style="vertical-align: 0px"/> 10<sup>-6</sup> cm s<sup>2</sup> g<sup>-1</sup> (CGS units), or to a value on the order of 0.1/(maximum fluid
pressure).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The lost foam model can be used only in one-fluid flows with a sharp interface and heat transfer.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p></p>
<ul class="last simple">
<li><a class="reference internal" href="#solidificationsectionmr"><span class="std std-ref">Solidification</span></a></li>
<li><em>Modeling the Lost Foam Process with Defect Prediction-Progress Report:
Lost-Foam Model Extensions, Wicking</em> (TN-45) and <em>Lost Foam Variable Pattern Density</em> (TN-67) at <a class="reference external" href="http://users.flow3d.com/technical-notes/">http://users.flow3d.com/technical-notes/</a>.</li>
<li><a class="reference internal" href="#acousticwavesmr"><span class="std std-ref">Acoustic Waves (Limited Compressibility)</span></a> for more information on the limited compressibility model.</li>
</ul>
</div>
<span class="target" id="index-167"></span></div>
<div class="section" id="lost-foam-residue-tracking">
<span id="surfacecontaminationmr"></span><span id="index-168"></span><h3>Lost foam residue tracking<a class="headerlink" href="#lost-foam-residue-tracking" title="Permalink to this headline">¶</a></h3>
<p>In metal casting, it is possible for impurities on the liquid surface to be
folded into the interior of a cast part as the liquid metal fills the mold.
These impurities may result in a mechanical weakness in the final part. The
<span class="guilabel">Lost foam residue tracking</span> model tracks the location of surface
impurities that arise from carbon residue remaining after the melting or
vaporization of foam by metal.   Activate the <span class="guilabel">Lost foam residue
tracking</span> by selecting <span class="menuselection">Physics ‣ Lost foam</span> and select
<span class="guilabel">Track foam residue</span>:</p>
<blockquote>
<div><img alt="Defect Tracking for Lost Foam" src="_images/surface-contamination-defect-tracking-lost-foam.png" />
</div></blockquote>
<p>The lost foam residue prediction algorithm in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> consists of a source term for
residue generation formation, which is proportional to the amount of
degraded foam. A transport equation is used to track the movement of defect
material with the flowing metal. The rate of lost foam residue formation is controlled by the
<span class="guilabel">Residue generation rate</span> and defaults to
1.0. The actual magnitude of the generation rate is unimportant, especially
in the absence of experimental data quantifying the
contamination. The distribution of the contaminant in the
filled mold can be interpreted as the distribution of the probability of
defects. For example, locations of local maximums of the foam residue
concentration are more likely to be the locations of defects.</p>
<p>The <span class="guilabel">Molecular diffusion coefficient</span> controls the
rate of molecular diffusion (i.e., Brownian-motion based) of the
residue after it has been generated, during transport. The
<span class="guilabel">Turbulent diffusion coefficient multiplier</span> controls the rate of
diffusion due to turbulence: a value of 1.0 means that the residue
diffuses at the same rate as the momentum, while values less than 1.0 mean
that the diffusion of defect is slower than that of momentum. Values greater
than 1.0 make no physical sense.</p>
<p>An additional defect-tracking variable can be used in the lost foam model to
track lost foam residue that attaches, or wicks, to mold walls and cannot be
moved by the liquid metal flow. These stationary defects are described by
activating <span class="guilabel">Allow residue wicking into mold</span>. These defects are
converted to the stationary defects near mold walls at a rate defined by the parameter
<span class="guilabel">Residue wicking rate</span>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>Lost foam residue is represented by the
<span class="menuselection">Surface defect concentration</span> flag in the <span class="guilabel">Selected</span>
data output area.</li>
</ul>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">The <a class="reference internal" href="#defecttrackingmr"><span class="std std-ref">Defect tracking</span></a> is a related model for
approximating defects generated by
the oxide formation on the free surface.</p>
</div>
</div>
</div>
<div class="section" id="mesh-boundary-conditions">
<span id="mesh-bcs-mr"></span><span id="index-169"></span><h2>Mesh Boundary Conditions<a class="headerlink" href="#mesh-boundary-conditions" title="Permalink to this headline">¶</a></h2>
<span class="target" id="index-170"></span><div class="section" id="outflow-type-of-pressure-boundary">
<span id="outflowpressureboundarymr"></span><span id="index-171"></span><h3>Outflow Type of Pressure Boundary<a class="headerlink" href="#outflow-type-of-pressure-boundary" title="Permalink to this headline">¶</a></h3>
<p>The purpose of a pressure boundary is to maintain a prescribed pressure or
fluid elevation and allow dynamically varying flow rate at the boundary. At a
pressure boundary, pressure distribution can be either uniformly or
hydrostatically distributed. When gravity is defined and fluid elevation at
the boundary is specified, hydrostatic pressure distribution is calculated by
the code. A pressure boundary can be either a regular or an outflow type.</p>
<p>At a regular type of pressure boundary, fluid can enter or leave the domain.
Fluid density and all the advecting scalars are prescribed at the boundary.
Hydrostatic pressure distribution at the boundary is code-calculated using the
prescribed density. For a variable density problem, since density is
calculated and varies with time inside the domain, a sharp pressure gradient
near the boundary can be formed, causing unphysically high fluid velocity as
well as other issues near the boundary, e.g., over-predicted high erosion rate
in scour simulations.</p>
<p>At an outflow type of pressure boundary, fluid can leave but is not allowed to
enter the domain. If the calculated velocity points inwards the domain, it is
set to zero. Density and all the advecting scalars at the boundary are
calculated at each time step using zero normal gradients. Hydrostatic pressure
distribution at the boundary is code-calculated using the updated density. As
a result, unphysically high pressure gradient and fluid velocity and other
related issues such as over-prediction of erosion rate can be avoided near the
boundary.</p>
<p>It is recommended that the outflow type of pressure boundary is used for
variable density simulations such as sediment scour simulations and other
cases where scalars are transported with fluid flow. Note it can only be used
at an outlet or downstream boundary where fluid does not move in.</p>
<img alt="outflow pressure boundary" src="_images/outflow-pressure-boundary.png" />
<span class="target" id="index-172"></span></div>
<div class="section" id="rating-curve">
<span id="rating-curves"></span><span id="index-173"></span><h3>Rating curve<a class="headerlink" href="#rating-curve" title="Permalink to this headline">¶</a></h3>
<p>A rating curve is the relation between water elevation and water volume flow
rate at a cross section of a river.  A user-provided rating curve can be
applied to a volume flow rate boundary or a pressure boundary at
<span class="guilabel">XMIN</span>, <span class="guilabel">XMAX</span>, <span class="guilabel">YMIN</span> or <span class="guilabel">YMAX</span>. At
such a boundary, water elevation is calculated in accordance to the user-given
volume flow rate  (for volume flow rate boundary) or code- calculated volume
flow rate (for pressure boundary) using the rating curve.</p>
<p>To use the rating curve to specify water elevation, go to
<span class="menuselection">Model Setup ‣ Boundaries</span> and select the mesh block and the boundary.
Select <span class="guilabel">Use fluid elevation</span> and click on <span class="guilabel">Rating curve</span> to
display the rating curve window. The rating curve data may be entered directly
in  its data table or defined in an external data file. To define an external
fie for rating curve, check  <span class="guilabel">Import from simulation directory</span>,
click  <span class="guilabel">Import values</span> and then choose the data file.  The data
column that represents water elevation in the file should also be selected.</p>
<blockquote>
<div><img alt="Rating curve definiton" src="_images/rating_curve_definition.png" />
</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
<blockquote>
<div><img alt="Rating curve table" src="_images/rating_curve_table.png" />
</div></blockquote>
<p>Since the rating curve is obtained via measurement in river with steady or
quasi-steady flow condition, it can only be used for simulations of steady
state flow or flow with slow time-variation.  When the rating curve is used at
a volume flow rate boundary, the flow rate must be a constant or  change
slowly with time.  The initial condition should be defined with fluid inside
the domain, and the initial flow should be  as close to the actual flow
condition as possible. Starting with an empty domain or a domain where fluid
is stationary may result in unphysical behavior or instability for a
simulation.</p>
<p>When flow rate at the boundary is equal to zero, which is possible at the beginning
of a simulation, then, instead of using the rating curve, the solver uses user-defined
fluid elevation at the boundary.</p>
<span class="target" id="index-174"></span></div>
<div class="section" id="natural-inlet">
<span id="natural-inlets"></span><span id="index-175"></span><h3>Natural inlet<a class="headerlink" href="#natural-inlet" title="Permalink to this headline">¶</a></h3>
<p>When volume flow rate boundary condition is used at an inlet boundary at
<span class="guilabel">XMIN</span>, <span class="guilabel">XMAX</span>, <span class="guilabel">YMIN</span> or <span class="guilabel">YMAX</span>, the
boundary  can be defined as a natural inlet when the rating curve is
unavailable. For a natural inlet, the code automatically sets water depth  at
the boundary to be equal to that in the adjacent mesh cells inside the domain.
With such a treatment,  significant jump of water elevation near the inlet
boundary can be avoided. Thus water surface at the inlet rises as water
surface rises inside the domain, and vice versa. Note water is required to exist initially
inside the domain and at the inlet to make the natural inlet work.</p>
<blockquote>
<div><a class="reference internal image-reference" href="_images/natural_inlet.png"><img alt="Natural inlet settings" src="_images/natural_inlet.png" style="width: 466.2px; height: 833.4px;" /></a>
</div></blockquote>
<p>To define a natural inlet, <span class="guilabel">Use fluid elevation</span>
must be selected. The flow category at the boundary can be selected as
<span class="guilabel">sub-critical flow</span> (<img class="math" src="_images/math/aee871e61866408654f408168f09406ce79f29ff.png" alt="\text{Fr} &lt; 1.0" style="vertical-align: -1px"/>),
<span class="guilabel">super-critical flow</span>  (<img class="math" src="_images/math/438598946a06bf4da82f04101ccc7f267ccfeeaa.png" alt="\text{Fr} &gt; 1.0" style="vertical-align: -1px"/>),
<span class="guilabel">critical flow</span>  (<img class="math" src="_images/math/9cf094df8bbc96a8b112174daef1d9ecf05e7808.png" alt="\text{Fr} = 1.0" style="vertical-align: 0px"/>) or
<span class="guilabel">automatic flow regime</span>. <img class="math" src="_images/math/32a8612c25c377490c4f5890f6205a207b536470.png" alt="\text{Fr}" style="vertical-align: 0px"/> is Froude
number defined as <img class="math" src="_images/math/67ce540782329985b2d5770ffe24e4720b8cde59.png" alt="\text{Fr} = \frac{V}{\sqrt{gD} }" style="vertical-align: -10px"/>, where
<img class="math" src="_images/math/f5a322f82f9e644cb83622202e5be0da6a7cbb00.png" alt="V" style="vertical-align: 0px"/> is water velocity, <img class="math" src="_images/math/580dc479e838461857f32b7b6a38cf528e717f09.png" alt="g" style="vertical-align: -4px"/> is magnitude of the gravitational acceleration, and <img class="math" src="_images/math/6cc656fef5d44427eff85bab32555f9860c78f1e.png" alt="D" style="vertical-align: 0px"/> is water
depth. For a given velocity, water depth is the critical water depth if <img class="math" src="_images/math/9cf094df8bbc96a8b112174daef1d9ecf05e7808.png" alt="\text{Fr} = 1.0" style="vertical-align: 0px"/>.
At a natural inlet, the <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> code uses the critical water depth as the lower limit for <span class="guilabel">sub-critical flow</span> and
upper limit for <span class="guilabel">super-critical flow</span>, respectively, if either of the two categories is selected. For
<span class="guilabel">critical flow</span> category, water depth at a natural inlet is always equal to the critical depth. If
<span class="guilabel">automatic flow regime</span> is selected, water depth is not limited by the critical depth, and
flow category at the inlet is code-calculated and can change with time.</p>
<p>Users may define the maximum and the minimum elevations at a natural inlet
boundary to confine the upstream fluid elevation further. By default, they
are the highest and the lowest <em>z</em>-coordinate values of the computational
domain, respectively. They can be entered in the corresponding edit boxes. It is recommended to define
the minimum fluid elevation somewhat above the terrain, so that flow continues of the elevation decreases to the
minimum. If this is not done and fluid elevation drops below the terrain, then simulation will terminate
with an error assuming that this situation is inconsistent with a natural boundary condition and user intentions.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="theory.html#ratingcurvenaturalinlet"><span class="std std-ref">Rating Curve and Natural Inlet Boundary</span></a> section in the <a class="reference internal" href="theory.html"><span class="doc">Theory</span></a> chapter.</p>
</div>
<span class="target" id="index-176"></span></div>
<div class="section" id="wave-boundary-condition">
<span id="waveboundaryconditionsmr"></span><span id="index-177"></span><h3>Wave Boundary Condition<a class="headerlink" href="#wave-boundary-condition" title="Permalink to this headline">¶</a></h3>
<p>A wave boundary condition can be defined at left (<span class="guilabel">X Min</span>), right
(<span class="guilabel">X Max</span>), front (<span class="guilabel">Y Min</span>) and back (<span class="guilabel">Y Max</span>)
mesh boundaries for free-surface problems in Cartesian coordinate system. At
such a boundary, a surface wave enters the computational domain and propagates
in the direction normal to the boundary. The wave can be <span class="guilabel">Linear</span>,
<span class="guilabel">Stokes</span>, <span class="guilabel">Stokes and Cnoidal</span> wave, <span class="guilabel">Solitary</span>,
or <span class="guilabel">Random</span>.</p>
<p>A simulation with a wave boundary condition requires the gravitational
acceleration to be directed in the negative z-direction, which is a negative
number defined in <span class="menuselection">Model Setup ‣ Physics ‣ Gravity ‣ Gravity components ‣ Z component</span>.
To set up a wave boundary, go to <span class="menuselection">Model Setup ‣ Boundaries</span>.
Click on the button next to the desired mesh
boundary to bring up the boundary condition window. Check the <span class="guilabel">Wave</span>
boundary type, which disables <span class="guilabel">Use fluid fraction</span> and enables
<span class="guilabel">Use fluid elevation</span> in the drop down menu. Specify the <span class="guilabel">Fluid elevation</span>
at the boundary as the z-coordinate of the undisturbed fluid surface that the wave
motion is superimposed on.</p>
<blockquote>
<div><img alt="Mesh block 1 [X Min Boundary]" src="_images/wave-boundary-conditions-mesh-block.png" />
</div></blockquote>
<p>It is very important that the selected wave generator represent the physical
wave conditions at the boundary.  The image below can be used to identify
the appropriate generator given the wave height (twice the amplitude),
the wave period, the fluid depth, and gravity:</p>
<a class="reference internal image-reference" href="_images/applicability-ranges-of-various-wave-theories.png"><img alt="Applicability ranges of various wave theories" src="_images/applicability-ranges-of-various-wave-theories.png" style="width: 4.1in;" /></a>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The above chart applies to waves with a single frequency and
is not representative of scenarios where a combination of linear waves
are used to define a more complex waveform.</p>
</div>
<span class="target" id="index-178"></span><div class="section" id="linear-wave">
<span id="waveboundaryconditionlinearwavemr"></span><span id="index-179"></span><h4>Linear Wave<a class="headerlink" href="#linear-wave" title="Permalink to this headline">¶</a></h4>
<p>A linear wave has a sinusoidal surface profile, and its amplitude is small
compared to the wavelength and fluid depth. It is generated using Airy’s
linear wave theory. At the linear wave boundary, in addition to a regular
linear wave, users can also define an irregular wave using multiple (up to
1000) sinusoidal linear component waves with independent frequencies,
amplitudes and initial phases (another method to generate an irregular wave is
to use the random wave generator based on a wave energy spectrum, as described
in the <a class="reference internal" href="#waveboundaryconditionrandomwavemr"><span class="std std-ref">Random Wave</span></a> section). The elevation of a
linear component wave is expressed as</p>
<div class="math">
<p><img src="_images/math/c88e79561ce92ca7e9a734e8ba03aa98e62a1066.png" alt="\eta  = Asin(\omega t + \varphi )"/></p>
</div><p>where <img class="math" src="_images/math/89ee6ff675182b6882c4204ed78d702d7466508f.png" alt="A" style="vertical-align: 0px"/>, <img class="math" src="_images/math/5fff10136b6b599d18963a900c6d7f37edca8f08.png" alt="\omega" style="vertical-align: 0px"/> and <img class="math" src="_images/math/016569ed25a4517195717f832459be810a448e6b.png" alt="\varphi" style="vertical-align: -4px"/> are wave amplitude,
angular frequency and initial phase, respectively.</p>
<p>To define a linear wave or an irregular wave consisting of several linear waves,
in the boundary condition window, go to <span class="guilabel">Wave Definition</span> and select
<span class="guilabel">Linear</span> in the dropdown box and then click on <span class="guilabel">Definition</span>
to bring up the <span class="guilabel">Wave Definition</span> window. In the <span class="guilabel">Wave
Attributes</span> area, specify the total number of sinusoidal wave components in the
input box for <span class="guilabel">Number of wave components</span> (it is 1 for a single linear
regular wave). Then enter the <span class="guilabel">Wave amplitude</span>, <span class="guilabel">Wave
period</span> and <span class="guilabel">Phase shift</span> (i.e., the initial phase, in degrees) for
each component wave in the data table. The default phase shift is zero, which
means at time t=0 the wave elevation is zero and is on the rise.</p>
<blockquote>
<div><img alt="Linear Wave Definition" src="_images/linear-wave-definition.png" />
</div></blockquote>
<p>The linear wave solution is derived for an infinite reservoir with flat bottom,
which is assumed to exist outside the computational domain and immediately
adjacent to the mesh boundary. In this model, the <span class="guilabel">Mean fluid depth</span>
defines the undisturbed fluid depth in the reservoir. It defaults to the
difference between the <span class="guilabel">Fluid elevation</span> (the z-coordinate of the
undisturbed surface) and the minimum z-coordinate of the computational domain.
If the <span class="guilabel">Mean fluid depth</span> is different from its default, the user
needs to provide the appropriate value in its input box.</p>
<p>At the wave boundary, the model allows for existence of a constant net current
(inflow or outflow) in any horizontal direction, but the current must be slower
than the wave speed for the linear wave solution to be valid. Find
<span class="menuselection">Current velocities ‣ X Velocity and Y velocity</span>, and enter the
velocity components of the current in the x and y directions, respectively. The
current is assumed uniform across the boundary.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"> <a class="reference internal" href="theory.html#periodiclinearwavegeneratorth"><span class="std std-ref">Periodic Linear Wave Generator</span></a> in the Theory manual.</p>
</div>
<span class="target" id="index-180"></span></div>
<div class="section" id="stokes-wave-and-cnoidal-wave">
<span id="waveboundaryconditionstokeswavecnoidalwavemr"></span><span id="index-181"></span><h4>Stokes Wave and Cnoidal Wave<a class="headerlink" href="#stokes-wave-and-cnoidal-wave" title="Permalink to this headline">¶</a></h4>
<p>Stokes wave is a nonlinear wave in deep water and possesses sharper crests and
flatter troughs than a linear wave. In <span class="raw-html"><strong><em>FLOW-3D </em></strong></span>, it is generated using either
Fenton’s Fourier series method or Fenton’s fifth-order theory. The former
provides higher order accuracy than the latter thus is the recommended Stokes
wave generator. To define Stokes wave at the mesh boundary, in the boundary
condition window, go to <span class="guilabel">Wave Definition</span> and choose
<span class="guilabel">Stokes and Cnoidal (Fourier series method)</span> or <span class="guilabel">Stokes
(Fenton’s fifth-order theory)</span> and then click on <span class="guilabel">Definition</span> to
bring up the <span class="guilabel">Wave Definition</span> window.</p>
<blockquote>
<div><img alt="Solitary Wave Definition" src="_images/stokes-cnoidal-wave-definition.png" />
</div></blockquote>
<p>A Cnoidal wave is a nonlinear wave in shallow water. It has even sharper crests
and flatter troughs than the Stokes wave. In <span class="raw-html"><strong><em>FLOW-3D </em></strong></span>, it is generated using
Fenton’s Fourier series method. To define a cnoidal wave, choose
<span class="guilabel">Stokes and Cnoidal (Fourier series method)</span> in the boundary condition
window and then click on <span class="guilabel">Definition</span> to bring up the <span class="guilabel">Wave
Definition</span> window.</p>
<p>In the <span class="guilabel">Wave Attributes</span> area of the wave definition window, specify
<span class="guilabel">Wave height</span> (the vertical distance from trough to crest) and
<span class="guilabel">Wave period</span> or <span class="guilabel">Wavelength</span> in their input boxes. Wave
period and wavelength are not independent variables thus cannot be given at the
same time.</p>
<p>Similar to the linear wave, the Stokes and cnoidal wave solutions are derived
for an infinite reservoir with flat bottom, which is assumed to exist outside
the computational domain and immediately adjacent to the mesh boundary. The
<span class="guilabel">Mean fluid depth</span> at the boundary defines the undisturbed fluid depth
in the reservoir. It defaults to the difference between the <span class="guilabel">Fluid
elevation</span> (the z-coordinate of the undisturbed surface) and the minimum
z-coordinate of the computational domain. Users need to define the
<span class="guilabel">Mean fluid depth</span> if it is different from its default value.</p>
<p>The model allows for existence of a constant net current (inflow or outflow)
in any horizontal direction at the wave boundary, but the current must be
slower than the wave speed for the wave solution to be valid. Find
<span class="menuselection">Current velocities ‣ X velocity and Y velocity</span>, and enter
the x and y velocity components of the current, respectively. The current is
assumed uniform across the boundary.</p>
<p>During one wave period for all oscillatory waves, including
<span class="guilabel">Linear</span>, <span class="guilabel">Stokes and cnoidal</span> waves, more fluid moves
into the domain at the wave boundary than out of the domain. This is because
fluid has a higher elevation when moving in than when moving out. Moreover,
for <span class="guilabel">Stokes and cnoidal</span> waves, fluid moves faster at the wave crest
than at the trough. This may result in a net increase of fluid volume in the
domain over time in certain circumstances. As an option, users can choose to
automatically compensate for the net fluid volume influx induced by the wave
motion at the boundary by going to <span class="menuselection">Numerics ‣ Wave boundary
condition</span> and checking <span class="guilabel">Eliminate net volume flux</span>. Otherwise,
check <span class="guilabel">Include net volume flux at wave boundaries</span>. This selection
applies to all wave boundaries in the simulation.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"> <a class="reference internal" href="theory.html#stokeswavegeneratorth"><span class="std std-ref">Stokes Wave Generator</span></a> and <a class="reference internal" href="theory.html#stokescnoidalwavesgeneratorth"><span class="std std-ref">Stokes and Cnoidal Waves Generator (Fourier Series Method)</span></a> in the Theory manual.</p>
</div>
<span class="target" id="index-182"></span></div>
<div class="section" id="solitary-wave">
<span id="waveboundaryconditionsolitarywavemr"></span><span id="index-183"></span><h4>Solitary Wave<a class="headerlink" href="#solitary-wave" title="Permalink to this headline">¶</a></h4>
<p>To define a solitary wave at the mesh boundary, in the mesh boundary window, go
to <span class="guilabel">Wave Definition</span> and choose <span class="guilabel">Solitary</span> and then click on
<span class="guilabel">Definition</span> to bring up the <span class="guilabel">Solitary Wave Definition</span>
window. In the <span class="guilabel">Wave attributes</span> area, specify <span class="guilabel">Wave height</span>
which is the vertical distance from the undisturbed water level to the wave
crest. Similarly to the other types of waves, solution of the solitary wave is
derived for an infinite reservoir with flat bottom, which is assumed to exist
outside the computational domain and immediately adjacent to the mesh boundary.
The <span class="guilabel">Mean fluid depth</span> defines the undisturbed fluid depth in the
reservoir. It defaults to the difference between the <span class="guilabel">Fluid elevation</span>
(i.e., the z-coordinate of the undisturbed surface) and the minimum z-coordinate
of the computational domain. Users need to define the <span class="guilabel">Mean fluid
depth</span> if it is different from its default value.</p>
<blockquote>
<div><img alt="Solitary Wave Definition showing values" src="_images/solitary-wave-definition-with-values.png" />
</div></blockquote>
<p>The solitary wave is initially located outside the computational domain. By
default, the initial distance from the crest to the wave boundary is one half of
the wavelength. The wavelength of a solitary wave is the extent of the wave in
its propagation direction. It is measured between two points at opposite sides
of the crest where the surface displacement is 1% of the wave height. If that
distance is different from its default value, specify it in its input box.</p>
<p>The solitary wave model allows for existence of a constant net current (inflow
or outflow) in any horizontal direction at the wave boundary, but the current
must be slower than the wave speed for the solitary wave solution to be valid.
If such a current exists, in <span class="menuselection">Current velocities ‣ X velocity
and Y velocity</span>, enter the x and y velocity components of the current,
respectively. The current is assumed uniform across the boundary.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"> <a class="reference internal" href="theory.html#solitarywavesgeneratorth"><span class="std std-ref">Solitary Wave Generator</span></a> in the Theory manual.</p>
</div>
<span class="target" id="index-184"></span></div>
<div class="section" id="random-wave">
<span id="waveboundaryconditionrandomwavemr"></span><span id="index-185"></span><h4>Random Wave<a class="headerlink" href="#random-wave" title="Permalink to this headline">¶</a></h4>
<p>A random wave is treated as a superposition of many linear component waves with
different wave periods, amplitudes and initial phases. In <span class="raw-html"><strong><em>FLOW-3D </em></strong></span>, the code
automatically generates 1000 linear component waves at the wave boundary for a
random wave simulation. The periods are evenly distributed from 0.5s to 50s. The
initial phases are randomly selected between 0 to 2<img class="math" src="_images/math/c4af1691ed83a8e3de5f44b73aa2743be75dc2ae.png" alt="\pi" style="vertical-align: 0px"/>. The wave amplitudes
are calculated using wave energy spectrum. Two internally defined energy spectra
are available for users to choose: <span class="guilabel">Pierson-Moskowitz (P-M) spectrum</span>
and <span class="guilabel">JONSWAP spectrum</span>. Users can also define their own wave energy
spectrum in an external data file.</p>
<blockquote>
<div><img alt="Random Wave Definition" src="_images/random-wave-definition.png" />
</div></blockquote>
<p>To specify a random wave, in the boundary condition window, go to
<span class="guilabel">Wave Definition</span> and select <span class="guilabel">Random</span> then click on
<span class="guilabel">Definition</span> to bring up the <span class="guilabel">Random Wave Definition</span>
window. Under <span class="guilabel">Energy spectrum type</span>, select the type of wave energy
spectrum. If the <span class="guilabel">Pierson-Moskowitz (P-M)</span> or <span class="guilabel">JONSWAP</span>
spectra are used, specify wind speed <strong>10 m</strong> above the sea level in the
wind speed input box. For <span class="guilabel">JONSWAP</span> spectrum, users also need to
define <span class="guilabel">Fetch length</span> and <span class="guilabel">Peak enhancement factor</span>. The
default value of the peak enhancement factor is 3.3. The <span class="guilabel">Fetch
length</span> must be defined as there is no default. Details on this and another
parameters is found in <a class="reference internal" href="theory.html#randomwavesgeneratorth"><span class="std std-ref">Random Wave</span></a>.</p>
<p>If users want to use their own wave energy spectrum, select <span class="guilabel">Energy
spectrum file</span> and load the existing data file that defines the wave spectrum.
There should be two columns of data in the file. The left one is a series of
angular frequencies of waves (in <img class="math" src="_images/math/5dd02bdf6f52d4f9c2001c315d91a9e713e77b97.png" alt="rad/time" style="vertical-align: -5px"/>), and the right is the corresponding
energy values (in <img class="math" src="_images/math/740b7937ee556a496adec5966d70831a26015979.png" alt="Length^2/time" style="vertical-align: -5px"/>). The file should not have a header or title line,
and the total number of rows of data should not exceed 1000. The delimiter for the columns
can be a space, comma, or tab. There is no restriction on the extension of the file name.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"> <a class="reference internal" href="theory.html#randomwavesgeneratorth"><span class="std std-ref">Random Wave</span></a> in the Theory manual.</p>
</div>
</div>
<div class="section" id="initialization-of-wave-motion">
<span id="waveboundaryconditioninitializationwavemotionmr"></span><span id="index-186"></span><h4>Initialization of Wave Motion<a class="headerlink" href="#initialization-of-wave-motion" title="Permalink to this headline">¶</a></h4>
<p>Wave motion can also be defined as an initial condition. This is to allow the
wave to initially exist throughout the computational domain so that
computation time to reach steady wave motion can be shortened. The initial
wave elevation and fluid velocity are generated using the same wave generator
and the same wave parameters as those at the wave boundary. To initialize wave
motion, go to <span class="menuselection">Model Setup ‣ Initial ‣ Global ‣ Fluid initialization</span>
and select <span class="guilabel">Use wave boundary</span> in
the drop-down input box. In <span class="guilabel">Reference mesh block</span> and
<span class="guilabel">Reference mesh boundary</span>, select the mesh block and the wave
boundary which are used to define the initial wave motion.</p>
<blockquote>
<div><img alt="Fluid initialization" src="_images/initialization-wave-motion-fluid-initialization.png" />
</div></blockquote>
</div>
<div class="section" id="minimizing-wave-reflections-from-mesh-boundaries">
<span id="index-187"></span><h4>Minimizing Wave Reflections from Mesh Boundaries<a class="headerlink" href="#minimizing-wave-reflections-from-mesh-boundaries" title="Permalink to this headline">¶</a></h4>
<p>All outlet boundaries will reflect some portion of an incident wave, regardless of the selected boundary
condition, and the reflected portion of the wave can have a negative impact on the solution. Wave
reflections can be minimized by placing a wave-absorbing layer (sponge layer) before the outlet boundary.
Refer to the section <a class="reference internal" href="#waveabsorbinglayermr"><span class="std std-ref">Wave-absorbing Layer (Sponge Layer) at Outflow Boundary</span></a> for how to set up a wave-absorbing layer.</p>
</div>
<div class="section" id="using-the-shallow-water-model-for-wave-simulations">
<span id="index-188"></span><h4>Using the shallow water model for wave simulations<a class="headerlink" href="#using-the-shallow-water-model-for-wave-simulations" title="Permalink to this headline">¶</a></h4>
<p>The shallow water model requires that the horizontal scale of fluid flow is much longer than water
depth. Typically in wave simulation, the flow horizontal scale is the wave length rather than the
horizontal length of the domain. More specifically, only shallow water wave (defined as
<img class="math" src="_images/math/78ae526f44cca5508a37b571f475607bd89735d7.png" alt="d/\lambda&lt;20" style="vertical-align: -5px"/>, where  <img class="math" src="_images/math/af338b0f36c212027ca29e7d652f140b32f24dbd.png" alt="d" style="vertical-align: 0px"/> and  <img class="math" src="_images/math/5941b8ddfa8ffbe89c234337752eea007f00ef41.png" alt="\lambda" style="vertical-align: -1px"/> are water
depth and wavelength, respectively) can be simulated using the shallow water model. Significant errors may be
introduced if intermediate water wave or deep water wave is simulated using the shallow water model.</p>
<span class="target" id="index-189"></span></div>
</div>
<div class="section" id="wave-absorbing-layer-sponge-layer-at-outflow-boundary">
<span id="waveabsorbinglayermr"></span><span id="index-190"></span><h3>Wave-absorbing Layer (Sponge Layer) at Outflow Boundary<a class="headerlink" href="#wave-absorbing-layer-sponge-layer-at-outflow-boundary" title="Permalink to this headline">¶</a></h3>
<p>When periodic traveling waves reach an outflow boundary, undesired wave
reflection occurs more or less  depending on the boundary condition. As a
result, the waveform in the region of interest may become  irregular, and
fluid volume in the computational domain may experience significant
conservation problem. A  wave-absorbing layer or sponge layer is a special
region installed before an outflow boundary to absorb  wave motion, which
reduces wave reflection from the boundary. As described in the <a class="reference internal" href="theory.html"><span class="doc">Theory</span></a>
manual section <a class="reference internal" href="theory.html#spongelayerth"><span class="std std-ref">Wave-absorbing Layer (Sponge Layer) at Open Boundary</span></a>, the absorption is implemented by an
artificial linear damping force to dissipate wave motion. It works most
effectively if the outflow boundary condition (radiation boundary condition)
is used at the boundary at the same time.</p>
<p>There are two methods for defining a wave absorbing region; 1) wave-absorbing
component, 2) wave-absorbing boundary. Both methods are described below.</p>
<div class="section" id="wave-absorbing-component">
<span id="waveabsorbingcomponentmr"></span><h4>Wave-absorbing Component<a class="headerlink" href="#wave-absorbing-component" title="Permalink to this headline">¶</a></h4>
<p>A wave-absorbing layer is defined by a special geometry component called a
wave-absorbing component. It is created using the same methods for other geometry
components (See <a class="reference internal" href="model-setup.html#geometryms"><span class="std std-ref">Geometry</span></a>), but the <span class="guilabel">Type</span> must be selected
as <span class="guilabel">Wave absorbing</span>. It is completely open to fluid flow but applies damping to wave motion.
Its area and volume fractions are equal to 1. The component must
extend to or beyond the outflow boundary. For flexibility, the component can
be defined with multiple subcomponents using both STL and primitive types and
its shape can be arbitrary. In most applications, however, only a simple
rectangular block is needed. It is recommended the layer thickness in the
downstream direction be one wavelength.</p>
<p>To define the wave-absorbing parameters, a point on the starting plane of the
absorbing layer must be specified as well as the downstream direction of wave
motion (toward the outflow boundary). The starting plane is a vertical plane
going through the user-defined point and parallel to the outflow boundary,
while the end plane is the outflow boundary. Wave damping occurs only in the
region covered by the absorbing component between the two planes.</p>
<p>Properties are defined in the <span class="guilabel">Geometry</span> widget by selecting the wave absorbing component and navigating
to the <span class="menuselection">Wave absorbing properties</span> in the <span class="guilabel">Component Properties</span> window.</p>
<blockquote>
<div><img alt="Wave-absorbing component" src="_images/Wave-absorbing_1.png" />
</div></blockquote>
<p>In the edit boxes, enter the x, y and z coordinates for the <span class="guilabel">Starting Point</span>
(the point on the starting plane) and the downstream direction vector.
Users need to define the damping coefficient values at both the starting and
end planes of the wave-absorbing layer. Inside the absorbing layer, the
damping coefficient is evaluated by the code via linear interpolation. It is
found that a linear increase of the damping coefficient in the downstream
direction works more effectively to reduce wave reflection. In the edit boxes
enter the damping coefficient at the starting and the end planes.
Their default values are 0.0 and 1.0 1/s, respectively.</p>
<p>The wave-absorbing layer is designed not to damp a background stream. If the
stream velocity in the wave-absorbing layer is known, for <span class="guilabel">Background Stream Velocity</span>
select <span class="menuselection">User prescribed</span> and enter the x, y and z
velocity components. If this value us unknown, select the option for
<span class="menuselection">Code calculated</span> to allow the code to calculate the background stream velocity.
Only select this last option when the stream exists and its velocity is unknown in the wave-absorbing
layer. Note the code-calculated background stream velocity may introduce
error.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"> Theory manual sections <a class="reference internal" href="theory.html#outflowboundaryconditionsth"><span class="std std-ref">Outflow Boundary Conditions</span></a> and <a class="reference internal" href="theory.html#spongelayerth"><span class="std std-ref">Wave-absorbing Layer (Sponge Layer) at Open Boundary</span></a>.</p>
</div>
<span class="target" id="index-191"></span></div>
<div class="section" id="wave-absorbing-boundary">
<span id="waveabsorbingboundarymr"></span><span id="index-192"></span><h4>Wave-absorbing Boundary<a class="headerlink" href="#wave-absorbing-boundary" title="Permalink to this headline">¶</a></h4>
<p>A wave-absorbing boundary is defined by selecting an <span class="menuselection">Outflow</span> or <span class="menuselection">Continuative</span>
boundary condition and then checking the <span class="guilabel">Wave absorbing layer</span>
check box. Required is a length, which at a minimum, should be at least one
wave length. Choosing this boundary type will automatically
connect the wave absorbing layer that exists within the computational domain
to the boundary face in which the wave-absorbing boundary condition is
applied.</p>
<p>The damping coefficients and the <span class="guilabel">Background Stream velocity</span> are
the same as described above in the section on <a class="reference internal" href="#waveabsorbingcomponentmr"><span class="std std-ref">Wave-absorbing Component</span></a>.</p>
<blockquote>
<div><a class="reference internal image-reference" href="_images/wave_absorbing_boundary.png"><img alt="Wave-absorbing Boundary Definition" src="_images/wave_absorbing_boundary.png" style="width: 4.09in;" /></a>
</div></blockquote>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"> Theory manual sections <a class="reference internal" href="theory.html#outflowboundaryconditionsth"><span class="std std-ref">Outflow Boundary Conditions</span></a> and <a class="reference internal" href="theory.html#spongelayerth"><span class="std std-ref">Wave-absorbing Layer (Sponge Layer) at Open Boundary</span></a>.</p>
</div>
<span class="target" id="index-193"></span></div>
</div>
</div>
<div class="section" id="moisture-drying-model">
<span id="moisturedryingmr"></span><span id="index-194"></span><h2>Moisture Drying Model<a class="headerlink" href="#moisture-drying-model" title="Permalink to this headline">¶</a></h2>
<p>Porous materials and sand molds may have moisture distributed throughout. This
moisture will evaporate due to temperature changes or due to exposure to dry air.
An example is during metal casting in sand molds, where the mold temperature
increases during solidification of the casting. The latent heat released
during evaporation may significantly affect the temperature evolution in the
mold and the cooling rate of the casting.</p>
<p>To use the model, go to <span class="menuselection">Physics ‣ Moisture</span> and the
following window appears:</p>
<blockquote>
<div><img alt="Moisture drying window" src="_images/moisture-drying-physics-window.png" />
</div></blockquote>
<p>The simpler model is the <span class="guilabel">Isothermal moisture drying model</span>, which
assumes that the moisture in the component evaporates at a constant
temperature (i.e., the resulting affects on saturation temperatures due to
pressure changes are minimal). When using this model, data <em>must</em> be provided
here for the moisture <span class="guilabel">Density</span>, <span class="guilabel">Specific heat</span>,
<span class="guilabel">Evaporation temperature</span>, and <span class="guilabel">Latent heat of
evaporation</span>. Note that these values do not have to correspond to any data
provided for any existing fluid in the simulation. The default values provided
are for water in CGS units – enter different values if needed for your
simulation.</p>
<p>Under <span class="guilabel">Moisture Content</span> on the right side of the window are the
options on how the initial conditions of moisture within the component(s) are
to be entered. The default is <span class="guilabel">Percent weight fraction</span>, where the
initial data is the percentage of the total weight of the component that is
moisture. Select <span class="guilabel">Weight per bulk component volume</span> if data on the
mass of moisture per unit volume of the component is preferable.</p>
<p>The <span class="guilabel">Two-phase moisture drying model</span> option is more complex, and
can only be used for two-fluid simulations with compressible flow and the non-condensable gas model (see
<a class="reference internal" href="#condensationevaporationtwofluidsnoncondensablegasmr"><span class="std std-ref">Two Fluids with Non-condensable Gas</span></a>). Confirm here the
<span class="guilabel">Gas constant</span> and <span class="guilabel">Specific heat</span> data for the non-condensable component of Fluid 2 – the default values are for air in CGS
units.</p>
<p>The <span class="guilabel">Isothermal moisture drying model</span> in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> assumes that the
vapor escapes from the component immediately after evaporation and no re-condensation occurs. This significantly simplifies the model since no separate
vapor transport equation has to be solved. The model can be used only if
<span class="menuselection">Physics ‣ Heat transfer ‣ Solve full energy equation in
solids model</span> is activated. Moisture can only exist in components with non-zero values of <span class="guilabel">Density*Specific heat</span> and <span class="guilabel">Thermal
Conductivity</span>, that is, in components that can have a distribution of
temperature within them. Porosity of moist components need not be set, and the
<span class="guilabel">Density*Specific heat</span> and <span class="guilabel">Thermal Conductivity</span> values
are <em>macroscopic</em>: the porosity is included in the values.</p>
<p>The <span class="guilabel">Two-phase moisture drying model</span> requires that moist components
be porous; the vapor produced by the moisture drying model becomes part of the
vapor fluid 2, and thus is transported through the porous component.
Additionally, it is necessary to activate the <span class="guilabel">Two-fluid phase
change</span> model in <span class="menuselection">Physics ‣ Bubble and phase change</span>, along
with checking the option for <span class="guilabel">Non-condensable gas model</span>.
Therefore, the evaporation of moisture is controlled by the local saturation
pressure and local pressure within the pore space, and the partial pressure of
the vapor within the pore space. The latent heat of vaporization and specific
heat are defined in the phase change model (see
<a class="reference internal" href="#condensationevaporationtwofluidsmr"><span class="std std-ref">Two-fluid Model</span></a>). This model can only be used for
components with non-zero values of <span class="guilabel">Density*Specific heat</span> and
<span class="guilabel">Thermal Conductivity</span>, that is, in components that can have a
distribution of temperature within them. However, with this model, the
<span class="guilabel">Density*Specific heat</span> and <span class="guilabel">Thermal Conductivity</span> values
are microscopic values for the solid part of the component only (i.e., not
including the porosity, since the assigned porosity is used to compute the
values used in the computation).</p>
<blockquote>
<div><img alt="Moisture drying component setup" src="_images/moisture-drying-component-setup.png" />
</div></blockquote>
<p>The initial uniform moisture content for a component is set in
<span class="menuselection">Model Setup ‣ Geometry ‣ Component ‣ Moisture
Properties</span>. Select <span class="guilabel">Yes</span> from the drop-down menu next to
<span class="guilabel">Contains Moisture</span>, and specify the <span class="guilabel">Moisture content</span> as
either the <span class="guilabel">Percent weight fraction</span> (dimensionless value between 0
and 100) or <span class="guilabel">Weight per bulk component volume</span> (units of
mass/volume), as defined in <span class="menuselection">Physics ‣ Moisture</span>.</p>
<p>It is necessary also to provide data for the <span class="guilabel">Dry Density</span> of the
component. For the <span class="guilabel">Isothermal moisture drying model</span> this is the
<em>macroscopic</em> value of the density (i.e., including the porosity), while for
the <span class="guilabel">Two-phase moisture drying model</span> it is the microscopic value
(i.e., not considering the porosity).</p>
<p>Moisture can be viewed by plotting <span class="guilabel">Moisture content</span> from
<span class="menuselection">Analyze ‣ 2-D</span> or <span class="menuselection">3-D</span>. The
total moisture volume can also be plotted as a function of time in
<span class="guilabel">History</span> data in <span class="menuselection">Analyze ‣ Probe</span>, similar to the
total fluid volume.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>The <span class="guilabel">Specific heat</span> of the moisture is added to that of the “dry”
component, but the component conductivity is not adjusted for moisture
content.</li>
<li>For the <span class="guilabel">Isothermal moisture drying model</span> in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> the presence
of moisture implies that the component is porous. However, the user does
not need to employ the porous component model to use the moisture model,
although moisture bearing components can be porous. In the latter case the
bulk component volume is defined as
<img class="math" src="_images/math/24733bc6696bf6deca051bbd8f6e56d8e9212d8a.png" alt="V_{\text{BULK}}=V_{\text{OBS}}/(1-\phi)" style="vertical-align: -5px"/> where <img class="math" src="_images/math/43c39ebe6079883ede9bb3a94e9a1674af72de6e.png" alt="\phi" style="vertical-align: -4px"/> is the
component porosity and <img class="math" src="_images/math/0278d2c7a8f067491a8d99df2e7e29b5343a7ff0.png" alt="V_{\text{OBS}}" style="vertical-align: -3px"/> is the actual (solid)
component volume.</li>
</ul>
</div>
</div>
<div class="section" id="moving-objects">
<span id="moving-objects-top"></span><h2>Moving objects<a class="headerlink" href="#moving-objects" title="Permalink to this headline">¶</a></h2>
<span class="target" id="index-195"></span><div class="section" id="general-moving-objects">
<span id="gmobasicsmr"></span><span id="index-196"></span><h3>General Moving Objects<a class="headerlink" href="#general-moving-objects" title="Permalink to this headline">¶</a></h3>
<div class="section" id="basics">
<h4>Basics<a class="headerlink" href="#basics" title="Permalink to this headline">¶</a></h4>
<p>The general moving objects (GMO) model in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> can simulate rigid body
motion, which is either user-prescribed (prescribed motion) or dynamically
coupled with fluid flow (coupled motion). If an object’s motion is prescribed,
fluid flow is affected by the object’s motion, but the object’s motion is not
affected by fluid flow. If an object has coupled motion, however, the object’s
motion and fluid flow are coupled dynamically and affect each other. In both
cases, a moving object can possess six degrees of freedom (DOF), or rotate
about a fixed point or a fixed axis. The GMO model allows the location of the
fixed point or axis to be arbitrary (it can be inside or outside the object
and the computational domain), but the fixed axis must be parallel to one of
the three coordinate axes of the space reference system. In one simulation,
multiple moving objects with independent motion types can exist (the total
number of moving and non-moving components cannot exceed 500). Any object
under coupled motion can undergo simultaneous collisions with other moving and
non-moving objects and wall and symmetry mesh boundaries (See
<a class="reference internal" href="#gmocollisionmr"><span class="std std-ref">Collision</span></a>). The model also allows the existence of multiple (up to
100) elastic linear and torsion springs, elastic ropes and mooring lines
which are attached to moving objects and apply forces or torques to them
(See <a class="reference internal" href="#gmospringsropesmr"><span class="std std-ref">Springs &amp; Ropes</span></a> and <a class="reference internal" href="#gmomooringlinesmr"><span class="std std-ref">Mooring Lines</span></a>).</p>
<p>In general, the motion of a rigid body can be described with six velocity
components: three for translation and three for rotation. In the most general
cases of coupled motion, all the available velocity components are coupled
with fluid flow. However, the velocity components can also be partially
prescribed and partially coupled in complex coupled-motion problems (e.g., a
ship in a stream can have its pitch, roll and heave to be coupled but yaw,
sway and surge prescribed). For coupled motion only, in addition to the
hydraulic, gravitational, inertial and spring forces and torques which are
calculated by the code, additional control forces can be prescribed by the
user. The control forces can be defined either as up to five forces with their
application points fixed on the object or as a net control force and torque.
The net control force is applied to the GMO’s mass center, while the control
torque is applied about the mass center for 6-DOF motion, and about the fixed
point or fixed axis for those kinds of motions. The inertial force and torque
exist only if the Non-inertial Reference Frame model is activated.</p>
<p>In <span class="raw-html"><strong><em>FLOW-3D </em></strong></span>, a GMO is classified as a geometry component that is either porous or
non-porous. As with stationary components, a GMO can be composed of a number
of geometry subcomponents. Each subcomponent can be defined either by
quadratic functions and primitives, or by STL data, and can be solid, hole or
complement. If STL files are used, since GMO geometry is re-generated at every
time step in the computation, the user should strive to minimize the number of
triangle facets used to define the GMO to achieve faster execution of the
solver while maintaining the necessary level of the geometry resolution. For
mass properties, different subcomponents of an object can possess different
mass densities.</p>
<p>In order to define the motion of a GMO and interpret the computational results
correctly, the user needs to understand the body-fixed reference system (body
system) which is always fixed on the object and experiences the same motion. In
the <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> preprocessor, the body system (x’, y’, z’) is automatically set up
for each GMO. The initial directions of its coordinate axes (at t=0) are the
same as those of the space system (x, y, z). The origin of the body system is
fixed at the GMO’s reference point which is a point automatically set on each
moving object in accordance with the object’s motion type. The reference point
is:</p>
<ul class="simple">
<li>the object’s mass center for the coupled 6-DOF motion;</li>
<li>the fixed point for the fixed-point motion;</li>
<li>a point on the fixed axis for the fixed-axis rotation;</li>
<li>a user-defined reference point for the prescribed 6-DOF motion.</li>
</ul>
<p>If the reference point is not given by users for the prescribed 6-DOF motion, it is set by the code at the mass center (if mass properties are given) or the geometry center (if mass properties are not given) of the object.</p>
<p>The reference pressure for a GMO is a component-specific parameter. It is the pressure on the blocked
surface of a GMO and also the pressure on the GMO surface outside the computational domain. For example,
for an initially closed valve, the reference pressure is the pressure applied at the contact (blocked)
surface of the valve. When a GMO is partially or completely outside the computational domain, the
reference pressure is the pressure on the GMO surface outside the domain. Without the reference
pressure, the contact surface of a valve will have zero pressure and the valve may be impossible to
open, and a GMO with coupled motion can be sucked out of the domain by the zero outside pressure if it
is located at the domain boundary.</p>
<p>The reference pressure can be either user-specified (default) or code-calculated. If user-specified, its
default value is the initial vapor void pressure <span class="target" id="index-197"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PVOID</span></code>; otherwise it is calculated by the code as the
average pressure on open surface of the GMO inside the domain.</p>
<p>The GMO’s motion can be defined through the GUI using four steps:</p>
<ol class="arabic simple">
<li>Activate the GMO model;</li>
<li>Create the GMO’s initial geometry;</li>
<li>Specify the GMO’s motion-related parameters, and</li>
<li>Define the GMO’s mass properties.</li>
</ol>
<p>Without the activation of the GMO model in step 1, the object created as a GMO
will be treated as a non-moving object, even if steps 2 to 4 are accomplished.</p>
<div class="section" id="step-1-activate-the-gmo-model">
<span id="step1activategmomodelmr"></span><span id="index-198"></span><h5>Step 1: Activate the GMO Model<a class="headerlink" href="#step-1-activate-the-gmo-model" title="Permalink to this headline">¶</a></h5>
<p>To activate the GMO model, go to <span class="menuselection">Model Setup ‣ Physics ‣
Moving and simple deforming objects</span> and check the <span class="guilabel">Activate general
moving objects (GMO) model</span> box.</p>
<blockquote>
<div><img alt="Moving and simple deforming objects" src="_images/gmo-basics-moving-and-simple-deforming-objects.png" />
</div></blockquote>
<p>The GMO model has two numerical methods to treat the interaction between fluid
and moving objects: an <em>explicit</em> and an <em>implicit</em> method. If no coupled
motion exists, the two methods are identical. For coupled motion, the explicit
method, in general, works only for heavy GMO problem, i.e., all moving objects
under coupled motion have larger mass densities than that of fluid and their
added mass is relatively small. The implicit method, however, works for both
heavy and light GMO problems. A light GMO problem means at least one of the
moving objects under coupled motion has smaller mass densities than that of
fluid or their added mass is large. The user may change the selection on the
<span class="guilabel">Moving and deforming objects</span> window from the <span class="guilabel">Physics</span> widget
or at <span class="menuselection">Numerics ‣ Other explicit/implicit solver options ‣ Moving object/fluid coupling</span>.</p>
</div>
<div class="section" id="step-2-create-the-gmo-s-initial-geometry">
<span id="step2creategmoinitialgeometrymr"></span><span id="index-199"></span><h5>Step 2: Create the GMO’s Initial Geometry<a class="headerlink" href="#step-2-create-the-gmo-s-initial-geometry" title="Permalink to this headline">¶</a></h5>
<p>In the <span class="guilabel">Model Setup –&gt; Geometry</span> widget, create the desired geometry for the
GMO components using either primitives and/or imported STL files in the same
way as is done for any stationary component. The component can be either
<span class="guilabel">standard</span> or <span class="guilabel">porous</span>. To set up a porous component,
refer to <a class="reference internal" href="#flowinporouscomponentsmr"><span class="std std-ref">Porous Media</span></a>. Note that the <span class="guilabel">Copy</span>
function cannot be used with geometry components representing GMOs.</p>
</div>
<div class="section" id="step-3-specify-the-gmo-s-motion-related-parameters">
<span id="step3specifygmomotionrelatedparametersmr"></span><span id="index-200"></span><h5>Step 3: Specify the GMO’s Motion Related Parameters<a class="headerlink" href="#step-3-specify-the-gmo-s-motion-related-parameters" title="Permalink to this headline">¶</a></h5>
<p>The following section discusses how to set up parameters for prescribed and
coupled 6-DOF motion, fixed-point motion and fixed-axis motion. The user can
go directly to the appropriate part.</p>
<div class="section" id="prescribed-6-dof-motion">
<span id="prescribed6dofmr"></span><span id="index-201"></span><h6>Prescribed 6-DOF Motion<a class="headerlink" href="#prescribed-6-dof-motion" title="Permalink to this headline">¶</a></h6>
<p>In <span class="menuselection">Model Setup ‣ Geometry ‣ Component (the desired
GMO component) ‣ Component properties ‣ Moving object ‣ Type of Moving Object</span>, select <span class="guilabel">Prescribed
motion</span>. Then navigate to <span class="menuselection">Moving Object Properties ‣ Edit ‣ Motion Constraints</span>. Under
<span class="guilabel">Type of Constraint</span>, select <span class="guilabel">6 Degrees of Freedom</span> in the
combo box.</p>
<blockquote>
<div><img alt="Geometry tree -Type of moving object - prescribed motion" src="_images/geometry-gmo.png" />
</div></blockquote>
<p>Clicking on <span class="guilabel">Moving Object Properties –&gt; Edit</span> opens the motion definition dialog:</p>
<blockquote>
<div><img alt="Moving Object Setup - Motion constraints - 6 DOF" src="_images/gmo-basics-motion-constraints-6dof-moving-object-setup.png" />
</div></blockquote>
<p>To define the object’s velocity, go to the <span class="guilabel">Initial/Prescribed
Velocities</span> tab in the <span class="guilabel">Moving object setup</span> window. The prescribed
6-DOF motion is described as a superimposition of a translation of a reference
point and a rotation about the reference point. The reference point can be
anywhere inside or outside the moving object and the computational domain. The
user needs to enter its initial x, y and z coordinates (at t=0) in the provided
edit boxes. By default, the reference point is determined by the preprocessor in
two different ways depending on whether the object’s mass properties are given:
if mass properties (either mass density or integrated mass properties) are
given, then the mass center of the moving object is used as the reference point;
otherwise, the object’s geometric center will be calculated and used as the
reference point.</p>
<p>With the reference point provided (or left for the code to calculate), users
can define the <span class="guilabel">translational velocity components</span> for the reference
point in space system and the <span class="guilabel">angular velocity components</span> (in
radians/time) in body system. Each velocity component can be defined either as
a sinusoidal or a piecewise linear function of time by making a selection in
the corresponding combo box. For a constant velocity component, choose
<span class="guilabel">Non-Sinusoidal</span> and simply enter its value in the corresponding
input box (the default value is 0.0). If a velocity component is
Non-sinusoidal and time-dependent, click on the corresponding <span class="guilabel">Tabular</span>
button to open a data table and enter values for the velocity component and
time. Alternatively, the user can also import a data file for the velocity
component versus time by clicking <span class="menuselection">Tabular ‣ Import Values</span>.
The file must have two columns of data which represent time and velocity from
left to right and must have a <code class="file docutils literal notranslate"><span class="pre">csv</span></code> extension. If the velocity component
is sinusoidal in time, then enter the values for <span class="guilabel">Amplitude</span>,
<span class="guilabel">Frequency</span> (in Hz) and <span class="guilabel">Initial Phase</span> (in degrees) in
the input boxes. The expression for the sinusoidal velocity component is</p>
<div class="math">
<p><img src="_images/math/6e8c020915807d6d2ff0cbe445d43faf82661d00.png" alt="v = A\sin (2\pi ft + {\varphi _0})"/></p>
</div><p>where:</p>
<ul>
<li><p class="first"><img class="math" src="_images/math/89ee6ff675182b6882c4204ed78d702d7466508f.png" alt="A" style="vertical-align: 0px"/> is the amplitude,</p>
</li>
<li><p class="first"><img class="math" src="_images/math/3daf2576f9b26b234f68a5e23fcd520c09823740.png" alt="f" style="vertical-align: -4px"/> is the frequency, and</p>
</li>
<li><p class="first"><img class="math" src="_images/math/2d4882cd934ea8a4b6dd3b2c2df15c7da041b0eb.png" alt="{\varphi _0}" style="vertical-align: -4px"/> is the initial phase.</p>
<img alt="Moving Object Setup - Initial/Prescribed Velocities tab" src="_images/gmo-basics-initial-prescribed-velocities-moving-obj-setup.png" />
</li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
<blockquote>
<div><img alt="Time edit tables" src="_images/gmo-basics-time-edit-table.png" />
</div></blockquote>
<p>Users can set limits for the translational displacements of the object’s
reference point in both negative and positive x, y and z directions in space
system. The displacements are measured from the initial location of the
reference point. During motion, the reference point cannot go beyond these
limits but can move back to the allowed range after it reaches a limit. To set
the limits for translation, go to the <span class="guilabel">Motion Constraints</span> tab and
enter the maximum displacements allowed in the corresponding input boxes,
using absolute values. By default, these values are infinite. Note the
<span class="guilabel">Limits for rotation</span> is only for fixed-axis rotation thus cannot be
set for 6-DOF motion.</p>
</div>
<div class="section" id="prescribed-fixed-point-motion">
<span id="prescribedfixedpointmotionmr"></span><span id="index-202"></span><h6>Prescribed Fixed-point Motion<a class="headerlink" href="#prescribed-fixed-point-motion" title="Permalink to this headline">¶</a></h6>
<p>In <span class="menuselection">Model Setup ‣ Geometry ‣ Component (the desired
GMO component) ‣ Type of Moving Object</span>, select
<span class="guilabel">Prescribed motion</span>. Go to <span class="menuselection">Moving object properties
‣ Edit ‣ Motion Constraints</span>. Under <span class="guilabel">Type of Constraint</span>, select
<span class="guilabel">Fixed point rotation</span> in the combo box and enter the x, y and z
coordinates of the fixed point in the corresponding input boxes.</p>
<p>To define the velocity of the object, go to the <span class="guilabel">Initial/Prescribed
Velocities</span> tab in the <span class="guilabel">Moving object setup</span> window. The velocity
components to be defined are the x, y and z components of the angular velocity
(in radians/time) in the body system. Each velocity component can be defined as
either a sinusoidal or a piecewise linear function of time by making a
selection in the corresponding combo box. For a constant velocity component,
choose <span class="guilabel">Non-Sinusoidal</span> and simply enter its value in its input box
(the default value is 0.0). If a velocity component is time-variant and
<span class="guilabel">Non-sinusoidal</span>, click on the <span class="guilabel">Tabular</span> button to open a
data table and enter the values for the velocity component and time.
Alternatively, the user can also import a data file for the velocity component
versus time by clicking <span class="menuselection">Tabular ‣ Import Values</span>. The file
must have two columns of data which represent time and velocity component from
left to right and must have a <code class="file docutils literal notranslate"><span class="pre">csv</span></code> extension. If the velocity component
is sinusoidal in time, then enter the values for <span class="guilabel">Amplitude</span>,
<span class="guilabel">Frequency</span> (in cycles/time) and <span class="guilabel">Initial Phase</span> (in
degrees) in the corresponding input boxes. The expression for a sinusoidal
angular velocity component is</p>
<div class="math">
<p><img src="_images/math/5c3b1273bad1276011458e1e62a6d8ed784105ff.png" alt="\omega  = A\sin(2\pi ft + {\varphi _0})"/></p>
</div><p>where:</p>
<ul class="simple">
<li><img class="math" src="_images/math/89ee6ff675182b6882c4204ed78d702d7466508f.png" alt="A" style="vertical-align: 0px"/> is the amplitude,</li>
<li><img class="math" src="_images/math/3daf2576f9b26b234f68a5e23fcd520c09823740.png" alt="f" style="vertical-align: -4px"/> is the frequency, and</li>
<li><img class="math" src="_images/math/2b9ff9ca92a9ed6a66a3d65b5f55d5775351161e.png" alt="\varphi _0" style="vertical-align: -4px"/> is the initial phase.</li>
</ul>
</div>
<div class="section" id="prescribed-fixed-axis-motion">
<span id="prescribedfixedaxismotionmr"></span><span id="index-203"></span><h6>Prescribed Fixed-Axis Motion<a class="headerlink" href="#prescribed-fixed-axis-motion" title="Permalink to this headline">¶</a></h6>
<p>In <span class="menuselection">Model Setup ‣ Geometry ‣ Component (the desired
GMO component) ‣ Component properties ‣ Moving object ‣ Type of Moving Object</span>, select
<span class="guilabel">Coupled motion</span>. Then navigate to <span class="menuselection">Moving Object Properties ‣ Edit ‣ Motion Constraints</span>. Under
<span class="guilabel">Type of Constraint</span>, select
<span class="guilabel">Fixed X-Axis Rotation</span> or <span class="guilabel">Fixed Y-Axis Rotation</span> or
<span class="guilabel">Fixed Z-Axis Rotation</span> in the combo box depending on which coordinate
axis the rotational axis is parallel to.</p>
<p>Coordinates of the rotational axis need be given in two of the three input boxes
for <span class="guilabel">Fixed Axis/Point X Coordinate</span>, <span class="guilabel">Fixed Axis/Point Y
Coordinate</span> and <span class="guilabel">Fixed Axis/Point Z Coordinate</span>. For example, if the
rotational axis is parallel to the z-axis, then the x and y coordinates for the
rotational axis must be defined. Users can also set limits for the object’s
rotational angle in both positive and negative directions. The rotational angle
(i.e., angular displacement) is a vector and measured from the object’s initial
orientation based on the right-hand rule. Its value is positive if it points in
the positive direction of the coordinate axis which the rotational axis is
parallel to. The object cannot rotate beyond these limits but can rotate back to
the allowed angular range after it reaches a limit. To set the limits for
rotation, in <span class="menuselection">Motion Constraints ‣ Limits for rotation</span>, enter
the <span class="guilabel">Maximum rotational angle</span> allowed in negative and positive
directions in the corresponding input boxes, using absolute values in degrees.
By default, these values are infinite.</p>
<blockquote>
<div><img alt="Moving Object Setup (note: BETA image) - motion constraints" src="_images/gmo-basics-motion-constraints-moving-object-setup.png" />
</div></blockquote>
<p>To define the angular velocity of an object (in radians/time), go to
<span class="guilabel">Initial/Prescribed Velocities</span>. The angular velocity can be defined
either as a sinusoidal or a piecewise linear function of time by making a
selection in the corresponding combo box. For a constant angular velocity,
choose <span class="guilabel">Non-Sinusoidal</span> and simply enter its value in its input box
(the default value is 0.0). If it is Non-sinusoidal in time, click on the
corresponding <span class="guilabel">Tabular</span> button to open a data table and enter the
values for the angular velocity and time. Alternatively, the user can also
import a data file for the velocity component versus time by clicking
<span class="menuselection">Tabular ‣ Import Values</span>. The file must
have two columns of data which represent time and angular velocity from left to
right and must have a <code class="file docutils literal notranslate"><span class="pre">csv</span></code> extension. If the angular velocity is
sinusoidal in time, then enter the values for <span class="guilabel">Amplitude</span>,
<span class="guilabel">Frequency</span> (in cycles/time) and <span class="guilabel">Initial Phase</span> (in
degrees) in the corresponding input boxes. The expression for a sinusoidal
angular velocity is</p>
<div class="math">
<p><img src="_images/math/d80707986d0567639aa8c269c72f9cbfe4ef783b.png" alt="\omega  = A\sin (2\pi ft + {\varphi _0})"/></p>
</div><p>where:</p>
<ul class="simple">
<li><img class="math" src="_images/math/89ee6ff675182b6882c4204ed78d702d7466508f.png" alt="A" style="vertical-align: 0px"/> is the amplitude,</li>
<li><img class="math" src="_images/math/3daf2576f9b26b234f68a5e23fcd520c09823740.png" alt="f" style="vertical-align: -4px"/> is the frequency, and</li>
<li><img class="math" src="_images/math/2b9ff9ca92a9ed6a66a3d65b5f55d5775351161e.png" alt="\varphi _0" style="vertical-align: -4px"/> is the initial phase.</li>
</ul>
<span class="target" id="index-204"></span></div>
<div class="section" id="coupled-6-dof-motion">
<span id="coupled6dofmr"></span><span id="index-205"></span><h6>Coupled 6-DOF motion<a class="headerlink" href="#coupled-6-dof-motion" title="Permalink to this headline">¶</a></h6>
<p>In <span class="menuselection">Model Setup ‣ Geometry ‣ Component (the desired
GMO component) ‣ Component properties ‣ Moving object ‣ Type of Moving Object</span>, select
<span class="guilabel">Coupled motion</span>. Then navigate to <span class="menuselection">Moving Object Properties ‣ Edit ‣ Motion Constraints</span>. Under
<span class="guilabel">Type of Constraint</span>, select <span class="guilabel">6 Degrees of Freedom</span> in the combo box.</p>
<p>Users need to define the initial velocities for the object. Go to the
<span class="guilabel">Initial/Prescribed Velocities</span> tab. Enter the x, y, and z components
of the initial velocity of the GMO’s mass center in <span class="guilabel">X Initial
Velocity</span>, <span class="guilabel">Y Initial Velocity</span> and <span class="guilabel">Z Initial Velocity</span>,
respectively. Enter the x’, y’ and z’ components of the initial angular velocity
(in radians/time) in the body system in <span class="guilabel">X Initial
Angular Velocity</span>, <span class="guilabel">Y Initial Angular Velocity</span> and <span class="guilabel">Z
Initial Angular Velocity</span>, respectively. By default, the initial velocity
components are zero.</p>
<p>For coupled 6-DOF motion, user-prescribed control force(s) and torque exerting
on the object can be defined either in the space system or the body system. They
are combined with the hydraulic, gravitational, inertial and spring forces and
torques to determine the object’s motion. There are two different ways to define
control force(s) and torque: prescribe either a total force and a
total torque about the object’s mass center or multiple forces with their
application points fixed on the object. By default, all the control force(s) and
torque are equal to zero.</p>
<p>To prescribe total force and total torque, in the <span class="guilabel">Control Forces
and Torques</span> tab, choose <span class="guilabel">Define Total Force and Total Torque</span> in
the combo box. Further select <span class="guilabel">In Space System</span> or <span class="guilabel">In
Body System</span> depending on which reference system the control force and torque
are define in. If a component of the force or the torque is a constant, it can
be specified in the corresponding edit box (default is zero). If it varies
with time, then click on the <span class="guilabel">Tabular</span> button to bring up a data
input table and enter the values for the component and time. The time-variant
force and torque are treated as piecewise-linear functions of time during
simulation. Alternatively, instead of filling the data table line by line, the
user can also import a data file for the <span class="guilabel">force/torque component
versus time</span> by clicking <span class="menuselection">Tabular ‣ Import Values</span>. The file
must have two columns of data which represent time and the force/torque
component from left to right and must have a <code class="file docutils literal notranslate"><span class="pre">csv</span></code> extension.</p>
<blockquote>
<div><img alt="Moving Object setup (BETA icon) - Component 1: wood sphere - Controlled Forces and Torques" src="_images/gmo-basics-controled-forces-define-total-force-tabular-data-moving-object-setup.png" />
</div></blockquote>
<p>If, instead, control forces and their application points need to be defined,
then in the <span class="guilabel">Control Forces and Torques</span> tab choose
<span class="guilabel">Define Multiple Forces and Application Points</span> in the combo box.
Users can specify up to five forces. For each force, in the editor boxes,
choose the force index (1 to 5) and then select <span class="menuselection">Force
components in ‣</span> <span class="guilabel">Space System</span> or <span class="guilabel">Body System</span>
depending on which reference system the force is defined in. In field on the
left, enter the initial coordinates (at t=0) for the force’s application
point. In the field on the right, prescribe components of the force in x, y
and z directions of the body or space system. For a constant force component,
enter its value in the corresponding edit box. If it varies with time, then
click on the <span class="guilabel">Tabular</span> button to bring up a data input table and
enter values for the force component versus time. Tabular force input is
approximated with a piecewise-linear function of time. Alternatively, the user
can import a data file for the force versus time by clicking
<span class="menuselection">Tabular ‣ Import Values</span>. The file must have two columns of
data which represent time and from left to right and must have a <code class="file docutils literal notranslate"><span class="pre">csv</span></code>
extension.</p>
<blockquote>
<div><img alt="Moving Object Setup - Control Forces and Torques - Space System" src="_images/gmo-basics-controled-forces-define-multiple-forces-moving-object-setup.png" />
</div></blockquote>
<p>Motion constraints can be imposed to the object to decrease the number of the
degrees of freedom to less than six. This selection is made by setting part of
its translational and rotational velocity components as
<span class="guilabel">Prescribed motion</span> while leaving the other components to <span class="guilabel">coupled motion</span> in
<span class="menuselection">Motion Constraints tab ‣ Translational and Rotational
Options</span>. Note that the translational and rotational components are in the
space system and the body system, respectively. Then go to the
<span class="guilabel">Initial/Prescribed Velocities</span> tab to define their values. A
prescribed velocity component can be defined as either a sinusoidal or
piecewise linear function of time in the combo box. For a constant velocity
component, choose <span class="guilabel">Non-Sinusoidal</span> and enter its value in its input
box (the default value is 0.0). If the velocity component is time-dependent
and non-sinusoidal, click on the <span class="guilabel">Tabular</span> button to open a data
table and enter the values for the velocity component and time. Alternatively,
the user can import a data file for the velocity component versus time by
clicking <span class="menuselection">Tabular ‣ Import values</span>. The file must have two
columns of data which represent time and the angular velocity component from
left to right and must have a <code class="file docutils literal notranslate"><span class="pre">csv</span></code> extension. It is treated as a
piecewise-linear function of time in the code. If it is a sinusoidal function
of time, instead, enter its <span class="guilabel">Amplitude</span>, <span class="guilabel">Frequency</span> (in
Hz) and <span class="guilabel">Initial Phase</span> (in degrees) in the edit boxes. The
expression for a sinusoidal velocity component is</p>
<div class="math">
<p><img src="_images/math/6e8c020915807d6d2ff0cbe445d43faf82661d00.png" alt="v = A\sin (2\pi ft + {\varphi _0})"/></p>
</div><p>where:</p>
<ul class="simple">
<li><img class="math" src="_images/math/89ee6ff675182b6882c4204ed78d702d7466508f.png" alt="A" style="vertical-align: 0px"/> is the amplitude,</li>
<li><img class="math" src="_images/math/3daf2576f9b26b234f68a5e23fcd520c09823740.png" alt="f" style="vertical-align: -4px"/> is the frequency, and</li>
<li><img class="math" src="_images/math/2d4882cd934ea8a4b6dd3b2c2df15c7da041b0eb.png" alt="{\varphi _0}" style="vertical-align: -4px"/> is the initial phase.</li>
</ul>
<p>Users can also set limits for displacements of the object’s mass center in
both negative and positive x, y and z directions in the space system, measured
from its initial location. The mass center cannot go beyond these limits but
can move back to the allowed motion range after it reaches a limit. To specify
these limits, open the <span class="guilabel">Motion Constraints</span> tab and in the
<span class="guilabel">Limits for translation</span> area, enter the absolute values of maximum
displacements in the desired coordinate directions. There are no
<span class="guilabel">Limits for rotation</span> for an object with 6-DOF coupled motion.</p>
</div>
<div class="section" id="coupled-fixed-point-motion">
<span id="coupledfixedpointmotionmr"></span><span id="index-206"></span><h6>Coupled Fixed-Point Motion<a class="headerlink" href="#coupled-fixed-point-motion" title="Permalink to this headline">¶</a></h6>
<p>In <span class="menuselection">Model Setup ‣ Geometry ‣ Component (the desired
GMO component) ‣ Component properties ‣ Moving object ‣ Type of Moving Object</span>, select
<span class="guilabel">Coupled motion</span>. Then navigate to <span class="menuselection">Moving Object Properties ‣ Edit ‣ Motion Constraints</span>. Under
<span class="guilabel">Type of Constraint</span>, select
<span class="guilabel">Fixed point rotation</span> in the combo box and enter the x, y and z
coordinates of the fixed point in the corresponding input boxes. The
<span class="guilabel">Limits for rotation</span> and <span class="guilabel">Limits for translation</span> cannot
be set for fixed-point motion.</p>
<p>Definition of the initial velocity for the object is required. Go to the
<span class="guilabel">Initial/Prescribed Velocities</span> tab and enter the x, y and z
components of initial angular velocity (in rad/time) in the boxes for
<span class="guilabel">X Initial Angular velocity</span>, <span class="guilabel">Y Initial Angular velocity</span>
and <span class="guilabel">Z Initial Angular velocity</span>. Their default values are zero.</p>
<p>Further constraints of motion can be imposed to the object to decrease its
number of degrees of freedom. This is done in the <span class="guilabel">Motion
Constraints</span> tab by setting part of its rotational components as prescribed
motion while leaving the others as coupled motion in the combo box for
<span class="guilabel">Translational and rotational options</span>. Note that the rotational
components are in the body system. By default, the prescribed velocity
components are equal to zero. To specify a non-zero velocity component, go to
the Initial/Prescribed Velocities tab. It can be defined as either a
sinusoidal or a piecewise linear function of time by making selection in the
corresponding combo box. For a constant velocity component, choose <span class="guilabel">Non-Sinusoidal</span> and simply enter its value in the input box (the default
value is 0.0). If it is non-sinusoidal time-dependent, click on the
<span class="guilabel">Tabular</span> button to open a data table and enter the values for the
velocity component and time. Alternatively, the user can import a data file
for the velocity component versus time by clicking <span class="menuselection">Tabular ‣
Import values</span>. The file must have two columns of data which represent time
and the angular velocity component from left to right and must have a
<code class="file docutils literal notranslate"><span class="pre">csv</span></code> extension. If the velocity component is a sinusoidal function of
time, enter the values for <span class="guilabel">Amplitude</span>, <span class="guilabel">Frequency</span> (in
Hz) and <span class="guilabel">Initial Phase</span> (in degrees) in the input boxes. The
expression for a sinusoidal velocity component is</p>
<div class="math">
<p><img src="_images/math/d80707986d0567639aa8c269c72f9cbfe4ef783b.png" alt="\omega  = A\sin (2\pi ft + {\varphi _0})"/></p>
</div><p>where:</p>
<ul class="simple">
<li><img class="math" src="_images/math/89ee6ff675182b6882c4204ed78d702d7466508f.png" alt="A" style="vertical-align: 0px"/> is the amplitude,</li>
<li><img class="math" src="_images/math/3daf2576f9b26b234f68a5e23fcd520c09823740.png" alt="f" style="vertical-align: -4px"/> is the frequency, and</li>
<li><img class="math" src="_images/math/2b9ff9ca92a9ed6a66a3d65b5f55d5775351161e.png" alt="\varphi _0" style="vertical-align: -4px"/> is the initial phase.</li>
</ul>
<p>User-prescribed total torque exerting on the object can also be defined. They
are combined with the hydraulic, gravitational, inertial and spring torques to
determine the object’s rotation.</p>
<p>In the <span class="guilabel">Control Forces and Torques</span> tab, choose <span class="guilabel">Define
Total Force</span> and <span class="guilabel">Total Torque</span> in the combo box. Further, select
<span class="guilabel">In Space System</span> or <span class="guilabel">In Body System</span> depending on which
reference system the control torque is define in. If the torque is constant,
it can be simply set in the provided edit box for its x, y and z components.
For a time-dependent control torque, click the <span class="guilabel">Tabular</span> button to
bring up data tables and then enter the values of time and the torque
components. The control torque is treated as a piecewise-linear function of
time. As an option, instead of filling the data table line by line, the user
can also import a data file for the angular velocity versus time by clicking
<span class="menuselection">Tabular ‣ Import Values</span>. The file must have two columns of
data which represent time and velocity from left to right and must have a
<code class="file docutils literal notranslate"><span class="pre">csv</span></code> extension.</p>
</div>
<div class="section" id="coupled-fixed-axis-motion">
<span id="coupledfixedaxismotionmr"></span><span id="index-207"></span><h6>Coupled Fixed-Axis Motion<a class="headerlink" href="#coupled-fixed-axis-motion" title="Permalink to this headline">¶</a></h6>
<p>In <span class="menuselection">Model Setup ‣ Geometry ‣ Component (the desired
GMO component) ‣ Component properties ‣ Moving object ‣ Type of Moving Object</span>, select
<span class="guilabel">Coupled motion</span>. Then navigate to <span class="menuselection">Moving Object Properties ‣ Edit ‣ Motion Constraints</span>. Under
<span class="guilabel">Type of Constraint</span>, select
<span class="guilabel">Fixed X-Axis Rotation</span> or <span class="guilabel">Fixed Y-Axis Rotation</span> or
<span class="guilabel">Fixed Z-Axis Rotation</span> in the combo box depending on which coordinate
axis the rotational axis is parallel to.</p>
<p>Coordinates of the rotational axis need be given in two of the three input boxes
for <span class="guilabel">Fixed Axis/Point X Coordinate</span>, <span class="guilabel">Fixed Axis/Point Y
Coordinate</span> and <span class="guilabel">Fixed Axis/Point Z Coordinate</span>. For example, if the
rotational axis is parallel to the z-axis, then the x and y coordinates for the
rotational axis must be defined. Users can also set limits for the object’s
rotational angle in both positive and negative directions. The rotational angle
(i.e., angular displacement) is a vector and measured from the object’s initial
orientation based on the right-hand rule. Its value is positive if it points to
the positive direction of the coordinate axis which the rotational axis is
parallel to. The object cannot rotate beyond these limits but can rotate back to
the allowed angular range after it reaches a limit. To set the limits for
rotation, in <span class="menuselection">Motion Constraints ‣ Limits for rotation</span>, enter
the maximum rotational allowed in negative and positive directions in the
corresponding input boxes, using absolute values in degrees. By default, these
values are infinite.</p>
<p>A definition of the initial angular velocity for the object is required. In the
<span class="guilabel">Initial/Prescribed Velocities</span> tab, enter the initial angular
velocity (in radians per time) in x, y or z direction in the corresponding input
box in the <span class="guilabel">Angular velocity components</span> area, depending on the
orientation of the rotational axis. The default value is zero.</p>
<p>User-prescribed total torque exerting on the object can be defined. They are
combined with the hydraulic, gravitational, inertial and spring torques to
determine the object’s rotation. In the <span class="guilabel">Control Forces and Torques</span>
tab, choose <span class="guilabel">Define Total Force and Total Torque</span> in the combo box.
If the torque is constant, it can be simply set in the provided edit box for
x, y or z component of the torque, depending on direction of the coordinate
axis which the rotational axis is parallel to. For a time-dependent control
torque, click the corresponding <span class="guilabel">Tabular</span> button to bring up a data
table and then enter the values of time and the torque. The control torque is
treated as a piecewise-linear function of time in computation. As an option,
instead of filling the data table line by line, the user can also import a
data file for the torque versus time by clicking <span class="menuselection">Tabular ‣
Import Values</span>. The file must have two columns of data which represent time
and torque from left to right and must have a <code class="file docutils literal notranslate"><span class="pre">csv</span></code> extension. The
torque about the fixed axis is the same in the space and body systems, thus
the choice of <span class="guilabel">In space system</span> or <span class="guilabel">In body system</span>
options makes no difference to the computation. User-prescribed total control
force and multiple forces are not allowed for the fixed-axis motion.</p>
<blockquote>
<div><img alt="Moving Object Setup - Control Forces and Torques - Define Total Force and Total Torque - Space System" src="_images/gmo-basics-controled-forces-torques-moving-object-setup.png" />
</div></blockquote>
</div>
</div>
<div class="section" id="step-4-specify-the-gmo-s-mass-properties">
<span id="step4specifygmomassproperties"></span><span id="index-208"></span><h5>Step 4: Specify the GMO’s Mass Properties<a class="headerlink" href="#step-4-specify-the-gmo-s-mass-properties" title="Permalink to this headline">¶</a></h5>
<p>Definition of the mass properties is required for any moving object with
coupled motion and is optional for objects with prescribed motion. If the mass
properties are provided for a prescribed-motion object, the solver will
calculate and output the residual control force and torque, which complement
the gravitational, hydraulic, spring, inertial and user-prescribed control
forces and torques to maintain the prescribed motion. To specify the mass
properties, click on <span class="guilabel">Mass Properties</span> to open the dialog window.
Two options are available for the mass properties definition: provide mass
density or the integrated mass properties including the total mass, mass
center and the moment of inertia tensor.</p>
<blockquote>
<div><img alt="Moving Object Setup - Define density" src="_images/gmo-basics-mass-properties-moving-object-setup.png" />
</div></blockquote>
<p>The option to provide mass density is convenient if the object has a uniform
density or all its subcomponents have uniform densities. In this case, the
preprocessor will calculate the integrated mass properties for the object. In
the <span class="guilabel">Mass Properties</span> tab, select <span class="guilabel">Define Density</span> in the
combo box and enter the density value in the <span class="guilabel">Mass Density</span> input
box. By default, each subcomponent of the object takes this value as its own
mass density. If a subcomponent has a different density, define it under that
subcomponent in the geometry widget, <span class="menuselection">Geometry ‣ Component ‣
Subcomponent (the desired component) ‣ Mass Density</span>.</p>
<p>The option to provide integrated mass properties is useful if the object’s mass,
mass center and moment of inertia tensor are known parameters regardless of
whether the object’s density is uniform or not. In the <span class="guilabel">Mass
Properties</span> tab, choose <span class="guilabel">Define Integrated Mass Properties</span> in the
combo box and enter the following parameters in the input boxes depending on the
type of motion:</p>
<ul class="simple">
<li>Total mass, initial mass center location (at t=0) and moment of inertia tensor about mass center for 6-DOF and fixed-point motion types;</li>
<li>Total mass, initial mass center location (at t=0) and moment of inertia about fixed axis for fixed-axis motion type.</li>
</ul>
</div>
<div class="section" id="transformation-of-gmo-properties">
<span id="propertiestransformation"></span><h5>Transformation of GMO Properties<a class="headerlink" href="#transformation-of-gmo-properties" title="Permalink to this headline">¶</a></h5>
<p>Similarly to a regular stationary component, component transformations can be applied to a GMO
component during its initial geometry setup following the order of magnification, rotations
(first in x, then y, and then z, in degrees) and translations. Magnification and rotations are made
about a user-defined transformation center with its default location at the origin of the space
coordinate system. Component transformations are independent of the subcomponent transformations
and are applied after all its subcomponent transformations are complete.</p>
<blockquote>
<div><img alt="_images/GMO_transform.png" src="_images/GMO_transform.png" />
</div></blockquote>
<p>As an option, the component transformations can be applied to the body-fixed coordinate system of the GMO,
which otherwise is initially the same as the space coordinate sdystem. Certain GMO properties are defined
in the body system, such as:</p>
<p>1.  Motion constraints, including fixed-point location (for fixed-point motion) and fixed-axis
location (for fixed axis rotations). Note the fixed axis <em>direction</em> is <em>not</em> affected by component
transformation.</p>
<p>2.  Mass properties. If mass density is the specified mass property, it does not change with
component transformation. BUt if integrated mass properties are used, then the total mass,
mass center location, moment of inertia tensor, and moment-of-inertia about fixed axis can change
with component transformations. Mass is proportional to GMO volume, and moment-of-inertia are
proportional to mass and square of length during the transformation.</p>
<p>The moment-of-intertia tensor is defined in the GMO body system, therefore, depends on its orientation.</p>
<p>3.  Initial and prescribed velocities. The initial location of reference point and direction of
translational velocity are transformed with component transformation.</p>
<ol class="arabic simple" start="4">
<li>Prescribed rotational velocities since they are always defined in the body system.</li>
<li>Control force and torque, if defined in the GMO body system.</li>
</ol>
<p>Applying component transformations to the GMO’s body-fixed coordinate system can provide a convenient way of
defining its properties and analysing the output. Imagine running a series of simulations of flow around a
boat at different drift angles. If this is modeled in a coordinate system in which the boat’s horizontal
velocity is zero, then the initial location of the GMO can be such that it’s main axes coincide with those
of the space system. In that case the moment-of-inertia tensor, which is always defined in the body system,
is easily defined. Now component transformations can be defined to place the boat to the desired orientation.
If those transformations are also applied to the GMO’s body system, then the moment-of-interia tensor does not have
to be changed. The same applies to any other attributes - forces, for example, - defined in the GMO’s body system.
Furthermore, the output quantities computed in the body system, <em>e.g.</em>, angular velocities, forces and torque (see below),
are easer to interprete
as they will be computed relative to the boat’s main symmetry axes, irrespective of the drift angle.</p>
</div>
<div class="section" id="output">
<span id="step4output"></span><h5>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h5>
<p>For each GMO component, the solver outputs time variations of several solution
variables that characterize the object’s motion. These variables can be
accessed during post-processing in the <span class="guilabel">General history</span> data
catalog and can be viewed either graphically or in a text format. For
both prescribed and coupled types of motion with the mass properties provided,
the user can find the following variables:</p>
<ol class="arabic simple">
<li>Mass center coordinates in space system</li>
<li>Mass center velocity in space system</li>
<li>Angular velocity in body system</li>
<li>Hydraulic force in space system</li>
<li>Hydraulic torque in body system</li>
<li>Combined kinetic energy of translation and rotation</li>
</ol>
<p>There will be no output for items 1, 2 and 6 for any prescribed-motion GMO if
the mass properties are not provided. Additional output of history data include:</p>
<ul class="simple">
<li>Location and velocity of the reference point for a prescribed 6-DOF motion</li>
<li>Rotational angle for a fixed-axis motion</li>
<li>Residual control force and torque in both space and body systems for any prescribed motion and a coupled motion with constraints (fixed axis, fixed point and prescribed velocity components)</li>
<li>Spring force/torque and deformation</li>
<li>Mooring line extension and maximum tension force</li>
<li>Mooring line tension forces at two ends in the x, y and z directions</li>
</ul>
<p>As an option, the history data for a GMO with 6-DOF motion can also include
the buoyancy center and the metacentric heights for rotations about x and y
axes of the space system, which is useful for stability analysis of a floating
object. Go to <span class="menuselection">Output ‣ Geometry data</span> and check the respective box for
<span class="guilabel">Buoyancy Center and Metacentric Height</span> for any component of interest.
The buoyancy center is defined as the mass center of the
fluid displaced by the object. The metacentric height (GM) is the distance
from the gravitational center (point G) to the metacenter (point M). It is
positive (negative) if point G is below (above) M.</p>
<p>GMO components can participate in heat transfer just like any stationary solid
component. When defining specific heat of a GMO component,
<span class="menuselection">Component properties ‣ Solid Properties ‣ Density*Specific
Heat</span> must be given.</p>
<p>Two options are available when defining heat sources for a GMO component: use
the specific heat flux, or the total power. When the total power is used, the
heat fluxes along the open surface of the moving object are adjusted at every
time step to maintain a constant total power. If the surface area varies
significantly with time, so will the heat fluxes. When the specific heat is used
instead, then the fluxes will be constant, but the total power may vary as the
surface area changes during the object’s motion. To define heat source for a GMO
component, go to <span class="menuselection">Component porperties ‣ Solid Properties ‣
Heat Source type ‣ Total amount or Specific amount</span>.</p>
<p>Mass sources/sinks can also be defined on the open surfaces of a GMO component.
Details can be found in <a class="reference internal" href="#masssourcesmr"><span class="std std-ref">Mass Sources</span></a>.</p>
<p>Although the GMO model can be used with most physical models and numerical
options, limitations exist. <strong>To use the model properly, it is noted that</strong></p>
<ul class="simple">
<li>For coupled motion, the explicit and implicit GMO methods perform differently.
The implicit GMO method works for both heavy and light moving objects. The
explicit GMO method, however, only works for heavy object problems (i.e.,
the density of moving object is higher than the fluid density).</li>
<li>When the explicit GMO method is used, solution for fully coupled moving
objects may become unstable if the added mass of the fluid surrounding the
object exceeds the object’s mass.</li>
<li>If there are no GMO components with coupled motion, then the implicit and
explicit methods are identical and the choice of one makes no difference
to the computational results.</li>
<li>The implicit method does not necessarily take more CPU time than the explicit
method, even though the former required more computational work, because it
improves numerical stability and convergence, and allows for larger time
step. It is thus recommended for all GMO problems.</li>
<li>It is recommended that the limited compressibility be specified in the fluid
properties to improve numerical stability by reducing pressure fluctuations in the fluid.</li>
<li>In the simulation result, fluctuations of hydraulic force may exist due to numerical
reasons. To reduce these fluctuations, the user can set <span class="guilabel">No
f-packing</span> for free-surface problems in <span class="menuselection">Numerics ‣ Volume
of fluid advection ‣ Advanced options</span> and set <span class="guilabel">FAVOR
tolerance</span> to 0.0001 in
<span class="menuselection">Numerics ‣ Time-step controls ‣ Advanced Options ‣ Stability enhancement</span>.
It is noted that an unnecessarily small FAVOR<sup>TM</sup>
tolerance factor can cause small time steps and slow down the computation.</li>
<li>In order to calculate the fluid force on a moving object accurately, the
computational mesh needs to be reasonably fine in every part of the domain
where the moving object is expected to be in contact with fluid.</li>
<li>An object can move completely outside the computational domain during a
computation. When this happens, the hydraulic forces and torques vanish, but
the object still moves under actions of gravitational, spring, inertial and
control forces and torques. For example, an object experiences free fall
outside the domain under the gravitational force in the absence of all other
forces and torques.</li>
<li>If mass density is given, then the moving object must initially be placed completely
within the computational domain and the mesh around it should be reasonably fine so
that its integrated mass properties (the total mass, mass center and moment of
inertia tensor) can be calculated accurately by the code.</li>
<li>If a moving object is composed of multiple subcomponents, they should have overlap
in places of contact so that no unphysical gaps are created during motion when the
original geometry is converted to area and volume fractions. If different subcomponents
are given with different mass densities, this overlap should be small to avoid big
errors in mass property calculation.</li>
<li>A moving object cannot be of a phantom component type like lost foam or a deforming object.</li>
<li>The GMO model works with the electric field model the same way as the stationary
objects, but no additional forces associated with electrical field are computed for moving objects.</li>
<li>If a GMO is porous, light in density and high in porous media drag coefficients, then the
simulation may experience convergence difficulties.</li>
<li>A Courant-type stability criterion is used to calculate the maximum allowed time-step
size for GMO components. The stability limit ensures that the object does
not move more than one computational cell in a single time step for accuracy
and stability of the solution. Thus the time step is also limited by the
speed of the moving objects during computation.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>Time-Saving Tip:  For prescribed motion, users can preview the object motion in a so-called
“dry run” prior to the full flow simulation. To do so, simply remove all
fluid from the computational domain to allow for faster execution. Upon the
completion of the simulation the motion of the GMO objects can be previewed
by post-processing the results.</li>
<li>The residual forces (and torques) are computed for the directions in which the motion of
the object is prescribed/constrained.  They are defined as the difference
between the total force on an object (computed from the prescribed
mass*acceleration) and the computed forces on the object from pressure,
shear, gravity, specified control forces, etc.  As such, they
represent the force required to move the object as prescribed.</li>
</ul>
</div>
<span class="target" id="index-209"></span></div>
</div>
<div class="section" id="collision">
<span id="gmocollisionmr"></span><span id="index-210"></span><h4>Collision<a class="headerlink" href="#collision" title="Permalink to this headline">¶</a></h4>
<p>The GMO model allows users to have multiple moving objects in one problem, and
each of them can possess independent type of coupled or prescribed motion. At
any moment of time, each object under coupled motion can collide with any other
moving objects (of a coupled- or prescribed-motion type), non-moving objects as
well as wall- and symmetry-type mesh boundaries. Without the collision model,
objects may penetrate and overlap each other.</p>
<blockquote>
<div><img alt="Moving and simple deforming objects" src="_images/gmo-moving-and-simple-deforming-objects.png" />
</div></blockquote>
<p>The GMO collision model is activated by selecting <span class="menuselection">Physics ‣
Moving and simple deforming objects ‣ Activate collision model</span>. It requires
the activation of the GMO model first, done in the same panel. For a GMO
problem with only prescribed-motion objects, it is noted that the collision
model has no effect on the computation: inter-penetration of the objects can
still happen.</p>
<p>The model allows each individual collision to be fully elastic, completely
plastic, or partially elastic, depending on the value of Stronge’s energetic
restitution coefficient, which is an input parameter. In general, a collision
experiences two phases: compression and restitution, which are associated with
loss and recovery of kinetic energy. The Stronge’s restitution coefficient is
a measure of kinetic energy recovery in the restitution phase. It depends on
the material, surface geometry and impact velocity of the colliding objects.
The range of its values is from zero to one. The value of one corresponds to a
fully elastic collision, i.e., all kinetic energy lost in the compression is
recovered in the restitution (if the collision is frictionless). Conversely, a
zero restitution coefficient means a fully plastic collision, that is, there
is no restitution phase after compression thus recovery of the kinetic energy
cannot occur. A rough estimate of the restitution coefficient can be conducted
through a simple experiment. Drop a sphere from height <img class="math" src="_images/math/e1e02733174b5a3b8383f98ba4903d611512d463.png" alt="h_0" style="vertical-align: -3px"/> onto a
level anvil made of the same material and measure the rebound height
<img class="math" src="_images/math/287f8adc72babf3e4b81f4266f4392176081a8bd.png" alt="h" style="vertical-align: 0px"/>. The restitution coefficient can be obtained as <img class="math" src="_images/math/b957a38f8c96eed613004300f1a26a49c36d52b0.png" alt="\sqrt{^h/_{h_0}}" style="vertical-align: -5px"/>.
In this model, the restitution coefficient is an object-specific
constant. A global value of the restitution coefficient that applies to all
moving and non-moving objects is set in
<span class="menuselection">Physics ‣ Moving and simple deforming objects ‣ Coefficient of restitution</span>.</p>
<p>Friction can be included at the contact point of each pair of colliding bodies
by defining the Coulomb’s friction coefficient. A global value of the friction
coefficient that applies to all collisions is set in <span class="menuselection">Physics ‣
Moving and simple deforming objects ‣ Coefficient of friction</span>. Friction forces apply when
the friction coefficient is positive; a collision is frictionless for the zero
value of the friction coefficient, which is the default. The existence of
friction in a collision always causes a loss of kinetic energy.</p>
<p>The global values of the restitution and friction coefficients are also used
in the collisions at the wall-type mesh boundaries, while collisions of the
moving objects with the symmetry mesh boundaries are always fully elastic and
frictionless.</p>
<blockquote>
<div><a class="reference internal image-reference" href="_images/gmo-collision-geometry.png"><img alt="GMO collision - Geometry tree" src="_images/gmo-collision-geometry.png" style="height: 100px;" /></a>
</div></blockquote>
<p>The object-specific values for the restitution and friction coefficients are
defined in the <span class="menuselection">Model Setup ‣ Geometry</span> widget. In the
geometry list on the left, click on <span class="menuselection">Geometry ‣ Component
(the desired component) ‣ Component properties ‣ Collision Properties</span> and
then enter their values in the corresponding data boxes. If an impact occurs
between two objects with different values of restitution coefficients, the
smaller value is used in that collision calculation. The same is true for the
friction coefficient.</p>
<p>Continuous contact, including sliding, rolling and resting of an object on top of another object,
is simulated through a series of small-amplitude collisions, called
micro-collisions. Micro-collisions are calculated in the same way as the ordinary
collisions thus no additional parameters are needed. The amplitude of the
micro-collisions is usually small and negligible. In case the collision strength
is obvious in continuous contact, using smaller time step may reduce the
collision amplitude.</p>
<p>If the collision model is activated but the user needs two specific objects to
have no collision throughout the computation, he can open the text editor (<span class="menuselection">File ‣ Edit Simulation</span>) and set <span class="target" id="index-211"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">ICLIDOB</span></code>(<em>m</em>,<em>n</em>) = 0 in namelist OBS, where <em>m</em> and <em>n</em> are the corresponding component
indexes. An example of such a case is when an object (component index <em>m</em>)
rotates about a pivot - another object (component index <em>n</em>). If the former
has a fixed-axis motion type, then calculating the collisions with the pivot
is not necessary. Moreover, ignoring these collisions makes the computation
more accurate and more efficient. If no collisions between a GMO component <em>m</em>
with all other objects and mesh boundaries are desired, then set
<span class="target" id="index-212"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">ICLIDOB</span></code>(<em>m</em>,<em>m</em>) to be zero. By default, <span class="target" id="index-213"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">ICLIDOB</span></code>(<em>m</em>,<em>n</em>) = 1 and <span class="target" id="index-214"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">ICLIDOB</span></code>(<em>m</em>,<em>m</em>) = 1, which means collision is allowed.</p>
<p>To use the model properly, users should be noted that</p>
<ul class="simple">
<li>The collision model is based on the impact theory for two colliding
objects with one contact point. If multiple contact points exist for two colliding objects
(e.g. surface contact) or one object has simultaneous contact with more than one objects,
object overlap may and may not occur if the model is used, varying from case to case.</li>
<li>To use the model, one of the two colliding object must be under coupled motion, and the other
can have coupled or prescribed motion or no motion. The coupled motion can be 6-DOF motion,
translation, fixed-axis rotation or fixed-point rotation. For other constrained motion,
(e.g., rotation is coupled in one direction but prescribed in another direction), the
model is not valid, and mechanical energy of the colliding objects may have conservation problem.</li>
<li>The model works with and without existence of fluid in the
computational domain. It is required, however, that the contact point for a
collision be within the computational domain, whereas the colliding bodies can
be partially outside the domain at the moment of the collision. If two objects
are completely outside the domain, their collision is not detected although
their motions are still tracked.</li>
<li>Collisions are not calculated between a baffle
and a moving object: they can overlap when they contact.</li>
<li>The model does not calculate impact force and collision time. Instead, it calculates
impulse that is the product of the two quantities.  Therefore,
there is no output of impact force and collision time.</li>
</ul>
<span class="target" id="index-215"></span><span class="target" id="index-216"></span><span class="target" id="index-217"></span></div>
<div class="section" id="pq2-analysis">
<span id="pq2analysismr"></span><span id="index-218"></span><h4>PQ<sup>2</sup> Analysis<a class="headerlink" href="#pq2-analysis" title="Permalink to this headline">¶</a></h4>
<p>PQ<sup>2</sup> analysis is important for high pressure die casting. The goal of
the PQ<sup>2</sup> analysis is to optimally match the die’s designed gating
system to the part requirements and the machine’s capability. PQ<sup>2</sup>
diagram is the basic tool used for PQ<sup>2</sup> analysis.</p>
<p>According to the Bernoulli’s equation, the metal pressure at the gate is
proportional to the flow rate squared:</p>
<div class="math" id="equation-pq2-bernoulli">
<p><span class="eqno">(5)<a class="headerlink" href="#equation-pq2-bernoulli" title="Permalink to this equation">¶</a></span><img src="_images/math/e6ede743fbc4313b4153dbba9e95e637a7958659.png" alt="P \sim Q^2"/></p>
</div><p>where:</p>
<ul class="simple">
<li><img class="math" src="_images/math/c019589f6059cfe1c389d07bb5414a16dae4f3c5.png" alt="P" style="vertical-align: 0px"/> is the metal pressure at the gate, and</li>
<li><img class="math" src="_images/math/ffe9616beb8c7daa27d7ba6f96e0d38f980e3ef9.png" alt="Q" style="vertical-align: -4px"/> is the metal flow rate at the gate.</li>
</ul>
<p>The machine performance line follows the same relationship.</p>
<p>Based on the die resistance, machine performance, and the part requirements,
an operating windows can be determined from the PQ<sup>2</sup> diagram, as shown
below. The die and the machine has to operate within the operating windows.</p>
<blockquote>
<div><img alt="PQ2-analysis-PQ2-diagram" src="_images/pq2-diagram.png" />
</div></blockquote>
<div class="section" id="index-219">
<span id="id3"></span><h5>Model Setup<a class="headerlink" href="#index-219" title="Permalink to this headline">¶</a></h5>
<p>PQ<sup>2</sup> analysis can only be performed on moving object with prescribed
motion. The PQ<sup>2</sup> analysis can be activated in <span class="menuselection">Model Setup ‣
Geometry ‣ Component (the desired component) ‣ Component properties ‣ Moving Object</span>. PQ<sup>2</sup> analysis
can only be performed on one component.</p>
<blockquote>
<div><img alt="PQ2-analysis-model-setup" src="_images/pq2-model-setup.png" />
</div></blockquote>
<p>The parameters <span class="guilabel">Maximum pressure</span> and <span class="guilabel">Maximum flow rate</span>
define the machine performance line.</p>
<p>During the design stage, the process parameters specified might not optimal,
such that the resulting pressure is beyond the machine capability. If this
happens, the option <span class="guilabel">Adjust velocity</span> can be selected so that the
piston velocity is automatically adjusted to match the machine capability. If
<span class="guilabel">Adjust velocity</span> is selected, at every time step the pressure at
the piston head will be compared with the machine performance pressure to see
if it is beyond the machine capability. If it is beyond the machine
capability, the flow rate is then reduced to match the machine capability. The
reduction is instantaneous and no machine inertia is considered. Once the
pressure drops below the machine performance line, the piston will then
accelerate to the prescribed velocity. The acceleration has to be less than
the machine <span class="guilabel">Maximum acceleration</span> specified.</p>
<p>If <span class="guilabel">Adjust velocity</span> is selected, the machine parameters
<span class="guilabel">Maximum pressure</span> and <span class="guilabel">Maximum flow rate</span> have to be
provided. The <span class="guilabel">Maximum acceleration</span> is also required, however, it
is by default to be infinite if not provided.</p>
<p>For high pressure die casting, the fast shot stage is very short. But it is
this stage that is of interest. The pressure and flow rate are written as
general history data. The data output interval has to be very small to capture
all the features in this stage. To reduce FLSGRF file size, only when flow
rate reaches <span class="guilabel">Minimum flow rate</span>, the history data output interval
is reduced to every two time steps. If <span class="guilabel">Minimum flow rate</span> is not
provided, it is default to 1/3 of the <span class="guilabel">Maximum flow rate</span>. Note that
the only purpose of <span class="guilabel">Minimum flow rate</span> is to change the history
data output frequency.</p>
<p>Due to the limitation of the FAVOR<sup>TM</sup>, the piston head area computed may
fluctuate as piston pushing through the shot sleeve. As a result, the metal
flow rate computed may also fluctuate. To reduce the fluctuation,
<span class="guilabel">Shot sleeve diameter</span> is recommended to be provided, so that it can
be used to correct the metal flow rate. If only half of the domain is modeled,
the diameter needs to be scaled to reflect the real cross section area in the
simulation.</p>
</div>
<div class="section" id="index-220">
<span id="id4"></span><h5>Post-processing<a class="headerlink" href="#index-220" title="Permalink to this headline">¶</a></h5>
<p>If PQ<sup>2</sup> analysis is chosen, the pressure, flow rate, and prescribed
velocity of the specified moving object will be written to <code class="file docutils literal notranslate"><span class="pre">FLSGRF</span></code> file
as <span class="guilabel">General history</span> data. If <span class="guilabel">Adjust velocity</span> is
selected, the adjusted velocity will also be written as <span class="guilabel">General
history</span> data. In addition, the PQ<sup>2</sup> diagram can be drawn directly from the
history data in FlowSight.</p>
<blockquote>
<div><img alt="PQ2-post-processing" src="_images/pq2-post.png" />
</div></blockquote>
</div>
</div>
<div class="section" id="simple-deforming-objects">
<span id="simpledeformingmr"></span><h4>Simple Deforming Objects<a class="headerlink" href="#simple-deforming-objects" title="Permalink to this headline">¶</a></h4>
<span class="target" id="index-221"></span><div class="section" id="elastic-membrane">
<span id="elasticmembranemr"></span><span id="index-222"></span><h5>Elastic Membrane<a class="headerlink" href="#elastic-membrane" title="Permalink to this headline">¶</a></h5>
<p>Piezoelectric membranes are commonly used in inkjet printers to generate a pulse
of pressure to eject a droplet of ink out of a nozzle. Another application of
the model is in small pumps without moving parts other than an oscillating membrane.</p>
<p>The elastic membrane model simulates deformation of an elastic membrane in
response to external hydraulic and actuator forces, where <em>elastic membrane</em>
refers to a rectangular or circular thin plate with uniform thickness and
material properties. The edges of the membrane can be either simply supported
or clamped, and the membrane must be oriented perpendicular to x, y, or
z-axis.</p>
<p>A membrane is created as a regular geometry component with subcomponent(s)
defined by primitive(s) or STL file(s) allowed by <span class="raw-html"><strong><em>FLOW-3D </em></strong></span>. The shape and
dimensions of the component do not have to exactly correspond to those of the
actual membrane, which are defined separately.  However, the membrane
definition must overlap with the component definition. For example, the
extents of the component can be made larger to overlap with the surrounding
components to prevent potential leaks in their connect regions. The thickness
of the component can also be larger than the actual membrane thickness to
allow it to be resolved in the mesh. Multiple membranes can be defined with
different geometries, locations, orientations and properties. The model is
compatible with most other models, (e.g., heat transfer across the membranes
is allowed), though an elastic membrane cannot be a porous medium or a moving
object. If a moving object collides on a membrane, the latter is treated as a
non-moving rigid object in the collision simulation.</p>
<p>A normal force (the <span class="guilabel">Actuator force</span>) can be applied on an area
centered on the membrane. This user-prescribed force can be defined as a
piecewise linear function of time using the tabular input or can be given as a
sinusoidal function of time.  In either case, the actuator force is uniformly
distributed over a user-specified <span class="guilabel">Force distribution area</span> which
has the same shape as the membrane, (e.g., rectangular or circular). If the
<span class="guilabel">Force distribution area</span> is set to zero, then the actuator force is
reduced to a concentrated force at the membrane center.  The following
equation is used when the force is specified as a sinusoidal  function of time:</p>
<div class="math">
<p><img src="_images/math/3c3a79cc839ed52cac7c0590727ddc7d4fe9f1b5.png" alt="F = {A_f}\sin \left( {2\pi \,f\,t + {\varphi_0}} \right)"/></p>
</div><p>where:</p>
<ul class="simple">
<li><img class="math" src="_images/math/d59b7cc086cf6a4c9a0e8246bfbbd29d4467a990.png" alt="F" style="vertical-align: 0px"/> is the actuator force,</li>
<li><img class="math" src="_images/math/90a14703d67f312697f36bff6dd6d672992045ff.png" alt="{A_f}" style="vertical-align: -6px"/> is the amplitude,</li>
<li><img class="math" src="_images/math/3daf2576f9b26b234f68a5e23fcd520c09823740.png" alt="f" style="vertical-align: -4px"/> is the frequency, and</li>
<li><img class="math" src="_images/math/6d74bf80fe0bba493a304e53c53d9ad1b9f1683e.png" alt="{\varphi_0}" style="vertical-align: -4px"/> is the initial phase.</li>
</ul>
<p>To activate the elastic membrane model, open <span class="menuselection">Model Setup ‣
Physics ‣ Moving and simple deforming objects</span> and select
<span class="guilabel">Activate elastic membrane and wall model</span>.</p>
<blockquote>
<div><img alt="Elastic Membrane" src="_images/elastic-membrane.png" />
</div></blockquote>
<p>Once the component representing the membrane has been created, go to
<span class="menuselection">Model Setup ‣ Geometry ‣ Component (desired component) ‣ Component properties ‣ Simple Deforming Object</span>
and choose the <span class="guilabel">Type of
Simple Deforming Object</span> as either <span class="guilabel">Rectangular Membrane</span> or
<span class="guilabel">Circular Membrane</span>. At the <span class="menuselection">Deforming Object Properties</span> and click the <span class="guilabel">Edit</span> button to bring up
the <span class="guilabel">Membrane Setup</span> window with <span class="guilabel">Membrane dimensions</span>,
<span class="guilabel">Material properties</span> and <span class="guilabel">Actuator force and Reference
Pressure</span> tabs.</p>
<blockquote>
<div><img alt="Elastic membrane properties" src="_images/elastic-membrane-properties.png" />
</div></blockquote>
<p>The <span class="guilabel">Membrane dimensions</span> tab contains the inputs for defining the
size, orientation, location and edge constraint for the membrane, since these
parameters are <strong>not</strong> defined by the component definition.  Choose the
orientation of the membrane  (e.g., <span class="guilabel">Normal in X-direction</span>) and the
edge constraint  (e.g., <span class="guilabel">Clamped edges</span>), then define the membrane
center location using the <span class="guilabel">Coordinates of Membrane Center</span> input.
Under <span class="guilabel">Membrane size</span>, input the membrane’s linear dimensions (for
rectangular membrane) or radius (for circular membrane) and thickness. As
noted above, these dimensions are about the actual size of the membrane and do
not have to correspond exactly to the dimensions of the component that is used
to define the membrane. For example, the component may represent the whole
assembly of a printer nozzle. The dimensions and the location of the membrane
can then define the part of this assembly that actually deforms. In any case,
the properties of the membrane defined in this tab are used by the model to
compute the deflections. Deflections will be zero for the part of the
component which is outside the membrane dimensions.</p>
<blockquote>
<div><img alt="Membrane setup" src="_images/membrane-setup.png" />
</div></blockquote>
<p>The mass density, Poisson’s ratio, and Young’s modulus of the membrane need to be
specified in the <span class="guilabel">Material properties</span> tab in the corresponding
input boxes.</p>
<p>The actuator data is specified on the <span class="guilabel">Actuator force</span> tab in the
window. In <span class="guilabel">Force distribution</span> area, insert the linear dimensions
(for rectangular membrane) or radius (for circular membrane) of the actuator
force area in the corresponding input boxes. To define a concentrated actuator
force at the membrane center instead, type zero for the area. In
<span class="guilabel">Force-time function</span>, select <span class="guilabel">Sinusoidal</span> and input the amplitude,
frequency (in Hertz) and initial phase (in degrees) of the force.
Alternatively, select <span class="menuselection">Tabular ‣ Edit</span> and fill the table
with data for a piecewise linear function for the force. A time-dependent actuator force
may also be imported from a data file with a <code class="file docutils literal notranslate"><span class="pre">csv</span></code> extension by clicking
on <span class="guilabel">Import Values</span> and loading the file.
The file must have two columns of data which represent time and force from
left to right.</p>
<blockquote>
<div><img alt="Membrane setup, Component 2" src="_images/membrane-setup-component-2.png" />
</div></blockquote>
<p>Users may need to input the <span class="guilabel">Reference pressure</span> in the <span class="guilabel">Pressure force</span> tab depending on the
simulation case. The reference pressure represents the ambient pressure on the
membrane surfaces that are blocked by other components or are located outside
the domain. It is the fluid pressure at which the membrane has no deformation.
If both sides of the membrane are open (i.e., not blocked by any other
components) and are inside the computational domain, the reference pressure is
not necessary and has no effect on the simulation. By default, the reference
pressure is equal to the initial void pressure specified by <span class="target" id="index-223"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PVOID</span></code>. Users can also choose
<span class="guilabel">Code calculated</span>, in which case the reference pressure is calculated by the code as
the averaged fluid pressure on the membrane.</p>
<p>By default, fluid pressure force on membrane surfaces is considered to determine the membrane’s motion. If users decide to ignore the pressure force, in the <span class="guilabel">Pressure force</span> tab,
select <span class="menuselection">Fluid pressure force‣ Ignored on membrane</span>.</p>
<blockquote>
<div><img alt="Membrane setup, Component 3" src="_images/membrane-setup-component-3.png" />
</div></blockquote>
<p>In the <code class="file docutils literal notranslate"><span class="pre">flsgrf.*</span></code> file the membrane deflection is included as spatial
data. Its contours can be shown in 2D and 3D plots. Deflection of the membrane
center, where it is the largest, is included in the general history data and
can be viewed in both text and graphical formats. A positive/negative value of
the membrane deflection means that the deflection is in the positive/negative direction
of the coordinate axis to which the membrane is perpendicular. Note that the
geometry does not actually change in the mesh as the membrane deforms, in
accordance with the assumption that the deformations are small compared to the
size of the membrane.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"> Theory manual section <a class="reference internal" href="theory.html#elasticmembraneandelasticwallmodelth"><span class="std std-ref">Elastic Membrane and Elastic Wall Model</span></a></p>
</div>
<span class="target" id="index-224"></span></div>
<div class="section" id="elastic-wall">
<span id="elasticwallmr"></span><span id="index-225"></span><h5>Elastic Wall<a class="headerlink" href="#elastic-wall" title="Permalink to this headline">¶</a></h5>
<p>The elastic wall model simulates deflection of elastic walls under pressure
from surrounding fluid. An elastic wall is a geometry component of arbitrary
shape, and its deflection at any point on the surface is in the direction
normal to the surface and proportional to the hydraulic pressure, namely:</p>
<div class="math">
<p><img src="_images/math/77ed10e60a837b6f8df76a883d1b3dca25f4bee7.png" alt="w =  - \frac{(P - P_{ref})}{K}"/></p>
</div><p>where:</p>
<ul class="simple">
<li><img class="math" src="_images/math/63b261498f1ce77b5d3bb714fc972594cf790948.png" alt="w" style="vertical-align: 0px"/> is the local deflection and is defined positive in the direction of the outer surface normal,</li>
<li><img class="math" src="_images/math/c019589f6059cfe1c389d07bb5414a16dae4f3c5.png" alt="P" style="vertical-align: 0px"/> is the adjacent fluid pressure,</li>
<li><img class="math" src="_images/math/8fd29f5942995f7a366eb6dcd0fe6e557e1dc520.png" alt="{P_{ref}}" style="vertical-align: -6px"/> is a reference pressure,</li>
<li><img class="math" src="_images/math/1f95110560cf9695123aef81c197fb7715dfe919.png" alt="K" style="vertical-align: 0px"/> is the stiffness coefficient per unit area.</li>
</ul>
<p>At the reference pressure, an elastic wall has no deflection. For the
selection of the value for <img class="math" src="_images/math/1f95110560cf9695123aef81c197fb7715dfe919.png" alt="K" style="vertical-align: 0px"/>, please refer to the <a class="reference internal" href="theory.html"><span class="doc">Theory</span></a> chapter
(<a class="reference internal" href="theory.html#elasticwalltheoryth"><span class="std std-ref">Elastic Wall</span></a>). The model allows for multiple elastic wall
components with independent properties. Deflections are assumed to be small
compared to the mesh size. If the local deflection is comparable to the local
cell size, the validity of the model may be adversely affected.</p>
<blockquote>
<div><img alt="Elastic wall" src="_images/elastic-wall.png" />
</div></blockquote>
<p>To activate the elastic wall model, open <span class="menuselection">Model Setup ‣
Physics ‣ Moving and simple deforming objects</span> and select
<span class="guilabel">Activate elastic membrane and wall model</span>.</p>
<blockquote>
<div><img alt="Elastic wall properties" src="_images/elastic-wall-properties.png" />
</div></blockquote>
<p>An elastic wall component can consist of one or more subcomponents and can be
completely or partially inside the computational domain. Once the component
representing the elastic wall has been created, go to
<span class="menuselection">Model Setup ‣ Geometry ‣ Component (desired component) ‣ Component properties ‣ Simple Deforming Object</span>
and choose the <span class="guilabel">Type of Simple Deforming Object</span> as <span class="guilabel">Rectangular Membrane</span> or <span class="guilabel">Elastic Wall</span>. In the
<span class="menuselection">Deforming Object Properties</span> and click the
<span class="guilabel">Edit</span> button to bring up the <span class="guilabel">Elastic wall setup</span> window.
Insert values for the <span class="guilabel">Stiffness coefficient per unit area</span> and the
<span class="guilabel">Reference pressure</span> and click <span class="guilabel">OK</span> to close the window.</p>
<blockquote>
<div><img alt="Elastic wall setup" src="_images/elastic-wall-setup.png" />
</div></blockquote>
<p>The elastic wall deflection is included as <strong>Spatial</strong> data in the
<code class="file docutils literal notranslate"><span class="pre">flsgrf.*</span></code> file. Its contours can be shown in 2D and 3D plots. Note that
the geometry does not actually change in the mesh as the wall deforms, in
accordance with the assumption that the deformations are small compared to the
computational cell size.</p>
<p>The model is compatible with most other models of <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> (e.g., heat transfer
within elastic wall component is allowed) but an elastic wall component cannot be
a porous media or a moving object. If a moving object
collides with an elastic wall component, the latter is regarded as a
non-moving rigid object in collision simulation.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"> Theory manual section <a class="reference internal" href="theory.html#elasticmembraneandelasticwallmodelth"><span class="std std-ref">Elastic Membrane and Elastic Wall Model</span></a></p>
</div>
</div>
</div>
</div>
<div class="section" id="springs-ropes-and-mooring-lines">
<span id="gmospringsropesmooringlinesmr"></span><span id="index-226"></span><h3>Springs, Ropes and Mooring Lines<a class="headerlink" href="#springs-ropes-and-mooring-lines" title="Permalink to this headline">¶</a></h3>
<p><span class="guilabel">Springs, Ropes &amp; Mooring lines</span> are special objects that can be
used to connect <a class="reference internal" href="#gmobasicsmr"><span class="std std-ref">General Moving Objects</span></a>. Each of these object types have special properties that
can be defined to affect the motion of moving objects, and are described in the following sections.
These objects are created and edited in the <span class="guilabel">Springs, Ropes &amp; Mooring line</span> widget that can be accessed
by clicking on the button, <a class="reference internal" href="_images/springropes.png"><img alt="springropes_icon" src="_images/springropes.png" style="width: 0.25in;" /></a>, on the vertical toolbar.</p>
<span class="target" id="index-227"></span><div class="section" id="springs-ropes">
<span id="gmospringsropesmr"></span><span id="index-228"></span><h4>Springs &amp; Ropes<a class="headerlink" href="#springs-ropes" title="Permalink to this headline">¶</a></h4>
<p>The GMO model allows existence of elastic springs and ropes which exert forces or
torques on objects under coupled motion. The available types of objects in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> include three
types of <strong>linear springs</strong>: <span class="menuselection">Compression and Extension Spring</span>,
<span class="menuselection">Compression Spring</span>, <span class="menuselection">Extension Spring</span>;
a <span class="menuselection">Massless Elastic Rope</span>; and a <span class="menuselection">Torsion Spring</span>. Users can define
up to 100 springs/ropes in one simulation, and each moving object can be arbitrarily connected
to multiple springs/ropes.</p>
<p>For a <strong>linear spring</strong>, the elastic restoring force <img class="math" src="_images/math/85bf4691be04b4cf06c3ed1f032b662315bfa4cd.png" alt="F_e" style="vertical-align: -3px"/> is along the length of the spring
and satisfies Hooke’s law of elasticity,</p>
<div class="math">
<p><img src="_images/math/8a726d7881f4c20988f833b3acf16135474be023.png" alt="F_e = {k_l}\,\Delta \,l"/></p>
</div><p>where:</p>
<ul class="simple">
<li><img class="math" src="_images/math/85c2f6a8f8c3621f40e27af4f8f1852781ec0b54.png" alt="k_l" style="vertical-align: -3px"/> is the spring coefficient,</li>
<li><img class="math" src="_images/math/25a9a20d678ec7064a8dfc50fa2ba8fddfc4cfcc.png" alt="\Delta \,l" style="vertical-align: 0px"/> is the spring’s length change from its free condition,</li>
<li><img class="math" src="_images/math/85bf4691be04b4cf06c3ed1f032b662315bfa4cd.png" alt="F_e" style="vertical-align: -3px"/> is a pressure force when the spring is compressed, and a tension force when stretched.</li>
</ul>
<p>A <strong>linear spring</strong> also has a block length due to the thickness of the spring coil. It
is the length of the spring at which the spring’s compression motion is blocked
by its coil and cannot be compressed any further.</p>
<p>A <span class="menuselection">Massless Elastic Rope</span> also obeys Hooke’s law. It generates tension force only if
stretched, but when compressed it is relaxed and the restoring force vanishes as
would be the case of a slack rope. Unlike the linear springs, this object does not have a block length.</p>
<p>A <span class="menuselection">Torsion Spring</span> produces a restoring torque T on a moving object with fixed-axis when the spring is twisted,
following the angular form of Hooke’s law,</p>
<div class="math">
<p><img src="_images/math/594d3390f20f02fdd2b4470db4ad37342623dfd4.png" alt="T_e = {k_\theta }\,\Delta \,\theta"/></p>
</div><p>where:</p>
<ul class="simple">
<li><img class="math" src="_images/math/f50472f154659589726c7834c996ad0e926930ae.png" alt="{k_\theta }" style="vertical-align: -3px"/> is the spring coefficient in the unit of [torque]/degree, and</li>
<li><img class="math" src="_images/math/c1097b538b9ce0bc44657bc36ca9ee063e16c11d.png" alt="\Delta \,\theta" style="vertical-align: 0px"/> is the angular deformation of the spring.</li>
<li>It is assumed that there is no elastic limit for the springs and ropes, namely Hooke’s law always holds no matter how big the deformation is.</li>
</ul>
<p>A linear damping force associated with a spring/rope and a damping torque associated with a <span class="menuselection">Torsion Spring</span>
may also be defined. The damping force <img class="math" src="_images/math/cc73c5d59d70cca49172396fd567c57c723ad2de.png" alt="F_d" style="vertical-align: -3px"/> is exerted on the moving object at the attachment point of the spring/rope.
Its line of action is along the spring/rope, and its value is proportional to the time rate of the spring/rope length,</p>
<div class="math">
<p><img src="_images/math/4e09e60141caee3f3db8596d1a3670cdf633c9f0.png" alt="F_d = -{c_l} \frac {\rm{d} l}{\rm{d} t}"/></p>
</div><p>Note the damping force for a <span class="menuselection">Massless Elastic Rope</span> vanishes when the rope is relaxed.</p>
<p>The damping torque <img class="math" src="_images/math/dfa213ccb176b15f5325ffb73383c84920d9d756.png" alt="T_d" style="vertical-align: -3px"/> can only be applied on an object with a fixed-axis rotation.
Its direction is opposite to the angular velocity, and its value is proportional to the angular velocity value,</p>
<div class="math">
<p><img src="_images/math/0227a599f8c7148a7ef2e7730846aa8767f3c422.png" alt="T_d = -{c_d} \omega"/></p>
</div><p>where   <img class="math" src="_images/math/5fff10136b6b599d18963a900c6d7f37edca8f08.png" alt="\omega" style="vertical-align: 0px"/> (in rad/time) is the angular velocity of the moving object.</p>
<p>In this model, the three <strong>linear springs</strong> and <span class="menuselection">Massless Elastic Rope</span>
objects can have one end attached to a moving object under coupled motion and the other
end fixed in space or attached to another moving object under either prescribed or coupled
motion. A <span class="menuselection">Torsion Spring</span>, however, must have one end attached to an object under coupled
fixed-axis motion and the other end fixed in space. It is assumed that the rotation
axis of the object and the axis of the <span class="menuselection">Torsion Spring</span> are the same. As a
result, the torque applied by the spring on the object is around the object’s
rotation axis, and the deformation angle of the spring is equal to the angular
displacement of the object from where the spring is in free condition.</p>
<p>To create a spring or rope, go to <span class="menuselection">Model Setup ‣ Meshing Geometry</span> tab and
open the <span class="guilabel">Springs, Ropes and Mooring lines</span> widget. Click on the drop down arrow
next to the green add button, and choose the option for <span class="menuselection">Springs and Ropes</span>.</p>
<blockquote>
<div><img alt="Springs and rope tree - Elastic rope" src="_images/gmo-springs-and-ropes-elastic.png" />
</div></blockquote>
<p>To define a spring or rope, go to
<span class="menuselection">Model Setup ‣ Springs</span>.
Click on the spring icon to bring up the
<span class="menuselection">Springs and Ropes</span> window. Right click on
<span class="menuselection">Springs and Ropes</span> to add a spring
or rope. In the combo box for <span class="menuselection">Type</span>, select the type for the
spring or rope.</p>
<ul>
<li><p class="first"><span class="menuselection">Linear Spring</span> The type of linear spring selected effects whether it can be compressed or extended.</p>
<ul class="simple">
<li><span class="menuselection">Compression and Extension Spring</span>: A spring that can be both compressed and extended. Its block length, by default, is 10% of its free length (the length of the spring in the force-free condition).</li>
<li><span class="menuselection">Extension Spring</span>: A spring that can only be extended. Its block length is always equal to its free length.</li>
<li><span class="menuselection">Compression Spring</span>: A spring that applies force only when it is compressed. When it is stretched, the force on the connected object vanishes. Its default block length is 10% of its free length.</li>
</ul>
<p>On the <span class="guilabel">Definition</span> sub-tab enter <span class="guilabel">Free
Length</span> (the length of the spring/rope in the force-free condition),
<span class="guilabel">Block Length</span>, <span class="guilabel">Spring Coefficient</span> (required) and
<span class="guilabel">Damping Coefficient</span> (default is 0.0). In the <span class="guilabel">End</span> sub-tab, define the connection points
of the spring. <span class="guilabel">End 1</span> and <span class="guilabel">End 2</span> represent the initial coordinates of the
ends of the spring/rope. Select the <span class="guilabel">Component #</span> and index of the moving
object which the spring end is connected to. If the end is not connected to
any moving component, i.e., is fixed in space, select <span class="guilabel">None</span>. In the
<span class="guilabel">X</span>, <span class="guilabel">Y</span> and <span class="guilabel">Z</span> edit boxes, enter the initial
coordinates of the spring’s end. Each end can be placed anywhere inside or
outside the moving object and the computational domain. By default, the free length is set equal to the
initial distance between the two ends.</p>
</li>
<li><p class="first"><span class="menuselection">Massless Elastic Rope</span>
Follow the same setup process used to create the <span class="menuselection">Linear Springs</span>. The only difference in the setup process is that the
<span class="guilabel">Block Length</span> is deactivated because the <span class="menuselection">Massless Elastic Rope</span>
does not have a minimum length. By default, the <span class="guilabel">Free length</span> is set equal to the initial distance between the two ends.</p>
</li>
<li><p class="first"><span class="menuselection">Torsion Spring</span>:
On the <span class="guilabel">definition</span> sub-tab, enter <span class="guilabel">Spring Coefficient</span> (required, in unit
of [torque]/degree) and <span class="guilabel">Damping Coefficient</span> (default is 0.0), and <span class="guilabel">Initial Torque</span>. The initial
torque is the torque of the spring applied on the moving object at t=0. It
is positive if it is in the positive direction of the coordinate axis which
the rotation axis of the moving object is parallel to. In the <span class="guilabel">End</span> sub-tab, <span class="guilabel">End 1</span> represents the spring’s end that is
attached to a moving object under fixed-axis rotation, and <span class="guilabel">End 2</span>
the end fixed in space.</p>
</li>
</ul>
<p>After the simulation is complete, users can display the calculated deformation
and force (or torque) of each spring and rope as functions of time. Go to
<span class="menuselection">Analyze ‣ Probe ‣ Data source</span> and check <span class="guilabel">General history</span>.
In the variable list under <span class="guilabel">Data variables</span>, find the
Spring/rope index followed by <span class="guilabel">spring/rope length extension from free
state</span>, <span class="guilabel">spring/rope force</span> and/or <span class="guilabel">spring torque</span>. Then
check <span class="menuselection">Output form ‣ Text</span> or <span class="menuselection">Graphical</span> and click
<span class="guilabel">Render</span> to display the data. Positive/negative values of spring force
and length extension mean the linear spring or rope is stretched/compressed
relative to its free state and the restoring force is a tension/pressure force.
Positive/negative values of the torque of a torsion spring means its deformation
angle (a vector) measured from its free state is in the negative/positive
direction of the coordinate axis which its axis is parallel to.</p>
<p>It is noted that the spring/rope calculation is explicitly coupled with GMO
motion calculation. If a numerical instability occurs it is recommended that
users activate the implicit GMO model, define limited compressibility of
fluid, or decrease time step.</p>
<span class="target" id="index-229"></span></div>
<div class="section" id="mooring-lines">
<span id="gmomooringlinesmr"></span><span id="index-230"></span><h4>Mooring Lines<a class="headerlink" href="#mooring-lines" title="Permalink to this headline">¶</a></h4>
<p>The mooring line model allows moving objects with prescribed or coupled motion to be connected with other objects via compliant mooring lines.
The end points of any mooring line can be defined as fixed anchors, attached to other moving objects or defined as a <span class="guilabel">Free end</span>.
Multiple mooring lines are allowed in one simulation, and their connections to the moving objects are arbitrary.
The mooring lines can be taut or slack and may fully or partially rest on sea/river floor. The
model considers gravity, buoyancy, fluid drag and tension force on the mooring lines. The mooring
lines are assumed to be cylinders with uniform diameter and material distributions, and each line can have its own length, diameter, mass density and other physical properties. The model
numerically calculates the full 3D dynamics of the mooring lines and their dynamic interactions
with the tethered moving objects.</p>
<p>The model allows the mooring lines to be partially or completely outside the computational domain.
When a line is anchored deep in water, depending on the vertical size of the domain, the lower part
of the line can be located below the domain bottom where there is no computation of fluid flow. In
this case, it is assumed that uniform water current exists below the domain for that part of
mooring line, and the corresponding drag force is evaluated based on the uniform deep water velocity.
Limitations exist for the model. It does not consider bending stiffness of mooring lines. Interactions
between mooring lines are ignored. When simulating mooring line networks, free nodes are not allowed.</p>
<p>To create a mooring line, go to <span class="menuselection">Model Setup ‣ Springs, Ropes and Mooring lines</span> widget and
click on the drop down arrow next to the green add button, and choose the option for <span class="menuselection">Mooring Lines</span>.
Click on <span class="menuselection">Mooring Lines ‣ Deep Water Velocity</span> and enter x, y and z components of
the deep water velocity (default value is zero). Click on <span class="guilabel">Mooring Line #</span> and enter the
physical and numerical properties of the mooring line.</p>
<p>To create a mooring line, go to <span class="menuselection">Model Setup ‣ Springs</span> tab and
click on the drop down arrow next to the green add button, and choose the option for <span class="menuselection">Mooring Lines</span>.</p>
<blockquote>
<div><img alt="Mooring Line" src="_images/mooring-line.png" />
</div></blockquote>
<p>In the <span class="guilabel">Definition</span> sub-tab, define the properties of the mooring line.
The <span class="guilabel">Free length</span> is the undisturbed mooring line length.
<span class="guilabel">Linear Density</span> is mass per unit length of
the mooring line.  <span class="guilabel">Net Material Density</span> is the mass density of the
material that the  mooring line is made from. Buoyancy is determined by
multiplying the <span class="guilabel">Linear Density</span> times the length of the line and
then dividing by the <span class="guilabel">Net Material Density</span>. <span class="guilabel">Diameter</span>
is the effective or gross diameter of the mooring line  that is used to
provide the gross cross-sectional area of the mooring line when fluid drag
force is  calculated. The <span class="guilabel">Normal Drag Coefficient</span> and
<span class="guilabel">the Tangential Drag Coefficient</span>  are for the quadratic law of drag
in the normal and tangential directions of the line,  and their defaults are 1
and 0.3, respectively. The <span class="guilabel">Spring  Coefficient per Unit Length</span> can
be evaluated using following formula if it is known to users,</p>
<div class="math">
<p><img src="_images/math/9437b257961896e9a98adbda700728287dd1df08.png" alt="k_{unit}=E A_{net}"/></p>
</div><p>where <img class="math" src="_images/math/4e731d960c926d2bc9f78ff625d5a695416429ae.png" alt="E" style="vertical-align: 0px"/> is Young’s modulus of the mooring line material, <img class="math" src="_images/math/74b24036b65d4e7434b1ffa2d462db0262d7b4c5.png" alt="A_{net}" style="vertical-align: -3px"/> is the net cross-section
area of the mooring line.</p>
<p>The <span class="guilabel">Minimum Breaking Load</span> (MBL) is the lowest amount of tension force required to break the mooring
line. At each time step, the maximum tension force of a mooring line is computed and compared with
the MBL. If the former is equal or greater than the latter, the mooring line breaks at the location of the maximum tension force. By default, MBL is a large number (<img class="math" src="_images/math/29b3ac5a1f434ade08d960e66d4846a2292813ae.png" alt="10^{35}" style="vertical-align: 0px"/>) and the mooring does not break.</p>
<p>The model uses a finite segment approach to calculate mooring line dynamics by dividing a mooring line
uniformly into a certain number of discrete segments. The <span class="guilabel">Number of Segments</span>
is an input parameter with a default value of 31. It is noted that too few segments reduces
computational accuracy and may also cause numerical instability. Too many segments, however, may
increase computational efforts obviously. The default value should be used if fluid flow does not
vary significantly along the mooring line; otherwise the number of segments should be increased to
account for the effect of the flow variation.</p>
<p>The attachment points of the mooring are defined in the <span class="guilabel">End</span> sub-tab. The inputs
for <span class="guilabel">End 1</span> and <span class="guilabel">End 2</span> are used to define the initial locations of two
ends of the mooring line. To attach the end of the mooring line to another object,
go to <span class="guilabel">Component #</span> and select the index of component that the end is attached to.
Select <span class="guilabel">None</span> if that end is anchored at a fixed point, or select <span class="guilabel">Free end</span>
if the end is not attached to any components or fixed point. Then enter the initial x, y and z
coordinates of the mooring line end in the corresponding edit boxes.</p>
<p>The <span class="guilabel">Confined Space</span> sub-tab is used to specify locations of  river/sea floor or walls that
confine the mooring line motion. For example, if <span class="guilabel">Min Z</span> is defined, then any part of the
mooring line cannot go below <span class="guilabel">Min Z</span>. If the gravity is in –z direction, then Min Z can be
regarded a sea floor where a slack mooring line can rest on. By default, there is no confinement to a mooring line motion.
The <span class="guilabel">Deep Water Velocity</span> sub-tab is used to define the fluid velocity for calculating drag on portions of the
mooring line outside of the computational domain. Enter the enter x, y and z components of the deep water velocity (default value is zero).</p>
<p>After the simulation is complete, users can display history data of each mooring line including length extension
from free state (in unit of length), maximum tension force along the mooring line, and the tension forces at both
ends in the x, y and z directions. For example, if end 1 of a mooring line is tethered at a platform, then the force
of the mooring line applied on the platform in x, y and z directions can be found as x/y/z tension force at end 1.</p>
<blockquote>
<div><img alt="Mooring Line History" src="_images/mooring-line-history.png" />
</div></blockquote>
<span class="target" id="index-231"></span></div>
</div>
<div class="section" id="moving-components-with-tangential-surface-velocity">
<span id="movingcomponentsmr"></span><span id="index-232"></span><h3>Moving Components with Tangential Surface Velocity<a class="headerlink" href="#moving-components-with-tangential-surface-velocity" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="6%" />
<col width="73%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>MAIN VARIABLES:</td>
<td>OBS:</td>
<td><a class="reference internal" href="input-variable-summary-units.html#movingwebcomponents"><span class="std std-ref">IMO, UTOBS, VTOBS, WTOBS</span></a></td>
</tr>
</tbody>
</table>
<p>Users can define a tangential velocity at a geometrical component surface by
customizing function subroutine <code class="file docutils literal notranslate"><span class="pre">velobs.F90</span></code>. This is particularly useful for
modeling moving webs. Note that the geometry of the component with this model
does not change or move with time, but rather, a tangential velocity is applied
at the component surface.</p>
<p>This model is separate from the <a class="reference internal" href="#gmobasicsmr"><span class="std std-ref">General Moving Objects</span></a>
model. It is simpler and requires less computation effort. It requires editing
of the input file (<code class="file docutils literal notranslate"><span class="pre">prepin.*</span></code>) by selecting
<span class="menuselection">File ‣ Edit Simulation …</span>.</p>
<p>When this type of component is defined, it is identified as having a moving
surface by setting the variable <a class="reference internal" href="input-variable-summary-units.html#movingwebcomponents"><span class="std std-ref">IMO</span></a>(<em>N</em>) = 2 in, where
<em>N</em> is the component number.</p>
<p>For components with a flat geometry, only the appropriate value for the
tangential motion need to be defined by setting <a class="reference internal" href="input-variable-summary-units.html#movingwebcomponents"><span class="std std-ref">UTOBS, VTOBS, WTOBS</span></a>. Time-dependent values can be specified as well.</p>
<p>In order for this model to be able to accommodate complex geometries, the user
must specify the velocity at the component surface in function <code class="file docutils literal notranslate"><span class="pre">velobs.F90</span></code>. This
function is called for each component identified by <a class="reference internal" href="input-variable-summary-units.html#movingwebcomponents"><span class="std std-ref">IMO</span></a>(<em>N</em>) = 2. In this function subroutine, the user has
access to the component number, and x, y and z coordinates where the
tangential velocity is to be calculated. Note that these coordinates are the
closest cell intersections to the surface, and may not lie exactly on the
component surface.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If the <code class="file docutils literal notranslate"><span class="pre">velobs.F90</span></code> subroutine is not modified, the velocities at the
component surface will be defined by <a class="reference internal" href="input-variable-summary-units.html#movingwebcomponents"><span class="std std-ref">UTOBS, VTOBS, WTOBS</span></a>.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li>Input variable summary section <a class="reference internal" href="input-variable-summary-units.html#movingwebcomponents"><span class="std std-ref">Moving Web Components</span></a>.</li>
<li><a class="reference internal" href="#rotatingcomponentsmr"><span class="std std-ref">Rotating Axisymmetric Components</span></a></li>
<li><a class="reference internal" href="#gmobasicsmr"><span class="std std-ref">General Moving Objects</span></a> for computing the motion of non-axisymmetric objects.</li>
<li><a class="reference internal" href="#noninertialreferenceframemotionmr"><span class="std std-ref">Non-Inertial Reference Frame Motion</span></a> for accelerating reference frames.</li>
</ul>
</div>
<span class="target" id="index-233"></span></div>
<div class="section" id="rotating-axisymmetric-components">
<span id="rotatingcomponentsmr"></span><span id="index-234"></span><h3>Rotating Axisymmetric Components<a class="headerlink" href="#rotating-axisymmetric-components" title="Permalink to this headline">¶</a></h3>
<p>Tangential velocities in the form of a pure rotation may be assigned to solid,
axisymmetric components such as cylinders, spheres and cones. Velocity
components must be tangential to the surface so that these components always
occupy the same physical space. These components must have the solid type and
are defined just like regular components. Transformation, including
magnification, rotation and translation, is allowed to transform these
components to any locations and any orientations.</p>
<p>After the geometry of the axisymmetric component is defined, open
<span class="menuselection">Model Setup ‣ Geometry ‣ Component ‣ Axisymmetric
Spinning Object</span>:</p>
<blockquote>
<div><img alt="rotating-components-properties" src="_images/rotating-components-properties.png" />
</div></blockquote>
<p>Check the <span class="guilabel">Enabled</span> checkbox. Define two points on the rotation axis
(i.e., the central axis of the component after geometry transformation). Also
define the <span class="guilabel">Spin rate</span>. Note that this is the angular velocity, in
units of radians/time (typically <span class="target" id="index-235"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">rad/s</span></code>).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>The orientation of the axis does matter: objects rotate in right handed
sense about the axis. Therefore, looking down the axis from point 1 to
point 2, objects rotate clockwise for positive values of <span class="guilabel">Spin
rate</span>.</li>
<li>Objects must be axisymmetric about the spinning axis. If not, the model
will not correct assign velocities to the entire surface of the component.</li>
</ul>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li>Impeller and Fan components: <a class="reference internal" href="#fanandimpellermr"><span class="std std-ref">Fan and Impeller Model</span></a>.</li>
<li><a class="reference internal" href="#gmobasicsmr"><span class="std std-ref">General Moving Objects</span></a> for computing the motion of non-axisymmetric objects.</li>
<li><a class="reference internal" href="#noninertialreferenceframemotionmr"><span class="std std-ref">Non-Inertial Reference Frame Motion</span></a> for accelerating reference frames.</li>
<li><a class="reference internal" href="#movingcomponentsmr"><span class="std std-ref">Moving Components with Tangential Surface Velocity</span></a> for non-axisymmetric cases with simple motion.</li>
</ul>
</div>
<span class="target" id="index-236"></span></div>
</div>
<div class="section" id="non-inertial-reference-frame-motion">
<span id="noninertialreferenceframemotionmr"></span><span id="index-237"></span><h2>Non-Inertial Reference Frame Motion<a class="headerlink" href="#non-inertial-reference-frame-motion" title="Permalink to this headline">¶</a></h2>
<p>Non-inertial coordinate systems can experience non-zero linear accelerations
and rotations. Activate the <span class="guilabel">Non-inertial reference frame</span> motion model in
<span class="menuselection">Physics ‣ Gravity and non-inertial reference frame</span>:</p>
<blockquote>
<div><img alt="Non-inertial reference frame" src="_images/non-inertial-reference-frame.png" />
</div></blockquote>
<p>There are numerous <span class="guilabel">Non-inertial reference frame</span> options to choose
from. The simplest, the <span class="guilabel">Shake and spin model</span>, simulates that the
computational domain undergoes shaking and spinning motions only. Selection of
this option, and selecting the adjacent <span class="guilabel">Edit</span> button produces the
following window:</p>
<blockquote>
<div><img alt="Shake and spin model" src="_images/shake-and-spin-model.png" />
</div></blockquote>
<p>In this window the shaking motion (side-to-side oscillations in the
<em>x</em>-coordinate direction only) and spin motion (spinning about the <em>z</em>-axis
only) can be specified. <span class="guilabel">Magnitude</span> specifies the size of the
oscillation (in units of acceleration) from the centerline,
<span class="guilabel">Frequency</span> is the angular frequency of the sinusoidal motion,
typically in <em>rad/s</em>. <span class="guilabel">Spin rate</span> is the angular velocity of the
rotational motion about the x-axis, also typically in <em>rad/s</em>.</p>
<p>The <span class="guilabel">Harmonic oscillations</span> model allows users to define linear and
angular motion in each of the 3 coordinate directions. Clicking on the
<span class="guilabel">Edit</span> button next to <span class="guilabel">Harmonic oscillations</span> opens the
following window:</p>
<blockquote>
<div><img alt="Harmonic oscillations" src="_images/harmonic-oscillations.png" />
</div></blockquote>
<p>In each of the 6 degrees of freedom, users control the acceleration
<span class="guilabel">Magnitude</span>, <span class="guilabel">Frequency</span> (rad/time) and <span class="guilabel">Phase
angle</span> offset. With this model, these values are constant throughout the
simulation.</p>
<p>Alternatively, time-dependent data on accelerations can be directly If time-varying magnitudes are needed, time-dependent data can be entered by selecting one of the <span class="guilabel">Tabular</span> options. Details on these options are available in <a class="reference internal" href="#smoothtabularmotionmr"><span class="std std-ref">Smooth Tabular Motion</span></a> and <a class="reference internal" href="#impulsivemotionmr"><span class="std std-ref">Impulsive Motion of Non-inertial Reference Frame</span></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>Coriolis forces due to rotation can be accounted for with different degrees
of implicitness. The degree of the implicitness is proportional to the
value of <span class="guilabel">Coriolis acceleration implicit weighting factor</span> set in
<span class="guilabel">Implicit/explicit solver options</span> in <span class="guilabel">Numerics</span>. When
<span class="guilabel">Coriolis acceleration implicit weighting factor</span> = 0.0, the
approximations are fully explicit. A fully implicit algorithm is used when
<span class="guilabel">Coriolis acceleration implicit weighting factor</span> = 1.0. It is
recommended to use the fully implicit method for better solution stability.</li>
<li>The <span class="guilabel">Initial gravity</span> option is used to maintain gravity in the
direction in which it was oriented at <img class="math" src="_images/math/471367fa3c85c2a5afe2b93234d230b8d533e1cd.png" alt="t=0" style="vertical-align: 0px"/> regardless of the
motion of the reference frame.  This is different from the regular
<span class="guilabel">Gravity</span> option, which maintains gravity in the same direction
in the reference frame.</li>
</ul>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li><a class="reference internal" href="theory.html#nirfth"><span class="std std-ref">Non-Inertial Reference Frame</span></a> notation</li>
<li><a class="reference internal" href="theory.html#rigidbodydynamicsalgorithmth"><span class="std std-ref">Rigid Body Dynamics Algorithm for Non-Inertial Reference Frame Model</span></a></li>
<li><a class="reference internal" href="theory.html#noninertialreferenceframeth"><span class="std std-ref">Non-Inertial Reference Frame Motion</span></a> equations</li>
<li><a class="reference internal" href="theory.html#rigidbodydynamicsnirfth"><span class="std std-ref">Rigid Body Dynamics for Non-Inertial Reference Frame</span></a></li>
<li><a class="reference internal" href="#centrifugalcastingmr"><span class="std std-ref">Non-inertial reference frame application example:  Centrifugal Casting</span></a></li>
<li><a class="reference internal" href="#gravitysectionmr"><span class="std std-ref">Gravity</span></a></li>
<li><a class="reference internal" href="#impulsivemotionmr"><span class="std std-ref">Impulsive Motion of Non-inertial Reference Frame</span></a></li>
<li><a class="reference internal" href="#noninertialreferenceframemotionmr"><span class="std std-ref">Non-Inertial Reference Frame Motion</span></a></li>
<li><a class="reference internal" href="#smoothtabularmotionmr"><span class="std std-ref">Smooth Tabular Motion</span></a></li>
</ul>
</div>
<span class="target" id="index-238"></span><div class="section" id="smooth-tabular-motion">
<span id="smoothtabularmotionmr"></span><span id="index-239"></span><h3>Smooth Tabular Motion<a class="headerlink" href="#smooth-tabular-motion" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><img alt="Non-inertial reference frame" src="_images/smooth-tabular-motion-non-interial-reference-frame.png" />
</div></blockquote>
<p>Non-inertial reference frames are specified in tabular form when one of
<span class="menuselection">Physics ‣ Gravity and Non-inertial reference frame ‣
Tabular angular acceleration</span> or <span class="menuselection">Tabular angular velocity</span> is
chosen, then smooth (i.e., linearly interpolated) motion is specified by
clicking the <span class="guilabel">Edit</span> button, modifying the text file shown in the
<span class="guilabel">Input file</span> drop-down menu, with the default name
<code class="file docutils literal notranslate"><span class="pre">movin.inp</span></code>. The data specified includes the time, x, y, and z linear
accelerations, x, y, and z angular velocities, and x, y, and z angular
accelerations.</p>
<blockquote>
<div><img alt="smooth-tabular-motion-table-edit" src="_images/smooth-tabular-motion-table-edit.png" />
</div></blockquote>
<p>If <span class="menuselection">Tabular angular velocity</span> is chosen, the angular velocities
specified are differentiated to determine the angular accelerations. If
<span class="menuselection">Tabular angular acceleration</span> is chosen, the angular
velocities are evaluated by integrating the angular accelerations, with the
angular velocities specified at time zero being evaluated from the initial
velocities.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li><a class="reference internal" href="theory.html#nirfth"><span class="std std-ref">Non-Inertial Reference Frame</span></a> notation</li>
<li><a class="reference internal" href="theory.html#rigidbodydynamicsalgorithmth"><span class="std std-ref">Rigid Body Dynamics Algorithm for Non-Inertial Reference Frame Model</span></a></li>
<li><a class="reference internal" href="theory.html#noninertialreferenceframeth"><span class="std std-ref">Non-Inertial Reference Frame Motion</span></a> equations</li>
<li><a class="reference internal" href="theory.html#rigidbodydynamicsnirfth"><span class="std std-ref">Rigid Body Dynamics for Non-Inertial Reference Frame</span></a></li>
<li><a class="reference internal" href="#centrifugalcastingmr"><span class="std std-ref">Non-inertial reference frame application example:  Centrifugal Casting</span></a></li>
<li><a class="reference internal" href="#gravitysectionmr"><span class="std std-ref">Gravity</span></a></li>
<li><a class="reference internal" href="#impulsivemotionmr"><span class="std std-ref">Impulsive Motion of Non-inertial Reference Frame</span></a></li>
<li><a class="reference internal" href="#noninertialreferenceframemotionmr"><span class="std std-ref">Non-Inertial Reference Frame Motion</span></a></li>
<li><a class="reference internal" href="#smoothtabularmotionmr"><span class="std std-ref">Smooth Tabular Motion</span></a></li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The user interface writes the <code class="file docutils literal notranslate"><span class="pre">movin.inp</span></code> file for the user and
automatically uses the correct format. It displays the data in the table.</p>
</div>
<span class="target" id="index-240"></span></div>
<div class="section" id="impulsive-motion-of-non-inertial-reference-frame">
<span id="impulsivemotionmr"></span><span id="index-241"></span><h3>Impulsive Motion of Non-inertial Reference Frame<a class="headerlink" href="#impulsive-motion-of-non-inertial-reference-frame" title="Permalink to this headline">¶</a></h3>
<p>Non-inertial reference frames are specified in tabular form in the file
<code class="file docutils literal notranslate"><span class="pre">movin.inp</span></code> when <span class="menuselection">Physics ‣ Gravity and non-inertial
reference frame ‣ Activate non-inertial reference frame</span> option is activated
together with any of the <span class="guilabel">Tabular</span> options. The input can be typed
into a table that is open when clicking on the <span class="guilabel">Edit</span> button next to
the <span class="guilabel">Tabular</span> options. Impulsive motion can also be specified in the
table when Angular acceleration with impulsive motion or Angular velocity with
impulsive motion are selected above the table. For impulsive motion, the data
specified is the same as that for smooth motion (time, linear accelerations,
angular velocities, angular accelerations), except the impulse duration (the
<span class="guilabel">Impulse length</span>) is also specified. Also, the computational
time-step size to be used at the beginning of the impulse interval can be specified
in the column entitled <span class="guilabel">Dt</span> for better accuracy in capturing the
duration of the impulse.</p>
<blockquote>
<div><img alt="Tabular input" src="_images/impulsive-motion-tabular-input.png" />
</div></blockquote>
<p>By clicking the <span class="guilabel">OK</span> button the data is written into the file named in the
<span class="guilabel">Input file</span> edit box of the <span class="guilabel">Tabular input</span> window; its default
is <code class="file docutils literal notranslate"><span class="pre">movin.inp</span></code>.</p>
<p>Any time entries with a non-zero impulse duration are taken to be impulsive,
while entries with a zero impulse duration are taken to be smooth. Impulsive
accelerations are superimposed on top of the smooth data.</p>
<p>In the <code class="file docutils literal notranslate"><span class="pre">movin.inp</span></code> file shown in the table below, the <em>z</em> linear
acceleration is defined by both smooth and impulsive data. The impulse
duration is in the <span class="guilabel">impldt</span> column, and the specified time-step size is in the
<span class="guilabel">delt</span> column. Smooth accelerations are defined with points at t=0, t=9.5, and
t = 100. The <em>z</em> acceleration will be evaluated using a linear interpolation for
those points.</p>
<p>The z acceleration also has impulsive data specified at t = 2, t = 5, and t = 8, each
with a pulse width of 1 sec. The impulses are superimposed on top of the smooth
variation as shown in <a href="model-reference.html#graphofimpulsiveandsmoothaccelerationdata">Figure 2</a> below.</p>
<span id="impulsivesmoothaccelerationdata"></span><table border="1" class="colwidths-given longtable docutils" id="id35">
<caption><span class="caption-text">Example file of impulsive and smooth acceleration data</span><a class="headerlink" href="#id35" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head stub">T</th>
<th class="head">accx</th>
<th class="head">accy</th>
<th class="head">accz</th>
<th class="head">omx</th>
<th class="head">omy</th>
<th class="head">omz</th>
<th class="head">omdx</th>
<th class="head">omdy</th>
<th class="head">omdz</th>
<th class="head">delt</th>
<th class="head">impldt</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><th class="stub"><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></th>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
</tr>
<tr class="row-odd"><th class="stub"><img class="math" src="_images/math/e1e0799ce7b9a4967c69367d0a4c953e64ca51e4.png" alt="2." style="vertical-align: 0px"/></th>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/b9298f4c7531bc01fdee3bfc99cb390512a53150.png" alt="0.1" style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/772627b2284cd158d9ec21e793d18d7d37070a4c.png" alt="1." style="vertical-align: 0px"/></td>
</tr>
<tr class="row-even"><th class="stub"><img class="math" src="_images/math/ffd7c118b5463220ac3143b3fe251899675295bd.png" alt="5." style="vertical-align: 0px"/></th>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/b9298f4c7531bc01fdee3bfc99cb390512a53150.png" alt="0.1" style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/772627b2284cd158d9ec21e793d18d7d37070a4c.png" alt="1." style="vertical-align: 0px"/></td>
</tr>
<tr class="row-odd"><th class="stub"><img class="math" src="_images/math/7f764355f09bfa9e4959a21e267406b44e21a8eb.png" alt="8." style="vertical-align: 0px"/></th>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/b9298f4c7531bc01fdee3bfc99cb390512a53150.png" alt="0.1" style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/772627b2284cd158d9ec21e793d18d7d37070a4c.png" alt="1." style="vertical-align: 0px"/></td>
</tr>
<tr class="row-even"><th class="stub"><img class="math" src="_images/math/c1e84395f4cd8621778a9f911a2af7df93654b8e.png" alt="9.5" style="vertical-align: 0px"/></th>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/20f4952efa7c27a850019eecaa187222c8454989.png" alt="0.5" style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
</tr>
<tr class="row-odd"><th class="stub"><img class="math" src="_images/math/482c1880538af5513ded5bd0a55d682ad35f0aea.png" alt="100." style="vertical-align: 0px"/></th>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/20f4952efa7c27a850019eecaa187222c8454989.png" alt="0.5" style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
<td><img class="math" src="_images/math/5c57459268f358f9f6db7537ec32daa63f392b6d.png" alt="0." style="vertical-align: 0px"/></td>
</tr>
</tbody>
</table>
<div class="figure" id="id36">
<span id="graphofimpulsiveandsmoothaccelerationdata"></span><img alt="Graph of impulsive and smooth acceleration data" src="_images/impulisve-motion-acceleration-data.png" />
<p class="caption"><span class="caption-text">Figure 2: Graph of impulsive and smooth acceleration data</span></p>
</div>
<span id="variabledefinitionsandunits"></span><table border="1" class="colwidths-given longtable docutils" id="id37">
<caption><span class="caption-text">Variable Definitions and Units</span><a class="headerlink" href="#id37" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="18%" />
<col width="82%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>t</strong></td>
<td>= time</td>
</tr>
<tr class="row-even"><td><strong>accx</strong></td>
<td>= acceleration along x-axis [L/t<sup>2</sup>]</td>
</tr>
<tr class="row-odd"><td><strong>accy</strong></td>
<td>= acceleration along y-axis [L/t<sup>2</sup>]</td>
</tr>
<tr class="row-even"><td><strong>accz</strong></td>
<td>= acceleration along z-axis [L/t<sup>2</sup>]</td>
</tr>
<tr class="row-odd"><td><strong>omx</strong></td>
<td>= rotational velocity about x [Rad/t]</td>
</tr>
<tr class="row-even"><td><strong>omy</strong></td>
<td>= rotational velocity about y [Rad/t]</td>
</tr>
<tr class="row-odd"><td><strong>omz</strong></td>
<td>= rotational velocity about z [Rad/t]</td>
</tr>
<tr class="row-even"><td><strong>omdx</strong></td>
<td>= rotational acceleration about x [Rad/t<sup>2</sup>]</td>
</tr>
<tr class="row-odd"><td><strong>omdy</strong></td>
<td>= rotational acceleration about y [Rad/t<sup>2</sup>]</td>
</tr>
<tr class="row-even"><td><strong>omdz</strong></td>
<td>= rotational acceleration about z [Rad/t<sup>2</sup>]</td>
</tr>
<tr class="row-odd"><td><strong>delt</strong></td>
<td>= time-step size [t]</td>
</tr>
<tr class="row-even"><td><strong>impldt</strong></td>
<td>= impulse duration [t]</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The basic format of the <code class="file docutils literal notranslate"><span class="pre">movin.inp</span></code> file is described in <a class="reference internal" href="#smoothtabularmotionmr"><span class="std std-ref">Smooth Tabular Motion</span></a>.
For impulsive motion, the time-step size and the impulse duration are
included after the <em>z</em> angular acceleration. As with the smooth data,
“placeholders” must be entered for all data quantities, even if that data is
not used (i.e., enter zero for time-step size if it is not to be specified).</p>
</div>
<span class="target" id="index-242"></span></div>
<div class="section" id="center-of-gravity-for-non-inertial-reference-frame">
<span id="cgnirfmotionmr"></span><span id="index-243"></span><h3>Center of Gravity for Non-inertial Reference Frame<a class="headerlink" href="#center-of-gravity-for-non-inertial-reference-frame" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><img alt="Non-inertial reference frame" src="_images/smooth-tabular-motion-non-interial-reference-frame.png" />
</div></blockquote>
<p>The rotation center, or center of gravity (CG), for non-inertial reference frames
can be specified with a single <img class="math" src="_images/math/4b3baa22a61a12caef19e4537e9ab6334b5b25f1.png" alt="x" style="vertical-align: 0px"/>, <img class="math" src="_images/math/39c736105504f69471e131097dde8021cf6a58e0.png" alt="y" style="vertical-align: -4px"/>, and <img class="math" src="_images/math/f73d84aaab67d15ec35a137d8053810c7d622838.png" alt="z" style="vertical-align: 0px"/> location or by using an external file
for a time-dependent location. In the latter case the CG location is specified in a tabular form in the
file (with the default name <code class="file docutils literal notranslate"><span class="pre">cg.inp</span></code>) with any of the <span class="guilabel">Tabular</span> non-inertial frame types.
The input can be typed into a table that opens after clicking on the <span class="guilabel">Edit</span> button next to
the <span class="guilabel">Use external file to specify CG location</span> check-box. This
checkbox needs to be selected to use the external file.</p>
<blockquote>
<div><img alt="Center of Gravity/Rotation Location" src="_images/cg-tabular-input.png" />
</div></blockquote>
<p>External files with the CG locations can also be loaded using this dialog.
Clicking on the <span class="guilabel">OK</span> button writes the data into the file
named in the <span class="guilabel">Filename</span> edit box of the <span class="guilabel">Center of Gravity/Rotation Location</span>
window; its default name is <code class="file docutils literal notranslate"><span class="pre">cg.inp</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The basic format of the <code class="file docutils literal notranslate"><span class="pre">cg.inp</span></code> file is described in <a class="reference internal" href="#smoothtabularmotionmr"><span class="std std-ref">Smooth Tabular Motion</span></a>.
For importing external files with CG locations, the column delimiters can be Tab/Comma/Space
and must be specified in the <span class="guilabel">Column delimiter</span> drop-down. The file format
for <code class="file docutils literal notranslate"><span class="pre">cg.inp</span></code> is similar to <code class="file docutils literal notranslate"><span class="pre">movin.inp</span></code>.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li><a class="reference internal" href="theory.html#nirfth"><span class="std std-ref">Non-Inertial Reference Frame</span></a> notation</li>
<li><a class="reference internal" href="theory.html#rigidbodydynamicsalgorithmth"><span class="std std-ref">Rigid Body Dynamics Algorithm for Non-Inertial Reference Frame Model</span></a></li>
<li><a class="reference internal" href="theory.html#noninertialreferenceframeth"><span class="std std-ref">Non-Inertial Reference Frame Motion</span></a> equations</li>
<li><a class="reference internal" href="theory.html#rigidbodydynamicsnirfth"><span class="std std-ref">Rigid Body Dynamics for Non-Inertial Reference Frame</span></a></li>
<li><a class="reference internal" href="#centrifugalcastingmr"><span class="std std-ref">Non-inertial reference frame application example:  Centrifugal Casting</span></a></li>
<li><a class="reference internal" href="#gravitysectionmr"><span class="std std-ref">Gravity</span></a></li>
<li><a class="reference internal" href="#impulsivemotionmr"><span class="std std-ref">Impulsive Motion of Non-inertial Reference Frame</span></a></li>
<li><a class="reference internal" href="#noninertialreferenceframemotionmr"><span class="std std-ref">Non-Inertial Reference Frame Motion</span></a></li>
<li><a class="reference internal" href="#smoothtabularmotionmr"><span class="std std-ref">Smooth Tabular Motion</span></a></li>
</ul>
</div>
<span class="target" id="index-244"></span></div>
<div class="section" id="rigid-body-dynamics">
<span id="rigidbodydynamicsmr"></span><span id="index-245"></span><h3>Rigid Body Dynamics<a class="headerlink" href="#rigid-body-dynamics" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="19%" />
<col width="54%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">MAIN VARIABLES:</th>
<th class="head"><span class="target" id="index-246"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">XPUT</span></code>:</th>
<th class="head"><a class="reference internal" href="input-variable-summary-units.html#gravityandnirfoptions"><span class="std std-ref">IACCF</span></a></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&#160;</td>
<td><span class="target" id="index-247"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">RBDATA</span></code>:</td>
<td><a class="reference internal" href="input-variable-summary-units.html#rigidbodynamelistrbdata"><span class="std std-ref">ALL VARIABLES</span></a></td>
</tr>
</tbody>
</table>
<p>The rigid body dynamics model is activated by setting <span class="target" id="index-248"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">IACCF</span></code>=2 in the
input file <code class="file docutils literal notranslate"><span class="pre">prepin.*</span></code>. In that case the <span class="target" id="index-249"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">RBDATA</span></code> input
section must be present in the input file following the <span class="target" id="index-250"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">BCDATA</span></code>
section.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"> <a class="reference internal" href="theory.html#rigidbodydynamicsnirfth"><span class="std std-ref">Rigid Body Dynamics for Non-Inertial Reference Frame</span></a>, <a class="reference internal" href="theory.html#coupledrigidbodydynamicsth"><span class="std std-ref">Coupled Rigid Body Dynamics</span></a> in the Theory manual for a detailed description of the model, its use and related input parameters.</p>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="5%" />
<col width="79%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Related variables:</td>
<td>MOTN:</td>
<td><a class="reference internal" href="input-variable-summary-units.html#rigidbodydynamicsforceflag"><span class="std std-ref">IATYPE</span></a>, <a class="reference internal" href="input-variable-summary-units.html#rigidbodydynamicsnumericaloptions"><span class="std std-ref">other variables</span></a></td>
</tr>
</tbody>
</table>
<span class="target" id="index-251"></span></div>
<div class="section" id="non-inertial-reference-frame-application-example-centrifugal-casting">
<span id="centrifugalcastingmr"></span><span id="index-252"></span><h3>Non-inertial reference frame application example:  Centrifugal Casting<a class="headerlink" href="#non-inertial-reference-frame-application-example-centrifugal-casting" title="Permalink to this headline">¶</a></h3>
<p>Centrifugal casting involves a mold that is rotating around a fixed axis while
molten metal is poured into the mold. One way to model this process in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span>
is to use the non-inertial reference frame model. In this approach, the
coordinate system is attached to the mold, the rotation of which is defined in
tabular fashion as angular velocity versus time. Since the computational mesh is associated with
the coordinate system, the mesh is also rigidly attached to the mold and
rotates with it.</p>
<p>The model is activated on the <span class="guilabel">Gravity and non-inertial reference
frame</span> dialog in  <span class="menuselection">Model Setup‣ Physics</span> panel. One of the
most general options is to specify a <span class="guilabel">Tabular angular velocity</span>.
This  option allows general, time-dependent motion to be defined in all six
degrees of freedom.  To fill in the tabular data, first select the radio
button next to the <span class="guilabel">Tabular angular velocity</span> field, then click
on the adjacent <span class="guilabel">Edit</span> button.  Then, specify the desired velocities
throughout time, choose <span class="guilabel">Save</span>, and the close the dialog.  Next,
Define the <span class="guilabel">Rotation Center</span> (the point about which the
reference frame rotates). Also, supply the initial direction of the gravity
vector in the provided  edit boxes.</p>
<blockquote>
<div><img alt="Non-inertial reference frame" src="_images/non-inertial-reference-frame.png" />
</div></blockquote>
<p>If metal is entering at an inlet mesh boundary, i.e., at a fixed-pressure,
flow-rate or velocity boundary, select <span class="guilabel">Add counter-rotating flow
component at inlet boundaries</span>. This option will account for the fact that the
incoming metal is not rotating with the mold. In the rotating coordinate
system of the model, a flow component is added to the incoming metal
in the direction opposite to the mold’s rotation as defined in
<span class="guilabel">Tabular input</span>.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li>For another, more accurate approach to modeling processes
like centrifugal casting, see <a class="reference internal" href="#gmobasicsmr"><span class="std std-ref">General Moving Objects</span></a></li>
<li><a class="reference internal" href="theory.html#nirfth"><span class="std std-ref">Non-Inertial Reference Frame</span></a> notation</li>
<li><a class="reference internal" href="theory.html#rigidbodydynamicsalgorithmth"><span class="std std-ref">Rigid Body Dynamics Algorithm for Non-Inertial Reference Frame Model</span></a></li>
<li><a class="reference internal" href="theory.html#noninertialreferenceframeth"><span class="std std-ref">Non-Inertial Reference Frame Motion</span></a> equations</li>
<li><a class="reference internal" href="theory.html#rigidbodydynamicsnirfth"><span class="std std-ref">Rigid Body Dynamics for Non-Inertial Reference Frame</span></a></li>
<li><a class="reference internal" href="#centrifugalcastingmr"><span class="std std-ref">Non-inertial reference frame application example:  Centrifugal Casting</span></a></li>
<li><a class="reference internal" href="#gravitysectionmr"><span class="std std-ref">Gravity</span></a></li>
<li><a class="reference internal" href="#impulsivemotionmr"><span class="std std-ref">Impulsive Motion of Non-inertial Reference Frame</span></a></li>
<li><a class="reference internal" href="#noninertialreferenceframemotionmr"><span class="std std-ref">Non-Inertial Reference Frame Motion</span></a></li>
<li><a class="reference internal" href="#smoothtabularmotionmr"><span class="std std-ref">Smooth Tabular Motion</span></a></li>
<li>Parameters in <a class="reference internal" href="input-variable-summary-units.html#noninertialreferenceframemotn"><span class="std std-ref">Non-Inertial Reference Frame Namelist - MOTN</span></a></li>
</ul>
</div>
<span class="target" id="index-253"></span></div>
</div>
<div class="section" id="particles">
<span id="markerandmassparticlesmr"></span><span id="index-254"></span><h2>Particles<a class="headerlink" href="#particles" title="Permalink to this headline">¶</a></h2>
<p>The Lagrangian particle model is a sub-grid model can be used to track the motion
of spherical particles with different attributes and sizes smaller than a
computational cell. The particles can be completely massless (i.e. marker particles),
they could represent a solid sphere (i.e. mass particles), a spherical droplet of
fluid (i.e. fluid particles) or a spherical bubble of gas (i.e. gas and void particles).
The particle model was developed to track the motion of these objects in the computational
domain and their interactions with other elements such as walls, fluid or void regions
without the need of mesh refinement for explicit modeling of such objects.
In this section, the general simulation setup process for certain particle classes will be described along with a short explanation
of the parameters. More information on the details of the particle model can also be found in the <a class="reference internal" href="theory.html"><span class="doc">Theory</span></a> section.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="theory.html#discreteparticledynamicsth"><span class="std std-ref">Discrete Particle Dynamics</span></a></p>
</div>
<div class="section" id="setup-and-dependencies">
<span id="particle-setup"></span><span id="index-255"></span><h3>Setup and dependencies<a class="headerlink" href="#setup-and-dependencies" title="Permalink to this headline">¶</a></h3>
<p>The particle model can be accessed from <span class="menuselection">Physics ‣ Particles</span>.
This window offers the option to enable/disable different particle classes by clicking on
the <span class="guilabel">Enable</span> checkbox in the respective particle type tab, edit their name, define the
maximum number of particles for each class and their properties.</p>
<p>Introducing particles in the computational domain is a two-stage process.
First, the particle parameters must be defined in <span class="menuselection">Physics ‣ Particles</span>. Then <span class="guilabel">Particle Source(s)</span> and/or <span class="guilabel">Particle Block(s)</span>
are defined in the particle widget in the <span class="menuselection">Model Setup ‣ Particles</span> tab. In the event
of a restart simulation, it should be specified whether previous
particle solution should be reset by checking the <span class="guilabel">Ignore particle data
in restart source file</span> box.</p>
<div class="section" id="particle-definition-and-physics">
<span id="particle-definition-physics"></span><span id="index-256"></span><h4>Particle definition and physics<a class="headerlink" href="#particle-definition-and-physics" title="Permalink to this headline">¶</a></h4>
<p>This sub-section focuses on the description of the properties and parameters of different particle types.
The topics discussed involve <span class="guilabel">Marker particles</span>, <span class="guilabel">Mass particles</span>, <span class="guilabel">Fluid particles</span>,
<span class="guilabel">Gas particles</span>, <span class="guilabel">Void particles</span> and <span class="guilabel">User Class particles</span>. Based on the different
interactions that these particles may have with other objects in the computational domain, additional
physical models may be required. These dependencies are further discussed under the following sections detailing each particle class.</p>
<div class="section" id="marker-particles">
<span id="particle-setup-marker"></span><span id="index-257"></span><h5>Marker particles<a class="headerlink" href="#marker-particles" title="Permalink to this headline">¶</a></h5>
<p><span class="guilabel">Marker particles</span> are massless particles that do not influence the flow and move
with the speed of the surrounding fluid. Hence, they can also be considered as a visualization
of fluid molecules. By introducing <span class="guilabel">marker particles</span> in the computational
domain, one could, in principle, visualize pathlines i.e. the paths that individual fluid
molecules follow.</p>
<img alt="Particles marker" src="_images/particles_marker_v12.JPG" />
<p>To enable the use of <span class="guilabel">Marker particles</span>, navigate to <span class="menuselection">Physics ‣ Particles</span>
and in the <span class="guilabel">Marker</span> tab click on the <span class="guilabel">Enable</span> checkbox. Then proceed with
defining the <span class="guilabel">Title</span> of the particle class (optional) and set
the <span class="guilabel">Maximum allowed number of marker particles</span>.</p>
<p>The properties of <span class="guilabel">marker particles</span> can be given in <span class="guilabel">Particle class properties</span>.
For <span class="guilabel">marker particles</span> we can define the <span class="guilabel">Host fluid</span> as
both <span class="guilabel">Fluid #1 and #2 (or void)</span>, as <span class="guilabel">Fluid #1</span> only or
as <span class="guilabel">Fluid #2 (or void)</span>. The <span class="guilabel">Host fluid</span> determines the fluid
regions where the <span class="guilabel">marker particles</span> can exist. If marker particles are allowed to be in the void,
they do not move; remaining stationary until swept by fluid. Exiting
the <span class="guilabel">Host fluid</span> will cause the <span class="guilabel">marker particles</span> to
disappear from the computational domain.</p>
<p><span class="guilabel">Marker particles</span> can be given a <span class="guilabel">Diffusion coeffiecient</span>,
which describes the rate at which the particles diffuse in fluid, and
an <span class="guilabel">Inverse Schmidt number</span> , which determines the rate of turbulent diffusion.
In order to set the <span class="guilabel">Inverse Schmidt number</span>, a turbulence model needs to be activated.
Turbulence models can be enabled at <span class="menuselection">Physics ‣ Viscosity and Turbulence</span>.</p>
<p><span class="guilabel">Marker particles</span> can be set to stick to a solid object following a collision.
To enable this option, click on the <span class="guilabel">Stick to walls</span> checkbox.</p>
<p>Finally, the <span class="guilabel">Ignore particle data in restart source file</span> option determines whether to either take into account the particle information from the
results file of the previous simulation, when unchecked, or reset their position based on what is defined in the <span class="guilabel">Marker</span> tab, when checked.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="theory.html#markerparticlesth"><span class="std std-ref">Marker Particles</span></a></p>
</div>
</div>
<div class="section" id="mass-particles">
<span id="particle-setup-mass"></span><span id="index-258"></span><h5>Mass particles<a class="headerlink" href="#mass-particles" title="Permalink to this headline">¶</a></h5>
<p><span class="guilabel">Mass particles</span> can be considered as solid spheres with a specific diameter and
density. Therefore, <span class="guilabel">mass particles</span> can be readily used to model the motion of
suspended solids in the computational domain. Other <span class="guilabel">material particle</span> classes are based on
the <span class="guilabel">mass particle</span> class, hence some of the properties of <span class="guilabel">mass particles</span>
discussed in this section are common with other particle classes.</p>
<img alt="Particles mass" src="_images/particles_mass_v12.JPG" />
<p>To introduce <span class="guilabel">mass particles</span>, open the particle window which can be found in
<span class="menuselection">Physics ‣ Particles</span> and in the <span class="guilabel">Mass</span> tab click on the
<span class="guilabel">Enable</span> checkbox.. Then enter a name for the particle class in the <span class="guilabel">Title</span>
field (optional) and specify the <span class="guilabel">Maximum allowed number of mass particles</span>.</p>
<p>For <span class="guilabel">mass particles</span> it is also necessary to enter the <span class="guilabel">Number of Species</span>
and their properties. The <span class="guilabel">Number of Species</span> determines the total number of different
types of particles in terms of <span class="guilabel">Diameter</span> and <span class="guilabel">Density</span>. Once the
<span class="guilabel">Number of Species</span> has been set, then the values for <span class="guilabel">Diameter</span> and
<span class="guilabel">Density</span> can be entered in the table.</p>
<p>The various <span class="guilabel">mass particle</span> properties can be entered in the
<span class="guilabel">Particle class properties</span> section. Similarly to other particle classes, a
<span class="guilabel">Host fluid</span> has to be defined for <span class="guilabel">mass particles</span>. The available choices
are <span class="guilabel">Fluid #1 and #2 (or void)</span>, <span class="guilabel">Fluid #1</span> only or <span class="guilabel">Fluid #2 (or void)</span>
only. The <span class="guilabel">Host fluid</span> practically represents the fluid regions where the
<span class="guilabel">mass particles</span> can exist. If a particle escapes the <span class="guilabel">Host fluid</span>,
then it is removed from the computational domain.</p>
<p>In the <span class="guilabel">Coefficients</span> section, various parameters that affect particle behavior can be entered:</p>
<ul class="simple">
<li>The <span class="guilabel">Diffusion coefficient</span> is a metric that specifies the rate at which particles diffuse in fluid.</li>
<li>The <span class="guilabel">Drag coefficient multiplier</span> is a variable that can be manipulated to adjust the fluid drag force acting on the particles. By default, the value of <span class="guilabel">Drag coeffiecient multiplier</span> is set to 1 which implies that the domain is populated with spherical particles. If particles have a different morphology, then their drag behavior can be modeled by varying the value of the <span class="guilabel">Drag coefficient multiplier</span>.</li>
<li>The <span class="guilabel">Inverse Schmidt number</span> describes the rate of turbulent diffusion. In order to enter a value for the <span class="guilabel">Inverse Schmidt number</span>, a turbulence model needs to be activated. Turbulence models can be enabled at <span class="menuselection">Physics ‣ Viscosity and Turbulence</span>.</li>
<li>The <span class="guilabel">Macro-particle coefficient</span> is a variable used for cases when the particles introduced in the simulation represent a cloud of several indentical particles. For example, setting the <span class="guilabel">Macro-particle coefficient</span> to 100 implies that each modeled particle is a representation of 100 smaller particles whose total volume equals the volume of the modeled particle.</li>
<li>Finally, the <span class="guilabel">Restitution coefficient</span> controls the behavior of the particles during collision events with solid objects and walls. Typically, the values of <span class="guilabel">Restitution coefficient</span> range from 0 to 1. A <span class="guilabel">Restitution coefficient</span> value of 1 is indicative of an elastic collision while a <span class="guilabel">Restitution coefficient</span> value of 0 implies that a plastic collision takes place. If the value of the <span class="guilabel">Restitution coefficient</span> is set to -1 then the particles will stick to the walls.</li>
</ul>
<p>By default, <span class="guilabel">mass particles</span> are affected by the fluid flow but their
motion does not alter the flow field. To model flow perturbations that
might occur due to the presence of particles, under <span class="guilabel">Particle/fluid interaction</span>,
click on the <span class="guilabel">Two-way momentum coupling</span> checkbox.</p>
<p>Moreover, <span class="guilabel">mass particles</span> can exchange thermal energy with
their <span class="guilabel">Host fluid</span>. In order to model this process, first, activate the
heat transfer model in <span class="menuselection">Physics ‣ Heat transfer</span> and click on
the <span class="guilabel">Fluid to solid heat transfer</span>. This enables the particle
<span class="guilabel">Thermal properties</span> to be specified. The required properties are
<span class="guilabel">Specific heat</span>, <span class="guilabel">Thermal conductivity</span> and, optionally the
<span class="guilabel">Heat transfer coefficient to host fluid</span>. If the value of the
<span class="guilabel">Heat transfer coefficient to host fluid</span> is set at -1, then the effective
heat transfer coefficient is automatically calculated based on Nusselt number correlations
for solid spheres. If any non-negative value is given, then it remains constant for all host
fluids i.e. Fluid #1 and/or Fluid #2 (or void).</p>
<p>Electrical forces for particles can also be accounted for. Particle
<span class="guilabel">Electrical properties</span> can be entered after navigating to
<span class="menuselection">Physics ‣ Electro-mechanics</span> and clicking on the
<span class="guilabel">Activate electric potential</span> checkbox. If particles have any dielectric
properties, then the <span class="guilabel">Dielectric constant</span> needs to be specified. If the
particles carry an electric charge, then its value can be entered for
specific <span class="guilabel">Particle blocks</span> or <span class="guilabel">Particle sources</span> in the particle
widget of the <span class="menuselection">Model Setup ‣ Particles</span> tab. Modeling dielectrophoresis
is also possible through by defining the guilabel:<cite>Electric conductivity</cite> for the particles.</p>
<p><span class="guilabel">Motion properties</span> can also be given for <span class="guilabel">mass particles</span>.
This allows to change the motion state of the particles between <span class="guilabel">Stationary</span> and <span class="guilabel">Moving</span>.</p>
<p>Finally, the <span class="guilabel">Ignore particle data in restart source file</span> option determines whether to either take into account the particle information from the
results file of the previous simulation, when unchecked, or reset their properties based on what is defined in the <span class="guilabel">Mass</span> tab, when checked.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The particle model is used for modeling spherical particles. In cases that involve particles of a different shape:</p>
<ul class="last simple">
<li>Set a particle <span class="guilabel">Diameter</span> so that it reflects the volume of the non spherical particles to be modeled.</li>
<li>Adjust the value of the <span class="guilabel">Drag coefficient multiplier</span> in order to better capture the drag behavior of the changed morphology.</li>
</ul>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li><a class="reference internal" href="#transportofheatinfluidmr"><span class="std std-ref">Transport of Heat in Fluid</span></a></li>
<li><a class="reference internal" href="#electricfieldsmr"><span class="std std-ref">Electric Fields</span></a></li>
<li><a class="reference internal" href="theory.html#massparticlesth"><span class="std std-ref">Material (Mass, Liquid, and Gas) Particles</span></a> and <a class="reference internal" href="theory.html#particlefluidinteractionth"><span class="std std-ref">Particle/Fluid Momentum Interaction</span></a></li>
</ul>
</div>
</div>
<div class="section" id="fluid-particles">
<span id="particle-setup-fluid"></span><span id="index-259"></span><h5>Fluid particles<a class="headerlink" href="#fluid-particles" title="Permalink to this headline">¶</a></h5>
<p><span class="guilabel">Fluid particles</span> can be thought of as droplets of Fluid #1. <span class="guilabel">Fluid particles</span> can be used for a plethora of simulations
involving modeling fluid volumes smaller than a computational cell such as fluid sprays, additive manufacturing,
welding etc.</p>
<img alt="Particles fluid" src="_images/particles_fluid_v12.JPG" />
<p>To enable the use of <span class="guilabel">fluid particles</span> go to <span class="menuselection">Physics ‣ Particles</span>
and in the <span class="guilabel">Fluid</span> tab check the <span class="guilabel">Enable</span> box. Optionally, a <span class="guilabel">Title</span> can
be given for the particle class. It is also important to enter the <span class="guilabel">Maximum allowed number
of particles</span> that will be modeled. Similarly
to <span class="guilabel">mass particles</span>, the <span class="guilabel">Number of Species</span> has to be defined for
<span class="guilabel">fluid particles</span>. However, in the species table, only the particle
<span class="guilabel">Diameter</span> can be edited since <span class="guilabel">fluid particles</span> automatically inherit
the density of Fluid #1, unless a density transport option is used (<span class="menuselection">Physics ‣ Density Evaluation</span>).</p>
<p>It is important to note that <span class="guilabel">fluid particles</span> exist in Fluid #2 (or void) and, only if  they are
solidified, in fluid #1 as well. Upon contact with Fluid #1, <span class="guilabel">fluid particles</span> in liquid state are
automatically converted to Fluid #1. <span class="guilabel">Fluid particles</span> can also evaporate but modeling their evaporation
is only compatible with the <span class="guilabel">Two-fluid phase change</span> model which can be activated in <span class="menuselection">Physics ‣ Bubble and Phase Change</span>.</p>
<p>Under <span class="guilabel">Particle class properties</span>, the parameters for fluid particles can be
specified. In terms of <span class="guilabel">Coefficients</span>, <span class="guilabel">fluid particles</span> behave similarly
to <span class="guilabel">mass particles</span>. Nevertheless, there are several differences.</p>
<ul class="simple">
<li>First of all, it is important to note since that the <span class="guilabel">Diffusion coefficient</span>, <span class="guilabel">Drag coefficient multiplier</span>, <span class="guilabel">Inverse Schmidt number</span> as well as the option for <span class="guilabel">Two-way momentum coupling</span> apply for liquid <span class="guilabel">fluid particles</span> in Fluid #2 (or void) and solidified <span class="guilabel">fluid particles</span> in both Fluid #1 and Fluid #2 (or void).</li>
<li>Moreover, when the values for the <span class="guilabel">Restitution coefficient</span> are set between 0 and 1, <span class="guilabel">fluid particles</span> behave similarly to mass particles in their collisions with solid objects. However, if the <span class="guilabel">Restitution coefficient</span> is set to -1, then the default behavior for <span class="guilabel">fluid particles</span> will be to turn into Fluid #1 upon impact.</li>
<li>The definition of this coefficient is further defined for cases where the fluid may solidify. By changing the values for the <span class="guilabel">Solidified restitution coefficient</span> it is possible to alter the collision behavior of solidified fluid particles. In order to edit this parameter, both Heat Transfer (accessible through <span class="menuselection">Physics ‣ Heat Transfer</span>) and Solidification (accessible through <span class="menuselection">Physics ‣ Solidification</span>) models must be activated.</li>
</ul>
<p>For applications where thermal energy exchange between the particles and
the fluid is of interest, <span class="guilabel">fluid particles</span> inherit their properties
directly from Fluid #1 but it is also possible to set the <span class="guilabel">Heat transfer coefficient
to host fluid</span> under <span class="guilabel">Thermal Properties</span> once the heat transfer model is enabled from
<span class="menuselection">Physics ‣ Heat Transfer</span>. For the default value of -1, the
<span class="guilabel">Heat transfer coefficient to host fluid</span> is computed by the solver.</p>
<p>When the <span class="guilabel">Electro-Mechanics</span> model is activated from
<span class="menuselection">Physics ‣ Electro-Mechanics</span>, the particle <span class="guilabel">Electrical Properties</span>
can be edited. Similarly, to their <span class="guilabel">Thermal properties</span>, <span class="guilabel">fluid particles</span>
inherit their properties from Fluid #1. An <span class="guilabel">Electric charge</span> can also be given
for <span class="guilabel">fluid particles</span> under <span class="guilabel">State</span> for any <span class="guilabel">Particle block</span> or
<span class="guilabel">Particle source</span> in the particle widget found in the <span class="menuselection">Model Setup ‣ Particles</span> tab.</p>
<p>Finally, the <span class="guilabel">Ignore particle data in restart source file</span> option determines whether to either take into account the particle information from the
results file of the previous simulation, when unchecked, or reset their properties based on what is defined in the <span class="guilabel">Fluid</span> tab, when checked.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="theory.html#massparticlesth"><span class="std std-ref">Material (Mass, Liquid, and Gas) Particles</span></a> and <a class="reference internal" href="theory.html#massparticlesthermalenergyphasechangeth"><span class="std std-ref">Fluid Particles with Heat Transfer and Phase Change</span></a></p>
</div>
</div>
<div class="section" id="gas-particles">
<span id="particle-setup-gas"></span><span id="index-260"></span><h5>Gas particles<a class="headerlink" href="#gas-particles" title="Permalink to this headline">¶</a></h5>
<p><span class="guilabel">Gas particles</span> are used to simulate spherical bubbles of gas and their interactions
with fluid, voids and solid objects.</p>
<img alt="Particles gas" src="_images/particles_gas_v12.JPG" />
<p><span class="guilabel">Gas particles</span> can be enabled by navigating to
<span class="menuselection">Physics ‣ Particles</span> and clicking the <span class="guilabel">Enable</span> checkbox in the <span class="guilabel">Gas</span>
tab. A <span class="guilabel">Title</span> can, optionally, be given for the particle class. The <span class="guilabel">Maximum allowed
number of particles</span> that will be modeled can also be specified.
Similarly to <span class="guilabel">mass particles</span> and <span class="guilabel">fluid particles</span>, it is necessary to set the
<span class="guilabel">Number of Species</span> for <span class="guilabel">gas particles</span> In the species table, set the particle
<span class="guilabel">Diameter</span> for each class.</p>
<p>In the <span class="guilabel">Particle class properties</span> section, the various parameters for
<span class="guilabel">gas particles</span> can be given. Similarly to other particle classes, it is necessary
to define the <span class="guilabel">Host fluid</span> for <span class="guilabel">gas particles</span>. The available options
are <span class="guilabel">Fluid #1 and #2 (or void)</span>, <span class="guilabel">Fluid #1</span> only or <span class="guilabel">Fluid #2 (or void)</span> only.
Practically, the <span class="guilabel">Host fluid</span> describes the fluid regions where the <span class="guilabel">gas particles</span>
can exist. Depending on the type of <span class="guilabel">Host fluid</span>, when the particles enter a void region
they may be automatically removed from the computational domain or
they may add their volume to that void.</p>
<p>As far as <span class="guilabel">Coefficients</span>, <span class="guilabel">Thermal properties</span>, <span class="guilabel">Electrical properties</span>
and <span class="guilabel">Two-way momentum coupling</span> are concerned, <span class="guilabel">gas particles</span> behave exactly as
<span class="guilabel">mass particles</span>. Please refer to the <span class="guilabel">Mass particles</span> section for more details.</p>
<p>What differentiates <span class="guilabel">gas particles</span> from other particle classes, is their ability to carry
gas related attributes. Gas related attributes can be specified in the <span class="guilabel">Void properties</span> section. More
specifically, the values of <span class="guilabel">Gamma</span> and the <span class="guilabel">Specific gas constant</span> can be entered.
This links the pressure, volume, mass and temperature of the <span class="guilabel">gas particles</span> so that
they follow the ideal gas equation of state.</p>
<p>In the event that any type of bubble model is activated from
<span class="menuselection">Physics ‣ Bubble and Phase Change</span>, <span class="guilabel">gas particles</span> can
interact with void regions and add their volume to them by clicking on the <span class="guilabel">Add particle volume to voids</span> checkbox.</p>
<p>Finally, the <span class="guilabel">Ignore particle data in restart source file</span> option determines whether to either take into account the particle information from the
results file of the previous simulation, when unchecked, or reset their properties based on what is defined in the <span class="guilabel">Gas</span> tab, when checked.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="theory.html#massparticlesth"><span class="std std-ref">Material (Mass, Liquid, and Gas) Particles</span></a> and <a class="reference internal" href="#adiabaticbubblesmr"><span class="std std-ref">Adiabatic Bubbles</span></a></p>
</div>
</div>
<div class="section" id="void-particles">
<span id="particle-setup-void"></span><span id="index-261"></span><h5>Void Particles<a class="headerlink" href="#void-particles" title="Permalink to this headline">¶</a></h5>
<p><span class="guilabel">Void particles</span> can be considered as specialized <span class="guilabel">gas particles</span> used for
tracking the movement of minute pockets of air after the collapse of void regions.</p>
<img alt="Particles void" src="_images/particles_void_v12.JPG" />
<p>To activate <span class="guilabel">void particles</span> move to <span class="menuselection">Physics ‣ Bubble and Phase Change</span> and after, enabling a bubble model,
click on the <span class="guilabel">Track collapsed bubbles with void particles</span> checkbox. The different particle
parameters can then be set by clicking on the <span class="guilabel">Advanced</span> button.</p>
<p><span class="guilabel">Void particle</span> options are similar to those of <span class="guilabel">gas particles</span>. However, there are
several differences that need to be addressed. More specifically, <span class="guilabel">void particles</span> can
only be of one species since their <span class="guilabel">size</span>, <span class="guilabel">density</span> along with their <span class="guilabel">temperature</span> depend on the characteristics
of the collapsed bubble. Also due to their nature, the <span class="guilabel">Host fluid</span> for <span class="guilabel">void particles</span> is set to <span class="guilabel">Fluid #1</span>.
Moreover, <span class="guilabel">void particles</span> cannot have a previously defined <span class="guilabel">Macro-particle coefficient</span> since the number of
the <span class="guilabel">void particles</span> generated can only be determined by the size of the bubble before collapsing.</p>
<p>When checked, the <span class="guilabel">Dynamic pressure and size</span> option will cause void particle
volume, mass and pressure to behave according to the ideal gas equation of state.
When <span class="guilabel">Intensification pressure</span> is defined for metal casting filling simulations, <span class="guilabel">Fill fraction</span>
is used as the termination criterion and <span class="guilabel">Dynamic pressure and size</span> option is selected,
then at the end of filling fluid pressure is reset to the intensification pressure and the void particle
size is adjusted accordingly using the void particle equation-of-state.</p>
<p>By default, <span class="guilabel">void particles</span> are affected by the fluid flow but their
motion does not alter the flow field. To model flow perturbations that
might occur due to the presence of particles, under <span class="guilabel">Particle/fluid interaction</span>,
ensure that the <span class="guilabel">Two-way momentum coupling</span> checkbox is checked.</p>
<p>Finally, the <span class="guilabel">Ignore particle data in restart source file</span> option determines whether to either take into account the particle information from the
results file of the previous simulation, when unchecked, or reset their properties based on what is defined in the <span class="guilabel">Void particles</span> window, when checked.</p>
</div>
<div class="section" id="user-customizable-particles">
<span id="particle-setup-custom"></span><span id="index-262"></span><h5>User-customizable particles<a class="headerlink" href="#user-customizable-particles" title="Permalink to this headline">¶</a></h5>
<p>In order to further expand on the potential of the particle model, new particle classes can be
created as <span class="guilabel">User Class</span> particles.</p>
<img alt="Particles user class" src="_images/particles_user_v12.JPG" />
<p>To add <span class="guilabel">User Class</span> particles go to <span class="menuselection">Physics ‣ Particles</span> and click
on the <span class="guilabel">Add Class</span> tab. This will generate a new tab where the properties of the
<span class="guilabel">User Class</span> particles can be specified. Similarly to other particle classes, a
<span class="guilabel">Title</span> can be optionally given for each <span class="guilabel">User Class</span> of particles. The
<span class="guilabel">Number of Species</span> along with their respective <span class="guilabel">Diameter</span> and
<span class="guilabel">Density</span> need to be entered as well.</p>
<p>As far as <span class="guilabel">Particle class properties</span> are concerned, <span class="guilabel">User Class</span> particles
can be separated, based on their <span class="guilabel">Particle type</span>,  into <span class="guilabel">Marker particles</span>
which are based on the <span class="guilabel">marker particle</span> class and <span class="guilabel">Material particles</span> which
are based on the <span class="guilabel">mass particle</span> class. Please refer to the description of each class
for a more thorough explanation of their properties.</p>
<p>The <span class="guilabel">Ignore particle data in restart source file</span> option determines whether to either take into account the particle information from the
results file of the previous simulation, when unchecked, or reset their properties based on what is defined in the <span class="guilabel">User</span> tab, when checked.</p>
<p>Both available <span class="guilabel">Particle types</span>, i.e. <span class="guilabel">Marker particles</span> and <span class="guilabel">Material particles</span> can be
customized to have additional user-defined properties.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">New particle attributes can only be given through customizing the supplied FORTRAN routines for
<span class="guilabel">User Class</span> particles. However, the details of this process are beyond the scope of the current section.
Please refer to the <a class="reference internal" href="customization.html"><span class="doc">Customization</span></a> section for more information.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="input-variable-summary-units.html#particlesetupparts"><span class="std std-ref">Particle Setup Namelist - PARTS</span></a> and <a class="reference internal" href="customization.html#customizinguserparticles"><span class="std std-ref">User Particles</span></a></p>
</div>
</div>
</div>
<div class="section" id="particle-blocks-and-sources">
<span id="particle-blocks-sources"></span><span id="index-263"></span><h4>Particle blocks and sources<a class="headerlink" href="#particle-blocks-and-sources" title="Permalink to this headline">¶</a></h4>
<p>After defining the general particle properties in the <span class="guilabel">Physics</span> wideget, the particles can be introduced
by either <span class="guilabel">Particle Block(s)</span> and <span class="guilabel">Particle Source(s)</span> lusing the <span class="guilabel">Particles</span> widget (<a class="reference internal" href="_images/particle_widget_icon_v12.png"><img alt="f3d_particle_icon" src="_images/particle_widget_icon_v12.png" style="width: 0.25in;" /></a>)
The process for adding <span class="guilabel">Particle Source(s)</span> and <span class="guilabel">Particle Block(s)</span> is common
to all particle types. In the <span class="menuselection">Model Setup</span> tab,
click on the particle icon (<a class="reference internal" href="_images/particle_widget_icon_v12.png"><img alt="f3d_particle_icon" src="_images/particle_widget_icon_v12.png" style="width: 0.25in;" /></a>) to bring the particle widget. A <span class="guilabel">Particle Block</span> can be thought of as a
rectangular box, inside which the particles are generated. To create a <span class="guilabel">Particle Block</span>, on the <span class="guilabel">Blocks</span> tab, click on
the plus icon (<a class="reference internal" href="_images/particle_widget_plus_icon_v12.png"><img alt="f3d_particle_plus_icon" src="_images/particle_widget_plus_icon_v12.png" style="width: 0.25in;" /></a>). Then, define the <span class="guilabel">Particle Class</span> and, optionally, provide a name for the block. Once a block has been created,
particles of the selected Class will be generated within its extents. The extents of the <span class="guilabel">Particle Block</span>  can be defined under the  <span class="guilabel">Definition</span> tab, in
the <span class="guilabel">Limiters</span> section. In the event that no <span class="guilabel">Limiters</span> are set, the block will extend up to the limits of the computational domain.
The number of particles for each <span class="guilabel">Particle Block</span> can also be given in the <span class="guilabel">Definition</span> tab, under the <span class="guilabel">Particle Distribution</span> section.
Users can enter either the <span class="guilabel">Total number of particles</span> in the <span class="guilabel">Particle Block</span> or
the <span class="guilabel">Number of particles</span> in each direction by choosing the <span class="guilabel">Total</span> or <span class="guilabel">Direction</span> from
the <span class="guilabel">Particle distribution</span> menu, respectively. The <span class="guilabel">Generation</span> of particles may follow
a <span class="guilabel">Random</span> or <span class="guilabel">Uniform</span> pattern based on the option selected in the <span class="guilabel">Generation</span> menu.</p>
<img alt="Particles widget block definition" src="_images/Particle_Block_Definition_v12.JPG" />
<p>The <span class="guilabel">Initial</span> tab contains the initial conditions for the generated particles. More specifically,
initial particle velocities for each direction can be entered in the <span class="guilabel">Velocities</span> section with the exception of marker particles that automatically inherit the velocity of the fluid.
In the <span class="guilabel">State</span> section, the <span class="guilabel">Initial pressure</span>, <span class="guilabel">Initial Temperature</span> and <span class="guilabel">Electric Charge</span> can
be specified when applicable. The <span class="guilabel">Pressure Usage</span> and <span class="guilabel">Temperature Usage</span> menus offer the
option to either accept the initial pressure or temperature definition from the <span class="guilabel">Particle Block</span> or assume the values
of the <span class="guilabel">Local Fluid</span>. In the event that the heat trasnfer model is turned off the particle temperature will be equal to the <span class="guilabel">Reference temperature</span>.</p>
<img alt="Particles widget block initial" src="_images/Particle_Block_Initial_v12.JPG" />
<p>Finally, the <span class="guilabel">Concentration</span> tab allows to determine the initial
ratio between particle species, e.g. for a simple case of 2 particle species a <span class="guilabel">Concentration</span> of 1
for the first particle species and 3 for the second means that 25% of the particles generated will be of the
first species and 75% will be of the second. By default, the concentration for each species is set to 1 even
if there are multiple particle species. Hence, the default behavior is generate equal amount of particles for
each species.</p>
<img alt="Particles widget block concentration" src="_images/Particle_Block_Concentration_v12.JPG" />
<p>A similar process applies to creating a <span class="guilabel">Particle Source</span>. To create
a <span class="guilabel">Particle Source</span>, on the particle widget, select the <span class="guilabel">Sources</span> tab and click on
the plus icon (<a class="reference internal" href="_images/particle_widget_plus_icon_v12.png"><img alt="f3d_particle_plus_icon" src="_images/particle_widget_plus_icon_v12.png" style="width: 0.25in;" /></a>). The settings for a <span class="guilabel">Particle Source</span> are similar to those for a <span class="guilabel">Particle Block</span>. However
for a <span class="guilabel">Particle Source</span>, in the <span class="guilabel">Definition</span> tab under <span class="guilabel">Particle distribution</span> one could
define the <span class="guilabel">Rate of generation</span> which determines the number of particles
per second that will be generated by the source. Additionally, a <span class="guilabel">Particle source</span>
can move at prescribed translational and rotational velocities. to define the motion of a <span class="guilabel">Particle Source</span>
on the particle widget, select the <span class="guilabel">Sources</span> tab and then navigate to the <span class="guilabel">Moving</span> tab. First, the location
of the reference point needs to be defined. The location of the reference point can be defined in the <span class="guilabel">Initial location</span> box
as a set of coordinates about which translational or angular velocities will be applied. Next, the <span class="guilabel">Translational velocity</span>
and <span class="guilabel">Angular velocity</span> can be defined for each coordinate. Tabular input, i.e. values as a function of time, is available
for both <span class="guilabel">Translational velocity</span> and <span class="guilabel">Angular velocity</span>. However, the location of the reference point cannot be
defined as a function of time.</p>
<img alt="Particles widget sources" src="_images/Particle_Source_Definition-Moving_v12.jpg" />
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="input-variable-summary-units.html#particlesetupsourceinitializedparticles"><span class="std std-ref">Particle Setup: Source Initialized Particles</span></a></p>
</div>
</div>
<div class="section" id="probe-particles">
<h4>Probe particles<a class="headerlink" href="#probe-particles" title="Permalink to this headline">¶</a></h4>
<p>Probe particles can be considered as history probes with particle properties. They can be used to provide information
from the perspective of a particle of any defined <span class="guilabel">Particle Class</span> or  <span class="guilabel">Species</span>. Probe particles can be added in
the domain using the <span class="guilabel">Particles</span> widget. Click on the particle icon (<a class="reference internal" href="_images/particle_widget_icon_v12.png"><img alt="f3d_particle_icon" src="_images/particle_widget_icon_v12.png" style="width: 0.25in;" /></a>), navigate to the
<span class="guilabel">Probes</span> tab and click on the Plus button (<a class="reference internal" href="_images/particle_widget_plus_icon_v12.png"><img alt="f3d_particle_plus_icon" src="_images/particle_widget_plus_icon_v12.png" style="width: 0.25in;" /></a>) to add a probe particle. Then, define the <span class="guilabel">Particle Class</span>
and, optionally, provide a name for the probe. If the <span class="guilabel">Particle Class</span> represents a material particle i.e.
<span class="guilabel">Mass</span>, <span class="guilabel">Fluid</span>, <span class="guilabel">Gas</span> or <span class="guilabel">User</span> particles, the <span class="guilabel">Species represented by probe</span>
must first be selected from the drop-down list in the <span class="guilabel">Initial</span> tab. For all particle classes the starting
coordinates of the particle must be specified in the  <span class="guilabel">Initial location</span> box of the <span class="guilabel">Initial</span> tab. Moreover,
the initial velocities for each direction should be defined in the <span class="guilabel">Velocities</span>. If the probe particle refers to a material
<span class="guilabel">Particle Class</span>, define its initial conditions in the <span class="guilabel">State</span> box. These include, the particle’s <span class="guilabel">Initial pressure</span>
<span class="guilabel">Initial temperature</span> and <span class="guilabel">Electric charge</span> if applicable. Finally, probe particles have a restart simulation
option of <span class="guilabel">Ignore particle data in restart source file</span> to either take into account the particle information from the
results file of the previous simulation, when unchecked, or reset their position based on what is defined in the <span class="guilabel">Probes</span> tab, when checked.</p>
<img alt="Particles widget sources" src="_images/Particle_Probes_Initial_v12.JPG" />
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>When a probe particle leaves the domain it is converted to a stationary history probe at its last location
in the grid.  The probe continues reporting solution quantities but its x, y
and z coordinates are now fixed in time.</li>
</ul>
</div>
</div>
<div class="section" id="particle-output">
<span id="index-264"></span><span id="id5"></span><h4>Particle output<a class="headerlink" href="#particle-output" title="Permalink to this headline">¶</a></h4>
<p>The output of the particle model varies between particle classes, but generally includes
particle-specific quantities written to Restart and Selected data catalogs, integrated
quantities written to the General History catalog and diagnostics written to the preprocessor
and solver summary files <code class="file docutils literal notranslate"><span class="pre">prpout</span></code> and <code class="file docutils literal notranslate"><span class="pre">hd3out</span></code>, respectively.</p>
<p>The particle specific data includes particle locations and velocities, particle life time
since their creation, and various physical attributes (for material particles) such as density,
size and temperature. Pressure is added for particles of the Gas and Void classes. Each particle
in a class has a unique id as well as a tag telling which initial particle block or source
it came from. Each particle class can be viewed individually or in combination with other particle
classes.</p>
<p>The General History data includes the total particle counts in each class and the particle
counts of each species crossing flux surfaces (see <a class="reference internal" href="model-setup.html#bafflesmng"><span class="std std-ref">Baffles</span></a>) and located inside sampling
volumes at any given time, if those diagnostic objects are defined. The output also includes
the particle count of each species created at each particle source, which is useful
when a distribution of species at a source is defined. Similarly, the number of particles
of each species created at the initial particles blocks at the beginning of simulation is written
to the preprocessor summary file <code class="file docutils literal notranslate"><span class="pre">prpout</span></code>.</p>
<p>Along with the particle counts, the total volume and mass for material particles are also
output at flux surfaces, in sampling volumes and for the whole computational domain.</p>
<p>Finally, the <em>long</em> diagnostic prints to the solver summary file <code class="file docutils literal notranslate"><span class="pre">hd3out</span></code> include the total
current particle count in each class and the number of discarded particles, e.g., those that left
the domain through an outflow boundary. For the Fluid particle class, the number of particles
converted to fluid is also written out, and the output for the Gas and Void particles includes
the number of each type that escaped to void.</p>
</div>
</div>
<div class="section" id="limitations">
<span id="particle-limitations"></span><span id="index-265"></span><h3>Limitations<a class="headerlink" href="#limitations" title="Permalink to this headline">¶</a></h3>
<p>Although some of the limitations of the Lagrangian particle model have been discussed previously, a short description of each will be given in this section in order to make the description of the model more inclusive.
Some of these limitations are common to all particle classes and are due to the nature of the model itself while others are limited only to a particular particle class. More specifically:</p>
<ul class="simple">
<li>Particles do not displace fluid. This limitation applies to all particle classes and implies that the volume of fluid in the domain will remain unchanged, independent of the number of particles in it.</li>
<li>Particles can only be active the specified host fluid. Once the particles exit the specified host fluid, they are automatically removed from the computational domain.</li>
<li>Particles can only diffuse in Fluid #1 (or Fluid #2) but not in voids. This is a limitation associated with the particle diffusion model and implies that diffusion effects can only be modeled when particles are located in Fluid.</li>
<li>Particles do not interact with each other. No inter-particle effects such as collisions between particles can be modeled.</li>
<li>When the value of the heat transfer coefficient is manually set, it remains constant for all fluids where the particles may exist in.</li>
<li>Particles of the Marker class do not have any mass attributes. In that sense, marker particles can be considered as individual fluid molecules.</li>
<li>Particles of the Marker class cannot be given initial velocities in their Particle Block or Source definitions. Hence, they rely only on fluid motion to move inside the computational domain.</li>
<li>Particles of the Mass, Fluid, Gas and User classes should be smaller than the size of a computational cell. This limitations stems from the previously mentioned inability of particles to displace fluid. Hence, in cases where particle volume is equal to or larger than the size of the computational cells, fluid volume errors may occur.</li>
<li>Particles of the Fluid class can only have Fluid #2 (or void) as their host fluid unless solidified. This is a limitation inherent to the nature of fluid particles which convert to Fluid #1 upon contact with a Fluid #1 fluid region.</li>
<li>Particles of the Fluid class can solidify and evaporate. However, evaporation modeling is only compatible with the two-fluid phase change model.</li>
<li>When particles of the Fluid class are added to added to the bulk fluid through a free surface, if the fluid fraction of that cell is below 1E-6, the fluid from the particles may be reported as volume error. This is due to the fact that <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> does not capture fluid fractions of less than 1E-6.  There is a mechanism to accumulate that error and put it back into the cell when it exceeds the cutoff, but in the case of a a finite number of particles with small volume, the  threshold may not be reached.</li>
<li>Particles of the Void class can only have Fluid #1 as their host fluid. This limitation is caused by the fact that void particles can only be created after Fluid #1 begins to occupy cells that were previously a void region.</li>
</ul>
<p>For more information on the limitations of the particle model please refer to the <a class="reference internal" href="theory.html"><span class="doc">Theory</span></a> section of the manual.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="theory.html#discreteparticledynamicsth"><span class="std std-ref">Discrete Particle Dynamics</span></a></p>
</div>
<span class="target" id="index-266"></span></div>
</div>
<div class="section" id="porous-media">
<span id="flowinporouscomponentsmr"></span><span id="index-267"></span><h2>Porous Media<a class="headerlink" href="#porous-media" title="Permalink to this headline">¶</a></h2>
<p>Porous media models are used to simulate flow through solid objects in which there are interconnected void spaces through which fluid can flow. These models can represent a wide range of permeable objects (e.g. soil, rocks, filters, packed beds, paper). This model is implemented as a sub-grid process by applying volume averaged quantities to the porous region and calculating bulk fluid velocity and pressure drop with one of the available porous media drag models in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span>. A full description of the governing equations in the porous media model is provided in the theory section (see <a class="reference internal" href="theory.html#porousmediamodelsth"><span class="std std-ref">Porous Media Models</span></a>).</p>
<p>The porous media model is activated entirely within the <span class="menuselection">Model Setup ‣ Geometry</span> tab. This is done by creating porous media geometry objects and assigning them porous properties. Porous geometry objects are created within the geometry widget as a <span class="guilabel">Porous</span> component type. For each individual porous component type, the user will define properties of the porous media. The <span class="guilabel">Drag model</span> specifies the method used by <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> to calculate the drag in the porous region. This should be the first property defined as its selection will affect the availability of other properties to be defined within the porous properties window. Note that separate drag models and porous properties can be defined for each individual component within the <span class="menuselection">Model Setup ‣ Geometry</span> tab.</p>
<div class="section" id="creating-a-porous-component">
<h3>Creating a Porous Component<a class="headerlink" href="#creating-a-porous-component" title="Permalink to this headline">¶</a></h3>
<p>The first step in setting up a simulation with porous media is to define the shape of the porous object with subcomponents (see <a class="reference internal" href="model-setup.html#subcomponentsms"><span class="std std-ref">Creating Subcomponents</span></a>) that are added to a <span class="guilabel">Porous</span> component type.
The porous component can be specified in the <span class="menuselection">Model Setup ‣ Geometry</span> tab in two equivalent ways:</p>
<ul>
<li><p class="first">When adding the subcomponment, choose to add it as a <span class="guilabel">New Component</span>. In the <span class="guilabel">Add Component</span> option window, choose the <span class="guilabel">Porous</span> component type.</p>
<img alt="First of two Ways of Adding a Porous Component" src="_images/porous-create-component.png" />
</li>
<li><p class="first">An existing component can also be changed to a <span class="guilabel">Porous</span> component through the component <span class="guilabel">Type</span> menu in the geometry widget.</p>
<img alt="Second of two Ways of Adding a Porous Component" src="_images/porous-change-component.png" />
</li>
</ul>
</div>
<div class="section" id="porous-component-properties">
<h3>Porous Component Properties<a class="headerlink" href="#porous-component-properties" title="Permalink to this headline">¶</a></h3>
<p>Once the <span class="guilabel">Component Type</span> is set to <span class="guilabel">Porous</span>, the
parameters on the component branch <span class="menuselection">Model Setup ‣
Geometry ‣ Component ‣ Porous Properties</span> become active.</p>
<blockquote>
<div><a class="reference internal image-reference" href="_images/porous-component-properties-user-defined-properties.png"><img alt="User-Defined Component Porous Properties" src="_images/porous-component-properties-user-defined-properties.png" style="width: 489.6px; height: 760.8px;" /></a>
</div></blockquote>
<ul class="simple">
<li><strong>Porosity:</strong> The ratio of the open volume to the total volume (the
volumetric porosity). The porosity must be a positive number or the
component will be treated as a solid. A porosity of 0.0 represents solid
(closed) geometry and a value of 1.0 represents empty (open) geometry. The
default porosity is 0.5. Use multiple porous components to define complex
regions with spatially-variable porosity. Porosity is dimensionless (open
volume per total volume), and cannot be time-dependent. Note: If the porosity
is less than 1% (0.01 default) the variable <span class="target" id="index-268"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">EPS</span></code> causes the porosity
to be set to zero. <span class="target" id="index-269"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">EPS</span></code> must be set to a lower value than the
porosity assignment.</li>
<li><strong>X-, Y-, and Z-Direction Porosity:</strong>  The porosity can be specified
independently in each coordinate direction, allowing for the simulation of
anisotropic materials with preferential flow paths, as in tube bundles.
The units of the directional porosity are open area per total area
(dimensionless). The <em>volumetric</em> porosity must be between the maximum of
the directional porosities and one.</li>
<li><strong>Capillary Pressure:</strong> The average, constant additional resistance or
enhancement to flow in the media as a function of capillary
(surface tension) effects. The capillary pressure has units of pressure (force/area,
mass/length/time<sup>2</sup>).  More detail on the different capillary
pressure models is given below in <a class="reference internal" href="#capillarypressuremr"><span class="std std-ref">Capillary Pressure Models</span></a>.</li>
<li><strong>Specific Surface Area:</strong> The total surface area per unit volume of the bulk media.
This is used only for heat transfer and defaults
to 1.0. Units of area per volume (length<sup>-1</sup>).</li>
<li><strong>Drag model:</strong> Choose the drag model to be applied in the porous media regions. Options are
available for both saturated and unsaturated flow. The choice of the  drag model affects the
dependency of the remaining properties within the <span class="guilabel">Porous properties</span> window.</li>
<li><strong>Darcian / Non-Darcian Permeability:</strong> The porous media linear and non-linear
permeabilities. The coefficients are used only when the <span class="guilabel">Permeability dependent saturated drag model</span> is active.</li>
<li><strong>Drag Coefficient A / B:</strong> Coefficients that describe the
magnitude of drag experienced by fluid in the media. The values and units of these parameters
depend on the selected drag model (e.g., <span class="guilabel">Forchheimer saturated drag</span>).</li>
<li><strong>Minimum Saturation:</strong> The volumetric fraction of porosity that cannot be
drained. Usually a function of capillary surface tension effects. Defaults
to 0.0; dimensionless.</li>
<li><strong>Maximum Saturation:</strong> The maximum fraction of porosity that can be filled.
This is less than one when there are void regions that can’t be occupied by fluid
because they are completely enclosed by solid or because of bubble
entrapment. Defaults to 1.0; dimensionless.</li>
<li><strong>Unsaturated Drag Function:</strong>
Selects a drag (i.e., permeability) relation for unsaturated porous media.
Options are described in detail below in <a class="reference internal" href="#unsaturateddragmr"><span class="std std-ref">Unsaturated Porous Media Drag Models</span></a>.</li>
<li><strong>Unsaturated Pressure Curve:</strong> Selects  whether the full wetting and
draining hysteresis relationship should be used, or if
a simpler wetting or draining curve should be used.</li>
<li><strong>Unsaturated Capillary Pressure Effects:</strong> Choose between options for <span class="guilabel">Simplified
Capillary Pressure</span> and <span class="guilabel">Van Genuchten Capillary Pressure</span> to specify capillary pressure
as a function of the local saturation and one or more hysteresis functions.</li>
<li><strong>Simplified Saturation at Max Capillary Pressure:</strong>
When the simplified capillary pressure model is used, this term describes the absolute saturation
(dimensionless) below which the capillary pressure magnitude is greatest and constant.</li>
<li><strong>Simplified Maximum Capillary Pressure:</strong>
The capillary pressure matching the absolute saturation when using the simplified capillary
effects model. Units of pressure (force/area, mass/length/time<sup>2</sup>).</li>
<li><strong>Pressure Curve Fitting Coefficient:</strong> A
dimensionless exponent used to describe the relationship between saturation, drag and capillary pressure
in unsaturated media when using the power law or exponential drag models.</li>
<li><strong>Wetting and Draining Curve Parameters:</strong> The wetting and draining curve parameters used with the
Van Genuchten capillary pressure effects model.</li>
</ul>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"> <a class="reference internal" href="input-variable-summary-units.html#componentpropertiesporouscomponents"><span class="std std-ref">Component Properties: Porous Components</span></a></p>
</div>
</div>
<div class="section" id="porous-media-drag-models">
<span id="porousdragmodelsmr"></span><span id="index-270"></span><h3>Porous Media Drag Models<a class="headerlink" href="#porous-media-drag-models" title="Permalink to this headline">¶</a></h3>
<p>The selection of the porous media drag model is a critical step in the simulation setup. The selection of the drag model will depend on the nature of the physical scenario being modeled, and will affect how all other porous media properties will be defined. From the <span class="guilabel">Drag model</span> selection menu the user can choose between an option for <span class="guilabel">No Drag</span> and options for both <em>saturated</em> and <em>unsaturated</em> porous media. Choosing <span class="guilabel">No drag</span> maintains a sharp interface in the porous media with constant capillary pressure but no drag – basically, the fluid accelerates when it moves through the porous medium (due to mass conservation), but no additional drag is computed.</p>
<p>The three <a class="reference internal" href="#saturateddragmr"><span class="std std-ref">Saturated Porous Media Drag Models</span></a> in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> are as follows:</p>
<ul class="simple">
<li><a class="reference internal" href="#darciandragmr"><span class="std std-ref">Darcian Saturated Drag Model</span></a></li>
<li><a class="reference internal" href="#forchheimersaturateddragmodelmr"><span class="std std-ref">Forchheimer Saturated Drag Model</span></a></li>
<li><a class="reference internal" href="#permeabilitydependentdragmr"><span class="std std-ref">Permeability Dependent Saturated Drag</span></a></li>
</ul>
<p>The three <a class="reference internal" href="#unsaturateddragmr"><span class="std std-ref">Unsaturated Porous Media Drag Models</span></a> in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> are as follows:</p>
<ul class="simple">
<li><a class="reference internal" href="theory.html#powerlawdragth"><span class="std std-ref">Power Law Unsaturated Drag Model</span></a></li>
<li><a class="reference internal" href="theory.html#exponentialunsaturateddragmodelth"><span class="std std-ref">Exponential Unsaturated Drag Model</span></a></li>
<li><a class="reference internal" href="theory.html#mualemsunsatdragmodelrelativepermeabilityth"><span class="std std-ref">Mualem’s Unsaturated Drag Model for Relative Permeability</span></a></li>
</ul>
<div class="section" id="calculating-the-porous-media-drag-coefficient">
<h4>Calculating the Porous Media Drag Coefficient<a class="headerlink" href="#calculating-the-porous-media-drag-coefficient" title="Permalink to this headline">¶</a></h4>
<p>The section provides details on how each of the porous media drag models are implemented in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span>. In all cases, the resistance to flow in a porous medium is represented in the Navier-Stokes equations as a drag term proportional to the velocity. Note that the drag coefficient <img class="math" src="_images/math/cc73c5d59d70cca49172396fd567c57c723ad2de.png" alt="F_d" style="vertical-align: -3px"/> here has units of [1/t], and is calculated based on the selection of
the <span class="guilabel">Drag model</span>:</p>
<div class="math" id="equation-navierstokesequationdragtermproportionaltovelocitymr">
<p><span class="eqno">(6)<a class="headerlink" href="#equation-navierstokesequationdragtermproportionaltovelocitymr" title="Permalink to this equation">¶</a></span><img src="_images/math/614c71dd3c89f94df2f4071edeec3a6c48190656.png" alt="{\mathbf{b}}{\text{ }} = {\text{ }}{F_d}{\mathbf{u}_{\text{microscopic}}}"/></p>
</div><p>The drag term (<img class="math" src="_images/math/b80f7c7b0a045f759f641cbdbfa0384b20185dd9.png" alt="{F_d}{\mathbf{u}_{\text{microscopic}}}" style="vertical-align: -6px"/>) is added to the right side of the momentum balance (see <a class="reference internal" href="theory.html#momentumequationsth"><span class="std std-ref">Momentum Equations</span></a>). Here <img class="math" src="_images/math/8ee7d1e28729a929e12e2d1e58a72300f564b055.png" alt="\mathbf{u}_{\text{microscopic}}" style="vertical-align: -6px"/> is the microscopic flow velocity, which is also reported by the postprocessor. Saturated macroscopic and microscopic velocities are theoretically related by the media effective porosity via the equation:</p>
<div class="math" id="equation-pore-to-bulk">
<p><span class="eqno">(7)<a class="headerlink" href="#equation-pore-to-bulk" title="Permalink to this equation">¶</a></span><img src="_images/math/d0d136039fcfd7e9c1d0255d47621f8692952b05.png" alt="\mathbf{u}_{\text{microscopic}} = \frac{ \mathbf{u}_{\text{bulk}} }{\phi}"/></p>
</div><p>The drag coefficient <img class="math" src="_images/math/2e701b3cf0242becd837abb98c5afcd4523c2df7.png" alt="{F_d}" style="vertical-align: -3px"/> is calculated for each cell at each time step and converted with <img class="math" src="_images/math/3c948ff5172f0e264c801a383ea1b7de4fa84266.png" alt="\Delta t" style="vertical-align: 0px"/> (the time-step size) as output into the dimensionless quantity <img class="math" src="_images/math/404966eaebd2943c4a93ddc0db92b7808f465c49.png" alt="\text{DRG}" style="vertical-align: 0px"/>:</p>
<div class="math">
<p><img src="_images/math/ef759da056ed6db480c8489c96eae5f9185ab5d4.png" alt="\text{DRG} = \frac{1}{{1 + {F_d}\Delta t}}"/></p>
</div><p>where <img class="math" src="_images/math/3c948ff5172f0e264c801a383ea1b7de4fa84266.png" alt="\Delta t" style="vertical-align: 0px"/> is the time step size for the current computational cycle.
This value always varies between 0.0 (infinite drag – no fluid flow) and 1
(zero drag – infinite permeability). This quantity is plotted in the
output as <img class="math" src="_images/math/bd0a09ce54de895ecb8f72d9090dbbd93245f68b.png" alt="1 - \text{DRG}" style="vertical-align: 0px"/> and is called the <em>normalized drag coefficient</em>.</p>
<span class="target" id="index-271"></span></div>
<div class="section" id="saturated-porous-media-drag-models">
<span id="saturateddragmr"></span><span id="index-272"></span><h4>Saturated Porous Media Drag Models<a class="headerlink" href="#saturated-porous-media-drag-models" title="Permalink to this headline">¶</a></h4>
<span class="target" id="index-273"></span><div class="section" id="darcian-saturated-drag-model">
<span id="darciandragmr"></span><span id="index-274"></span><h5>Darcian Saturated Drag Model<a class="headerlink" href="#darcian-saturated-drag-model" title="Permalink to this headline">¶</a></h5>
<p>The basis of the Darcian saturated drag is the equation of Henry Darcy, in
which the unidirectional flow rate through porous media is linearly
proportional the applied pressure difference:</p>
<div class="math" id="equation-darcys-law">
<p><span class="eqno">(8)<a class="headerlink" href="#equation-darcys-law" title="Permalink to this equation">¶</a></span><img src="_images/math/dd8e37fd410f26afa051f29b403eaf650ea5b5a4.png" alt="\mathbf{u}_{\text{bulk}} =  - \frac{K}{\mu } \nabla p"/></p>
</div><p>where:</p>
<ul class="simple">
<li><img class="math" src="_images/math/6fc725ec3f34c48a112d93e5652d6deea7dbf696.png" alt="\mathbf{u}_{\text{bulk}}" style="vertical-align: -3px"/> is the apparent velocity
(i.e., the volume flux of fluid through the material)</li>
<li><img class="math" src="_images/math/1f95110560cf9695123aef81c197fb7715dfe919.png" alt="K" style="vertical-align: 0px"/> is the intrinsic permeability</li>
<li><img class="math" src="_images/math/bbdfba3f34876c71a27706eb12b647f73eb32d69.png" alt="\mu" style="vertical-align: -4px"/> is dynamic viscosity</li>
<li><img class="math" src="_images/math/6f48bd6ca0163e6916026e4a78bfa33e9cda5d78.png" alt="\nabla p" style="vertical-align: -4px"/> is the pressure gradient within the porous material</li>
</ul>
<p>The permeability <img class="math" src="_images/math/1f95110560cf9695123aef81c197fb7715dfe919.png" alt="K" style="vertical-align: 0px"/> can be expressed in terms of the drag coefficient
<img class="math" src="_images/math/cc73c5d59d70cca49172396fd567c57c723ad2de.png" alt="F_d" style="vertical-align: -3px"/> according to:</p>
<div class="math" id="equation-permeability-dragcoeff">
<p><span class="eqno">(9)<a class="headerlink" href="#equation-permeability-dragcoeff" title="Permalink to this equation">¶</a></span><img src="_images/math/a3eab8eccfaa78add7a3dc987448e1bc85834da8.png" alt="K = \frac{{\phi \mu }}{{\rho {F_d}}} \Longrightarrow F_d = \frac{{\phi \mu }}{{\rho K}}"/></p>
</div><p>which, combined with Eq. <a class="reference internal" href="#equation-pore-to-bulk">(7)</a> and Eq. <a class="reference internal" href="#equation-darcys-law">(8)</a> is</p>
<div class="math" id="equation-dragcoeff">
<p><span class="eqno">(10)<a class="headerlink" href="#equation-dragcoeff" title="Permalink to this equation">¶</a></span><img src="_images/math/f9eec0da6048a1451539bfa13865d3093424b565.png" alt="{F_d} \cdot \mathbf{u}_{\text{microscopic}}= - \frac{1}{\rho} \nabla p"/></p>
</div><p>Darcy’s original observation holds when the pore Reynolds number <img class="math" src="_images/math/bd844dbf82ef209ba2e0138b99c639edc288ba8d.png" alt="Re_P" style="vertical-align: -3px"/>
is less than 1, and is usually reasonably accurate up to <img class="math" src="_images/math/bd844dbf82ef209ba2e0138b99c639edc288ba8d.png" alt="Re_P" style="vertical-align: -3px"/> of 10,
while the addition of the quadratic term provides better accuracy when the
velocity of fluid in the media is such that <img class="math" src="_images/math/bd844dbf82ef209ba2e0138b99c639edc288ba8d.png" alt="Re_P" style="vertical-align: -3px"/> exceeds 10. The
quadratic term is discussed in the following sub-section on the
<a class="reference internal" href="#forchheimersaturateddragmodelmr"><span class="std std-ref">Forchheimer Saturated Drag Model</span></a>.  For the Darcian model, <img class="math" src="_images/math/2e701b3cf0242becd837abb98c5afcd4523c2df7.png" alt="{F_d}" style="vertical-align: -3px"/>
in <a class="reference internal" href="#equation-dragcoeff">(10)</a> is specified directly as <span class="guilabel">Drag Coefficient A</span> in
<span class="menuselection">Model Setup ‣Geometry ‣ Component ‣ Porous Properties</span>.</p>
<span class="target" id="index-275"></span></div>
<div class="section" id="forchheimer-saturated-drag-model">
<span id="forchheimersaturateddragmodelmr"></span><span id="index-276"></span><h5>Forchheimer Saturated Drag Model<a class="headerlink" href="#forchheimer-saturated-drag-model" title="Permalink to this headline">¶</a></h5>
<p>The Forchheimer equation describes losses in porous materials as a combination
of viscous (linear) and form  (quadratic) drag terms. The form drag becomes
important as the pore Reynolds number (<img class="math" src="_images/math/bd844dbf82ef209ba2e0138b99c639edc288ba8d.png" alt="Re_P" style="vertical-align: -3px"/>) exceeds 10. In
Forchheimer’s equation, the pressure drop is given:</p>
<div class="math" id="equation-forchheimer-eqn-p">
<p><span class="eqno">(11)<a class="headerlink" href="#equation-forchheimer-eqn-p" title="Permalink to this equation">¶</a></span><img src="_images/math/f0ae702dcbb69738cc08c4cb234aa44ceec68100.png" alt="- \nabla p = \left( a + b \left| \mathbf{u}_{\text{bulk}} \right| \right) \mathbf{u}_{\text{bulk}}"/></p>
</div><p>where:</p>
<ul class="simple">
<li><img class="math" src="_images/math/2a3e6468d8e8436144abc2ac7a0eba94cfcf8833.png" alt="a" style="vertical-align: 0px"/> and <img class="math" src="_images/math/9a35981bab3fb1e23a2f374e4a027a565471a18d.png" alt="b" style="vertical-align: 0px"/> are coefficients defined by experimental data,</li>
<li><img class="math" src="_images/math/6fc725ec3f34c48a112d93e5652d6deea7dbf696.png" alt="\mathbf{u}_{\text{bulk}}" style="vertical-align: -3px"/> is the apparent velocity (i.e., the volume flux of fluid through the material),</li>
<li><img class="math" src="_images/math/6f48bd6ca0163e6916026e4a78bfa33e9cda5d78.png" alt="\nabla p" style="vertical-align: -4px"/> is the pressure gradient in real space within the porous material.</li>
</ul>
<p>The linear (Darcian) and quadratic (non-Darcian) flow loss equations are
combined into a single expression for <img class="math" src="_images/math/2e701b3cf0242becd837abb98c5afcd4523c2df7.png" alt="{F_d}" style="vertical-align: -3px"/>:</p>
<div class="math">
<p><img src="_images/math/3f166e75c5ee3e9af981a4d3fa9d7b3a5074eb53.png" alt="F_d \mathbf{u}_{\text{microscopic}} = - \frac{1}{\rho} \nabla p = \frac{\mu }{\rho }\frac{1 - {\phi}}{\phi}\left[ {A \frac{{1 - \phi}}{\phi} + B \frac{{Re_p}}{d_{\text{pore}}} } \right] \mathbf{u}_{\text{microscopic}}"/></p>
</div><p>where:</p>
<ul class="simple">
<li><img class="math" src="_images/math/89ee6ff675182b6882c4204ed78d702d7466508f.png" alt="A" style="vertical-align: 0px"/> is the linear drag coefficient (<span class="guilabel">Drag Coefficient A</span>),</li>
<li><img class="math" src="_images/math/358695c21929026e3978a87b20230517725436b0.png" alt="B" style="vertical-align: 0px"/> is the non-linear drag coefficient (<span class="guilabel">Drag Coefficient B</span>),</li>
<li><img class="math" src="_images/math/43c39ebe6079883ede9bb3a94e9a1674af72de6e.png" alt="\phi" style="vertical-align: -4px"/> is the porosity,</li>
<li><img class="math" src="_images/math/bbdfba3f34876c71a27706eb12b647f73eb32d69.png" alt="\mu" style="vertical-align: -4px"/> is the viscosity,</li>
<li><img class="math" src="_images/math/505bec53c42fc78b12fcff89dde94cd96fb0770b.png" alt="\rho" style="vertical-align: -4px"/> is the fluid density.</li>
</ul>
<p>Combining with the pressure loss equation <a class="reference internal" href="#equation-forchheimer-eqn-p">(11)</a> yields the
linear and quadratic contributions to pressure loss per unit length as a
function of bulk velocity:</p>
<div class="math" id="equation-pressure-loss-per-unit-length">
<p><span class="eqno">(12)<a class="headerlink" href="#equation-pressure-loss-per-unit-length" title="Permalink to this equation">¶</a></span><img src="_images/math/b8f66822069c99b743de62a00299814c8368609a.png" alt="- \nabla p = A \cdot \left| \mathbf{u}_{\text{bulk}} \right| \mu \frac{(1 - \phi )^2}{\phi^3 } + B \cdot \left| \mathbf{u}_{\text{bulk}} \right|^2 \rho \frac{(1 - \phi)}{\phi^3}"/></p>
</div><p><img class="math" src="_images/math/89ee6ff675182b6882c4204ed78d702d7466508f.png" alt="A" style="vertical-align: 0px"/> and <img class="math" src="_images/math/358695c21929026e3978a87b20230517725436b0.png" alt="B" style="vertical-align: 0px"/> are related to the experimentally determined coefficients <img class="math" src="_images/math/2a3e6468d8e8436144abc2ac7a0eba94cfcf8833.png" alt="a" style="vertical-align: 0px"/> and <img class="math" src="_images/math/9a35981bab3fb1e23a2f374e4a027a565471a18d.png" alt="b" style="vertical-align: 0px"/> by:</p>
<div class="math" id="equation-porousdragcoefficient">
<p><span class="eqno">(13)<a class="headerlink" href="#equation-porousdragcoefficient" title="Permalink to this equation">¶</a></span><img src="_images/math/a27d24b51f45e01d25861a6ea75838f9491b9a8e.png" alt="A = a \frac{\phi^3}{\mu (1 - \phi)^2}  {\text , } \quad  B = b \frac{\phi^3}{\rho (1 - \phi)}"/></p>
</div><p>Equation <a class="reference internal" href="#equation-porousdragcoefficient">(13)</a> can be used to curve-fit pressure loss
testing data, where <img class="math" src="_images/math/89ee6ff675182b6882c4204ed78d702d7466508f.png" alt="A" style="vertical-align: 0px"/> and <img class="math" src="_images/math/358695c21929026e3978a87b20230517725436b0.png" alt="B" style="vertical-align: 0px"/> are media-specific loss
coefficients. When test data is unavailable, they can be estimated:</p>
<div class="math">
<p><img src="_images/math/f2708c0f3aa1f9821885a9d0f58335eb167e50e6.png" alt="A = \frac{\alpha }{d_{\text{fiber}}^2}  {\text , } \quad  B = \frac{\beta }{d_{\text{fiber}}}"/></p>
</div><p>where:</p>
<ul class="simple">
<li><img class="math" src="_images/math/db68c1b58b0e0840702a7a6539a5253887a9cd69.png" alt="\alpha" style="vertical-align: 0px"/> is a constant, typically of order 180,</li>
<li><img class="math" src="_images/math/58f961270cf905208364b40799bc1ab9d5b3ed34.png" alt="\beta" style="vertical-align: -4px"/> is a roughness factor typically ranging between 1.8 and 4.0 (representing smooth through rough fibers), and</li>
<li><img class="math" src="_images/math/a594bac2476b1900be509aa32ef4d7c74506d065.png" alt="d_{\text{fiber}}" style="vertical-align: -3px"/> is the average equivalent spherical diameter of the fibers, dendrites, or particles of the porous media. For randomly packed spheres, the Ergun equation uses <img class="math" src="_images/math/db68c1b58b0e0840702a7a6539a5253887a9cd69.png" alt="\alpha" style="vertical-align: 0px"/> = 150 and <img class="math" src="_images/math/58f961270cf905208364b40799bc1ab9d5b3ed34.png" alt="\beta" style="vertical-align: -4px"/> = 1.75. Test data, where available, will provide better accuracy.</li>
</ul>
<span class="target" id="index-277"></span></div>
<div class="section" id="permeability-dependent-saturated-drag">
<span id="permeabilitydependentdragmr"></span><span id="index-278"></span><h5>Permeability Dependent Saturated Drag<a class="headerlink" href="#permeability-dependent-saturated-drag" title="Permalink to this headline">¶</a></h5>
<p>Permeability dependent saturated drag model is nothing but
<a class="reference internal" href="#forchheimersaturateddragmodelmr"><span class="std std-ref">Forchheimer Saturated Drag Model</span></a>, with porous media permeabilities as
the input, instead of <span class="guilabel">Drag Coefficient A</span> and <span class="guilabel">Drag
Coefficient B</span>. It provides a convenient way of defining saturated flow drag
models, if the porous media permeabilities are known.</p>
<p>In the Forchheimer’s pressure drop Eq. <a class="reference internal" href="#equation-forchheimer-eqn-p">(11)</a>, the
coefficients <img class="math" src="_images/math/2a3e6468d8e8436144abc2ac7a0eba94cfcf8833.png" alt="a" style="vertical-align: 0px"/> and <img class="math" src="_images/math/9a35981bab3fb1e23a2f374e4a027a565471a18d.png" alt="b" style="vertical-align: 0px"/> can be related to the porous media
permeabilities as:</p>
<div class="math">
<p><img src="_images/math/6fc93c4ad1d6ecb40435f10023f243c977809046.png" alt="a=\frac{\mu }{K} {\text , } \quad b=\frac{\rho }{K_2}"/></p>
</div><p>where:</p>
<ul class="simple">
<li><img class="math" src="_images/math/bbdfba3f34876c71a27706eb12b647f73eb32d69.png" alt="\mu" style="vertical-align: -4px"/> is the viscosity,</li>
<li><img class="math" src="_images/math/505bec53c42fc78b12fcff89dde94cd96fb0770b.png" alt="\rho" style="vertical-align: -4px"/> is the density,</li>
<li><img class="math" src="_images/math/1f95110560cf9695123aef81c197fb7715dfe919.png" alt="K" style="vertical-align: 0px"/> is the Darcian permeability</li>
<li><img class="math" src="_images/math/a4c4145679585cfa713022ab94234b0b7a2a03e7.png" alt="K_2" style="vertical-align: -3px"/> is the non-Darcian or inertial permeability.</li>
</ul>
<p>Combining with Eq. <a class="reference internal" href="#equation-porousdragcoefficient">(13)</a>, the drag coefficients
<img class="math" src="_images/math/89ee6ff675182b6882c4204ed78d702d7466508f.png" alt="A" style="vertical-align: 0px"/> and <img class="math" src="_images/math/358695c21929026e3978a87b20230517725436b0.png" alt="B" style="vertical-align: 0px"/> can be related to Darcian permeability <img class="math" src="_images/math/1f95110560cf9695123aef81c197fb7715dfe919.png" alt="K" style="vertical-align: 0px"/> and
non-Darcian permeability <img class="math" src="_images/math/a4c4145679585cfa713022ab94234b0b7a2a03e7.png" alt="K_2" style="vertical-align: -3px"/> by:</p>
<div class="math">
<p><img src="_images/math/b5f6ca513a60515da98f0fb1a291c2f53a3a7e52.png" alt="A = \frac{\phi^3}{(1 - \phi)^2 K} {\text , } \quad B = \frac{\phi^3}{(1 - \phi) K_2}"/></p>
</div><p>If the non-Darcian permeability <img class="math" src="_images/math/a4c4145679585cfa713022ab94234b0b7a2a03e7.png" alt="K_2" style="vertical-align: -3px"/> is not provided, the <span class="guilabel">Drag Coefficient B</span> will be set to 0, and the drag model is reduced to <span class="guilabel">Darcian Saturated Drag Model</span>.</p>
<div class="admonition note" id="satporousinshallowwatermr">
<span id="index-279"></span><p class="first admonition-title">Note</p>
<p class="last">The shallow water model is a 2-D simplification that assumes hydrostatic pressure. It can be combined with porous media, with some caveats. Details are given in the <a class="reference internal" href="#shallowwaterporousmr"><span class="std std-ref">Shallow Water / Porous media</span></a> section.</p>
</div>
<span class="target" id="index-280"></span></div>
</div>
<div class="section" id="unsaturated-porous-media-drag-models">
<span id="unsaturateddragmr"></span><span id="index-281"></span><h4>Unsaturated Porous Media Drag Models<a class="headerlink" href="#unsaturated-porous-media-drag-models" title="Permalink to this headline">¶</a></h4>
<p>Drag losses in unsaturated porous components, like capillary pressure effects,
are primarily a function of saturation, as well as intrinsic characteristics
of the media like pore size, tortuosity, and microscopic geometry. An
unsaturated drag model can be selected for each component when the <span class="guilabel">Drag Model</span> is selected to be <span class="guilabel">unsaturated flow</span>. Within the property for <span class="guilabel">Unsaturated Drag Function</span> the user can choose between <span class="guilabel">Power Law</span>, <span class="guilabel">Exponential</span>, or <span class="guilabel">Mualem</span>.
The models are described in the theory section (see <a class="reference internal" href="theory.html#dragcalculationsinunsaturatedflowsth"><span class="std std-ref">Drag Calculations in Unsaturated Flows</span></a>)</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>The <span class="guilabel">Exponential unsaturated drag</span> model and the
<span class="guilabel">Simplified unsaturated capillary pressure</span> model
both use the same value of <span class="guilabel">Pressure Curve Fitting Coefficient</span>.</li>
<li>See <a class="reference internal" href="input-variable-summary-units.html"><span class="doc">Input Variable Summary</span></a> section <a class="reference internal" href="input-variable-summary-units.html#componentpropertiesporouscomponents"><span class="std std-ref">Component Properties: Porous Components</span></a> for associated input file values.</li>
</ul>
</div>
</div>
</div>
<div class="section" id="capillary-pressure-models">
<span id="capillarypressuremr"></span><span id="index-282"></span><h3>Capillary Pressure Models<a class="headerlink" href="#capillary-pressure-models" title="Permalink to this headline">¶</a></h3>
<div class="section" id="saturated-capillary-effects-in-porous-components">
<span id="index-283"></span><h4>Saturated Capillary Effects in Porous Components<a class="headerlink" href="#saturated-capillary-effects-in-porous-components" title="Permalink to this headline">¶</a></h4>
<p>Saturated flow in porous media is characterized by a sharp interface between
fully saturated and fully unsaturated regions. When a <span class="guilabel">No Drag</span> or
one of the <em>Saturated</em> models are selected for the <span class="guilabel">Drag Model</span>
property, <span class="guilabel">Capillary Pressure</span> (defined in <span class="menuselection">Model Setup ‣
Geometry ‣ Component ‣ Porous Properties</span>) is a <em>user-defined
constant</em> that is applied at the interface between the fully saturated and
unsaturated regions only, i.e., in cells where 0.0 &lt; fluid fraction <img class="math" src="_images/math/d59b7cc086cf6a4c9a0e8246bfbbd29d4467a990.png" alt="F" style="vertical-align: 0px"/> &lt; 1.0.
The sharp interface within <em>saturated porous media</em> is computed with <span class="raw-html"><strong><em>FLOW-3D </em></strong></span>’s VOF
algorithms to maintain accurate interface shapes.</p>
<p>The <span class="guilabel">Capillary Pressure</span> is subtracted from the void pressure at the
sharp fluid interface within the porous media. It is defined for each
component and is positive when the media is wetting and negative when the
media resists wetting. While the best way to determine the interface
capillary pressure is via laboratory experiment, the following relation
estimates the capillary pressure within a porous medium:</p>
<div class="math">
<p><img src="_images/math/22848d3d27065a214a8c337c7a7b293f8f589d32.png" alt="p_{\text{cap,sat}} = \frac{4 \sigma \cos \theta }{d_{\text{pore}}}"/></p>
</div><p>where:</p>
<ul class="simple">
<li><img class="math" src="_images/math/f2e62171924bac3b973bb702eb391f3d4bb42625.png" alt="\sigma" style="vertical-align: 0px"/> is the surface tension of the fluid,</li>
<li><img class="math" src="_images/math/3f2fed604982fac0106624a80d0210ef44c1e258.png" alt="\theta" style="vertical-align: 0px"/> is the average contact angle between fluid and solid in a pore (&lt; <img class="math" src="_images/math/5161300935ddf40db53e022c9ea92aedb45ee405.png" alt="90^\circ" style="vertical-align: 0px"/> is wetting, &gt; <img class="math" src="_images/math/5161300935ddf40db53e022c9ea92aedb45ee405.png" alt="90^\circ" style="vertical-align: 0px"/> is nonwetting), and</li>
<li><img class="math" src="_images/math/e2d3add6e22b6d9469eb317fc4ab4877b0f85946.png" alt="d_{\text{pore}}" style="vertical-align: -6px"/> is the average pore diameter within the porous material.</li>
</ul>
</div>
<div class="section" id="unsaturated-capillary-effects-in-porous-components">
<span id="unsaturatedcapillaryeffectsinporouscomponentsmr"></span><span id="index-284"></span><h4>Unsaturated Capillary Effects in Porous Components<a class="headerlink" href="#unsaturated-capillary-effects-in-porous-components" title="Permalink to this headline">¶</a></h4>
<p>The capillary pressure model in porous media can be used only in one-fluid,
free-surface flows. There are two models that describe the relationship
between saturation and capillary pressure: the <span class="guilabel">Simplified capillary
pressure</span> model (<a class="reference internal" href="input-variable-summary-units.html#componentpropertiesporouscomponents"><span class="std std-ref">IVG = 0</span></a>) and a
more thorough <span class="guilabel">Van Genuchten capillary pressure</span> model <a class="reference internal" href="zbibliography.html#niemi-bodvarsson-1988" id="id6">[NB88]</a>
(<a class="reference internal" href="input-variable-summary-units.html#componentpropertiesporouscomponents"><span class="std std-ref">IVG = 1</span></a>).</p>
<p>Both models allow the user to specify capillary pressure as a function the local
saturation and one or more hysteresis functions. The user may include or ignore
hysteresis effects in each component by changing the <span class="guilabel">Unsaturated Pressure
Curve</span> option under <span class="menuselection">Model Setup ‣ Geometry ‣ Component ‣ Porous Properties</span>:</p>
<ul class="simple">
<li><span class="guilabel">Wetting &amp; Draining</span> – full hysteresis (<a class="reference internal" href="input-variable-summary-units.html#componentpropertiesporouscomponents"><span class="std std-ref">IOPCFD</span></a> = 0),</li>
<li><span class="guilabel">Wetting only</span> (<a class="reference internal" href="input-variable-summary-units.html#componentpropertiesporouscomponents"><span class="std std-ref">IOPCFD</span></a> = 1), or</li>
<li><span class="guilabel">Draining only</span> (<a class="reference internal" href="input-variable-summary-units.html#componentpropertiesporouscomponents"><span class="std std-ref">IOPCFD</span></a> = 2)</li>
</ul>
<p>In addition, one of three drag models can be selected for each component:</p>
<ul class="simple">
<li><span class="guilabel">Power Law</span> (<a class="reference internal" href="input-variable-summary-units.html#componentpropertiesporouscomponents"><span class="std std-ref">IODFIT</span></a> = 1)</li>
<li><span class="guilabel">Exponential</span> (<a class="reference internal" href="input-variable-summary-units.html#componentpropertiesporouscomponents"><span class="std std-ref">IODFIT</span></a> = 2), or</li>
<li><span class="guilabel">Mualem</span>’s model (<a class="reference internal" href="input-variable-summary-units.html#componentpropertiesporouscomponents"><span class="std std-ref">IODFIT</span></a> = 3).</li>
</ul>
<p>Both the <span class="guilabel">Simplified</span> and <span class="guilabel">Van Genuchten capillary
pressure</span> models use <span class="guilabel">Minimum</span> and <span class="guilabel">Maximum</span> saturation
values, which represent the irreducible and maximum absolute saturation
fraction of the media from 0 to 1. With the local fluid fraction <img class="math" src="_images/math/d59b7cc086cf6a4c9a0e8246bfbbd29d4467a990.png" alt="F" style="vertical-align: 0px"/> they
determine the relative (effective) saturation <img class="math" src="_images/math/5757c91a01a9eade7b50179428babcd5ce1346d2.png" alt="{S_e}" style="vertical-align: -3px"/>:</p>
<div class="math">
<p><img src="_images/math/a26b115e654f8dcbfa66b8c44e62d19e810ab1f6.png" alt="{S_e} = \frac{F - F_{CMN}}{F_{CMX} - F_{CMN} }"/></p>
</div><p>where <img class="math" src="_images/math/4f46b7362cc76411bba8801b667533bb93ce9e91.png" alt="F_{CMN}" style="vertical-align: -3px"/> is the <span class="guilabel">Minimum Saturation</span> and
<img class="math" src="_images/math/d9c374b19f8cad5a9c6f00874d89fefc5b5306a2.png" alt="F_{CMX}" style="vertical-align: -3px"/> is the <span class="guilabel">Maximum Saturation</span>.</p>
<p>The capillary pressure and drag models and their parameters are described
individually below.</p>
<span class="target" id="index-285"></span><div class="section" id="simplified-unsaturated-capillary-pressure-model">
<span id="simplifiedunsaturatedcappressmodelmr"></span><span id="index-286"></span><h5>Simplified Unsaturated Capillary Pressure Model<a class="headerlink" href="#simplified-unsaturated-capillary-pressure-model" title="Permalink to this headline">¶</a></h5>
<p>The simplified form of the wetting and draining relationship between
saturation and capillary pressure is illustrated below:</p>
<blockquote>
<div><img alt="Simplified Unsaturated Capillary Pressure Model Hysteresis" src="_images/flow-in-porous-components-simplified-unsaturated-capillary-pressure-model.png" />
</div></blockquote>
<p>P<sub>CMX</sub> is the <span class="guilabel">Simplified Maximum Capillary Pressure</span> and
defines the maximum capillary pressure that retains fluid in the material at
the <span class="guilabel">Simplified Saturation at Maximum Capillary Pressure</span> – <strong>F</strong><sub>pcmx</sub> in the figure above.</p>
<p>The shape of the curves for saturation greater than <span class="guilabel">Simplified
Saturation at Maximum Capillary Pressure</span> is given by the following relations.
The bubbling (air-entry) pressure <img class="math" src="_images/math/c4893a1d43758c6c783252491e7d68430606d0d1.png" alt="P_b" style="vertical-align: -3px"/>, is the pressure at which air
can be forced into an initially saturated sample, and is the magnitude of the
separation between the wetting and draining curves in the
<span class="guilabel">Simplified capillary pressure</span> model.</p>
<div class="math">
<p><img src="_images/math/95598499c51dd277863229a10cd032839f2fe6b9.png" alt="{p_{cap,drain}} = {p_b}S_e^{ - P_{EXP}}"/></p>
</div><div class="math">
<p><img src="_images/math/d91899ed5d7535802d488129b9978d238fdda464.png" alt="{p_{cap,wet}} = {p_b}\left( {S_e^{ - P_{EXP}} - 1} \right)"/></p>
</div><p>where</p>
<div class="math">
<p><img src="_images/math/706f4605fe702d3935ca278c99c2c50aca7b18d9.png" alt="{p_b} = P_{CMX} {\left( {\frac{{F_{PCMX} - F_{CMN}}} {{F_{CMX} - F_{CMN}}}} \right)}^{P_{EXP}}"/></p>
</div><p>and</p>
<ul class="simple">
<li><img class="math" src="_images/math/e90106e30c7780b1754cc97c0e4c0984e2354e6e.png" alt="P_{EXP}" style="vertical-align: -3px"/> is the <span class="guilabel">Pressure Curve Fitting Coefficient</span>,</li>
<li><img class="math" src="_images/math/37f57ede829f030bba3f632d9a630e2fd1dd520b.png" alt="P_{CMX}" style="vertical-align: -3px"/> is the <span class="guilabel">Simplified Maximum Capillary Pressure</span>,</li>
<li><img class="math" src="_images/math/ef82dfd3c4c6df88de259bbd8a4a1fb2d4f3cc44.png" alt="F_{PCMX}" style="vertical-align: -3px"/> is the <span class="guilabel">Simplified Saturation at Maximum Capillary Pressure</span>,</li>
<li><img class="math" src="_images/math/4f46b7362cc76411bba8801b667533bb93ce9e91.png" alt="F_{CMN}" style="vertical-align: -3px"/> is the <span class="guilabel">Minimum Saturation</span>, and</li>
<li><img class="math" src="_images/math/d9c374b19f8cad5a9c6f00874d89fefc5b5306a2.png" alt="F_{CMX}" style="vertical-align: -3px"/> is the <span class="guilabel">Maximum Saturation</span>.</li>
</ul>
<p>Choose values of <span class="guilabel">Pressure Curve Fitting Coefficient</span>,
<span class="guilabel">Simplified Maximum Capillary Pressure</span> and <span class="guilabel">Simplified
Saturation at Maximum Capillary Pressure</span> to fit experimental data.</p>
<p>Scanning curves represent the change in <img class="math" src="_images/math/f8ae6e8609ed7932054d7e608f84c11e7d46c188.png" alt="p_{cap}" style="vertical-align: -6px"/> vs. <img class="math" src="_images/math/9d29d6445fd61abc5c4f51a4377e59e1732dc89b.png" alt="S_e" style="vertical-align: -3px"/> when
alternating between filling and draining, and have an arbitrary simplified
slope of:</p>
<div class="math">
<p><img src="_images/math/4f9fce4b85bfffa47b4e2054d6895665fca62d9f.png" alt="\frac{\partial p_{cap}}{\partial S_e} = \frac{\partial p_{cap,drain}}{\partial S_e} + \frac{p_{cap,drain} - p_{cap,wet}}{0.1}"/></p>
</div><div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">See Input Variable Summary section <a class="reference internal" href="input-variable-summary-units.html#componentpropertiesporouscomponents"><span class="std std-ref">Component Properties: Porous Components</span></a> for associated input file values.</p>
</div>
<span class="target" id="vangenuchtenunsaturatedcappressmodelmr"></span><span class="target" id="index-287"></span></div>
<div class="section" id="van-genuchten-unsaturated-capillary-pressure-model">
<span id="index-288"></span><h5>Van Genuchten Unsaturated Capillary Pressure Model<a class="headerlink" href="#van-genuchten-unsaturated-capillary-pressure-model" title="Permalink to this headline">¶</a></h5>
<p>A more physical form of the complex relationship between saturation, capillary
pressure, and draining/wetting state of the fluid is provided by the <span class="guilabel">Van
Genuchten capillary pressure</span> model illustrated below, with arrows showing the
state path for a series of changes in wetting direction:</p>
<blockquote>
<div><img alt="Van Genuchten Capillary Pressure Model Hysteresis" src="_images/flow-in-porous-components-van-genuchten-capillary-pressure.jpg" />
</div></blockquote>
<p>The numbers on the plot are from a typical saturation path with a porous
material, which proceeds as follows:</p>
<ol class="arabic simple">
<li>Begin draining from saturated media. Capillary pressure follows envelope.</li>
<li>Reverse to filling. Capillary pressure follows 1st-order filling scanning curve.</li>
<li>Reverse to draining. Capillary pressure follows 2nd-order draining scanning curve.</li>
<li>Continue draining. Capillary pressure follows draining envelope.</li>
<li>Minimum absolute saturation. Begin filling. Capillary pressure follows envelope.</li>
<li>Reverse to draining. Capillary pressure follows 1st-order draining scanning curve.</li>
<li>Reverse to filling. Capillary pressure follows 2nd-order filling scanning curve.</li>
<li>Reverse to draining. Capillary pressure follows 3rd-order draining scanning curve.</li>
<li>Finish experiment.</li>
</ol>
<p>The primary wetting and draining curves define the envelope of the capillary
pressure for each porous media-liquid system. If the process switches between
wetting and draining before filling or draining is complete, the capillary
pressure follows scanning curves inside the envelope. There are an infinite
number of wetting and draining scanning curves within the envelope, and the
actual curve depends on the local saturation and capillary pressure when the
reversal occurs. The model detailed by <a class="reference internal" href="zbibliography.html#niemi-bodvarsson-1988" id="id7">[NB88]</a> has been
enhanced to include the first-order draining and second-order wetting
scanning curves.</p>
<div class="math">
<p><img src="_images/math/f19920d6ae31d1a4752e614317fc7b7ca041c696.png" alt="p_{cap,wet} &amp;= \alpha_w \left[ \left( \frac{1}{S_e} \right)^{\frac{1}{m_w}} - 1 \right]^{\frac{1}{n_w}} \\

p_{cap,drain} &amp;= \alpha_d \left[ \left( \frac{1}{S_e} \right)^{\frac{1}{m_d}} - 1 \right]^{\frac{1}{n_d}}"/></p>
</div><p>where:</p>
<ul class="simple">
<li><img class="math" src="_images/math/4f4423270d687f7e948cfe3e4db69beb2da93dab.png" alt="p_{cap,wet}" style="vertical-align: -6px"/> is the wetting capillary pressure</li>
<li><img class="math" src="_images/math/1fa2ab50f791384248917ce9dbf618771c33b3d5.png" alt="\alpha_w" style="vertical-align: -3px"/> is the <span class="guilabel">Wetting Curve Alpha Coefficient</span> in units of pressure: you may need to convert literature values that are in units of inverse length (head)</li>
<li><img class="math" src="_images/math/68cd2c2647bf64a6eb7d71e4c17bb4a6cf657318.png" alt="m_w" style="vertical-align: -3px"/> is the <span class="guilabel">Wetting Curve m-exponent</span>, for soils often assumed to be <img class="math" src="_images/math/f3681ed3ba63ef79f8add10b3c7a958ab6524455.png" alt="1 - \frac{1}{n_w}" style="vertical-align: -8px"/></li>
<li><img class="math" src="_images/math/b88e30a4aa4ffa8bdec0deae1c60ef2d44bb16f6.png" alt="n_w" style="vertical-align: -3px"/> is the <span class="guilabel">Wetting Curve n-exponent</span></li>
<li><img class="math" src="_images/math/72bded1c791a65835b01395389b45b769e57ce33.png" alt="p_{cap,drain}" style="vertical-align: -6px"/> is the draining capillary pressure</li>
<li><img class="math" src="_images/math/a023ff8e7de5b327aca8c69468a8d24b207f6f3f.png" alt="\alpha_d" style="vertical-align: -3px"/> is the <span class="guilabel">Draining Curve Alpha Coefficient</span> in units of pressure like <img class="math" src="_images/math/1fa2ab50f791384248917ce9dbf618771c33b3d5.png" alt="\alpha_w" style="vertical-align: -3px"/> and in soils is often assumed to equal <img class="math" src="_images/math/1fa2ab50f791384248917ce9dbf618771c33b3d5.png" alt="\alpha_w" style="vertical-align: -3px"/></li>
<li><img class="math" src="_images/math/88b017891831682e9fba5563c50b5617b7f3d572.png" alt="m_d" style="vertical-align: -3px"/> is the <span class="guilabel">Draining Curve m-exponent</span>, for soils often assumed to be <img class="math" src="_images/math/5114fe41776a22737ea9c857d858b45ab75a1587.png" alt="1 - \frac{1}{n_d}" style="vertical-align: -8px"/></li>
<li><img class="math" src="_images/math/440b255bf2f86aaa61e774c8a6a7ff6b02cc3554.png" alt="n_d" style="vertical-align: -3px"/> is the <span class="guilabel">Draining Curve n-exponent</span>, for soils often assumed to equal <img class="math" src="_images/math/b88e30a4aa4ffa8bdec0deae1c60ef2d44bb16f6.png" alt="n_w" style="vertical-align: -3px"/></li>
</ul>
<p>The curves should be defined from experimental data and curve-fit using the
equations above. The first-, second-, and higher-order draining curves define
intermediate capillary pressure vs. saturation paths depending on whether the
direction of flow has reversed once, twice, or more than twice. The scanning
curve shapes are set by the primary curve parameters, which should be
determined experimentally. Typical values (used to generate the curves above)
are shown below:</p>
<table border="1" class="colwidths-given longtable docutils" id="tablevangenunsatcappresshyst">
<colgroup>
<col width="60%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><em>Parameter</em></th>
<th class="head"><em>Value</em></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><span class="guilabel">Minimum Saturation</span> (<a class="reference internal" href="input-variable-summary-units.html#componentpropertiesporouscomponents"><span class="std std-ref">OFCMN</span></a>)</td>
<td>0.0714</td>
</tr>
<tr class="row-odd"><td><span class="guilabel">Maximum Saturation</span> (<a class="reference internal" href="input-variable-summary-units.html#componentpropertiesporouscomponents"><span class="std std-ref">OFCMX</span></a>)</td>
<td>0.9400</td>
</tr>
<tr class="row-even"><td><span class="guilabel">Wetting Curve Alpha Coefficient</span> (<a class="reference internal" href="input-variable-summary-units.html#componentpropertiesporouscomponents"><span class="std std-ref">ALPHWOBS</span></a>)</td>
<td>53316 dyne/cm<sup>2</sup></td>
</tr>
<tr class="row-odd"><td><span class="guilabel">Draining Curve Alpha Coefficient</span> (<a class="reference internal" href="input-variable-summary-units.html#componentpropertiesporouscomponents"><span class="std std-ref">ALPHDOBS</span></a>)</td>
<td>118630 dyne/cm<sup>2</sup></td>
</tr>
<tr class="row-even"><td><span class="guilabel">Wetting Curve m-exponent</span> (<a class="reference internal" href="input-variable-summary-units.html#componentpropertiesporouscomponents"><span class="std std-ref">XMWOBS</span></a>)</td>
<td>0.6</td>
</tr>
<tr class="row-odd"><td><span class="guilabel">Draining Curve m-exponent</span> (<a class="reference internal" href="input-variable-summary-units.html#componentpropertiesporouscomponents"><span class="std std-ref">XMDOBS</span></a>)</td>
<td>0.9091</td>
</tr>
<tr class="row-even"><td><span class="guilabel">Wetting Curve n-exponent</span> (<a class="reference internal" href="input-variable-summary-units.html#componentpropertiesporouscomponents"><span class="std std-ref">XNWOBS</span></a>)</td>
<td>9</td>
</tr>
<tr class="row-odd"><td><span class="guilabel">Draining Curve n-exponent</span> (<a class="reference internal" href="input-variable-summary-units.html#componentpropertiesporouscomponents"><span class="std std-ref">XNDOBS</span></a>)</td>
<td>11</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>See Input Variable Summary section <a class="reference internal" href="input-variable-summary-units.html#componentpropertiesporouscomponents"><span class="std std-ref">Component Properties: Porous Components</span></a> for associated input file values.</li>
<li>The capillary pressure models require that the porous media be resolved by at least three cells.</li>
</ul>
</div>
<span class="target" id="index-289"></span></div>
</div>
</div>
<div class="section" id="porous-baffles">
<span id="flowlossesinporousbafflesmr"></span><span id="index-290"></span><h3>Porous Baffles<a class="headerlink" href="#porous-baffles" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><img alt="Baffles tree - Porosity Properties" src="_images/flow-losses-in-porous-baffles-porosity-properties.png" />
</div></blockquote>
<p>Baffles in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> are used to describe thin walls. Unlike solid components,
baffles do not block any volume; they are located at boundaries between
computational cells blocking the whole face. If, for example, a spherical baffle
is defined in the input, the preprocessor will convert it to a stair-step shape
conforming to the nearest cell boundaries. Therefore baffles are ideal to
describe flat thin, flat surfaces. Additionally, a uniform porosity can be given
to each baffle to model permeable screens.</p>
<p>To add a baffle, open the <span class="guilabel">Baffles</span> sub-window in <span class="guilabel">Model Setup –&gt; Baffles</span>
and click on the <em>add</em> button. Simple shapes then can be defined
using variables in <span class="guilabel">Definitions</span> and <span class="guilabel">Limiters</span> under the
newly created baffle. Specify only <em>one</em> definition, and as many
transformations and limiters as necessary: for example, to make a circular
plate baffle, specify the definition as <span class="guilabel">Z = 0</span>, a limiter as
<span class="guilabel">Cylinder Outer Radius</span>, and then rotate and translate the baffle to
the desired location. Remember that specifying a radius as a definition or
limiter applies the radius around the z-axis, not necessarily around the
center of the baffle.</p>
<p>Porosity of a baffle is defined in Porosity Properties in the Baffle property
tree. Baffle porosity can take values between 0.0, for no porosity, and 1.0, for
a completely open baffle.</p>
<p>Flow losses in porous baffles can be linear or quadratic, or both, with
respect to the fluid velocity. Note that the flow losses are computed from the
microscopic fluid velocity, using the actual flow velocity inside the porous
baffle. The linear losses are specified using the Linear Loss Coefficient, and
quadratic flow losses are defined using the Quadratic Loss Coefficient. The
latter has no dimension, while the former has the dimension of velocity.</p>
<p>If the quadratic coefficient (<span class="target" id="index-291"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">KBAF2</span></code>) is unknown, then the following are typical
values for screens composed of rows of elements (typically cylindrical) having an open area fraction, <em>A</em>.</p>
<div class="math">
<p><img src="_images/math/c70262539f543e7d17762f59f78083db74419d6d.png" alt="KBAF2=\left(\frac{1-A}{A}\right )^2,\;\;\; if\;A&lt;0.7"/></p>
</div><div class="math">
<p><img src="_images/math/cb3190ec8a3b6eee3ec92959f1684df33ab63c95.png" alt="KBAF2=\frac{1-A}{A^2},\;\;\; if\;A&gt;0.7"/></p>
</div><div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"> More details on how the loss terms are incorporated into flow equations in the Theory Manual: <a class="reference internal" href="theory.html#baffleflowlossesth"><span class="std std-ref">Baffle Flow Losses</span></a>.</p>
</div>
<span class="target" id="index-292"></span></div>
</div>
<div class="section" id="reaction-kinetics">
<span id="chemicallyreactingflowsmr"></span><span id="index-293"></span><h2>Reaction Kinetics<a class="headerlink" href="#reaction-kinetics" title="Permalink to this headline">¶</a></h2>
<p>Reaction kinetics govern the rate at which reactants react to yield products.
For instance, in the equation below, reactants <img class="math" src="_images/math/89ee6ff675182b6882c4204ed78d702d7466508f.png" alt="A" style="vertical-align: 0px"/> and <img class="math" src="_images/math/358695c21929026e3978a87b20230517725436b0.png" alt="B" style="vertical-align: 0px"/> react to produce <img class="math" src="_images/math/6cc656fef5d44427eff85bab32555f9860c78f1e.png" alt="D" style="vertical-align: 0px"/>. The
rate of reaction (transformation) is given by <img class="math" src="_images/math/d77e09b1ac0f59812794adc2b8da7f9a192d32bc.png" alt="r" style="vertical-align: 0px"/> and is dependent on the specific reaction
rate (<img class="math" src="_images/math/aa979d26cb76b1e0cea68bfa22eb7c087ac7d65d.png" alt="k" style="vertical-align: 0px"/>), concentrations of the reactants (<img class="math" src="_images/math/5fc928a1a269ff836ebbaf84c70639d98e6f088b.png" alt="C_A" style="vertical-align: -3px"/> and <img class="math" src="_images/math/5df8686268cbd5db4e4a2bc5bbe52cfeef49c350.png" alt="C_B" style="vertical-align: -3px"/>) and the orders (<img class="math" src="_images/math/910013a18c31668090664560fa828fbf716d9329.png" alt="n_A" style="vertical-align: -3px"/> and <img class="math" src="_images/math/f96d3d1831d26345b06bed133b1b86f86d81e050.png" alt="n_B" style="vertical-align: -3px"/>) of each reactant.</p>
<div class="math">
<p><img src="_images/math/a08feca00507aa0d9aae8a7ed594146ce896a5b4.png" alt="A+B\rightarrow\ D"/></p>
</div><div class="math">
<p><img src="_images/math/dac1aa052f34c1e8141f15985c1e090b9371b12b.png" alt="-r=k{(C_A)}^{n_A}{{(C}_B)}^{n_B}"/></p>
</div><p>The reactants can be chemical and/or biological in nature. If the specific reaction
rates and the orders for each reactant are known, the evolution (uncoupled, partially
coupled or coupled) of each reactant can be accurately calculated using the <span class="raw-html"><strong><em>FLOW-3D </em></strong></span>
<span class="menuselection">Reaction Kinetics</span> model. See <a class="reference internal" href="theory.html#reactiveflowsalgorithmth"><span class="std std-ref">Reactive Flows Algorithm</span></a> for
a more detailed description of the model theory and numerical approximations.</p>
<p>In the <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> <span class="menuselection">Reaction Kinetics</span> model, each reactant is represented as a scalar variable
created using the <a class="reference internal" href="#scalarsmr"><span class="std std-ref">Scalars</span></a> model. Once these scalars have been created, a set of reaction kinetics
parameters can be defined for each scalar within the <span class="menuselection">Model Setup ‣ Physics ‣ Reaction Kinetics</span> dialog.
The interface for defining the specific reaction rates and the orders for each reactant is simple and intuitive.
A sample set of partially coupled reactions, and their equivalent input into the <span class="menuselection">Reaction Kinetics</span> dialog is shown.</p>
<div class="math">
<p><img src="_images/math/68520bf08407de87f4be9ab1ad2e924a45c16056.png" alt="\frac{\partial C_1}{\partial t}={{-k}_1C_1+k}_2C_2{C_3}^{0.5}-k_3C_1{C_4}^{0.2}"/></p>
</div><div class="math">
<p><img src="_images/math/ddcbd8f1deea5b488b699e3e700bf15c6f14f188.png" alt="\frac{\partial C_2}{\partial t}={-k}_4C_1C_2"/></p>
</div><div class="math">
<p><img src="_images/math/4d29bff74411a9cf1cb9fcf8014fc49095b03344.png" alt="\frac{\partial C_3}{\partial t}={-k}_5C_3"/></p>
</div><div class="math">
<p><img src="_images/math/10749d9b9f18fa9d9da03d375a18cebd5d96085b.png" alt="\frac{\partial C_4}{\partial t}={-k}_6C_4"/></p>
</div><img alt="scalar properties" src="_images/reaction-kinetics.png" />
<p>To define the system of reactions shown, the user clicks on each term on the right side of the dialog and enters a
value for <span class="guilabel">Rate coefficient</span> and <span class="guilabel">Exponent</span> for each scalar reactant. For example, four
scalars were first created in the <a class="reference internal" href="#scalarsmr"><span class="std std-ref">Scalars</span></a> model and are now available as reactants <img class="math" src="_images/math/0c0c70d8c6cf2eb71d67fe0da7ec72573ca43a29.png" alt="C_{1-4}" style="vertical-align: -3px"/> corresponding to
bacteria, biodegradable substrate, oxygen and chlorine. Clicking on each term for bacteria (<img class="math" src="_images/math/676b50d588de4873ac1af4cebc1a7e768775efd6.png" alt="C_1" style="vertical-align: -3px"/>), the specific
reaction rates <img class="math" src="_images/math/4ac73cb084e99de516b45d7ae89f83ce23a015a1.png" alt="k_{1-3}" style="vertical-align: -3px"/> are set to 1e-6. Then clicking on <span class="guilabel">Term 1</span> for <img class="math" src="_images/math/175f92da56b83c7fe28f49a0e8d3e405c2a026ed.png" alt="C_{2-4}" style="vertical-align: -3px"/>, the values of <img class="math" src="_images/math/61b58d18934c0f07cf75bcffacef466f4e55147b.png" alt="k_{4-6}" style="vertical-align: -3px"/> are
set to 1e-5. The values for <span class="guilabel">Exponent</span> are defined similarly. In the example shown, we want to set
<span class="guilabel">Term 2</span> for the bacteria (<img class="math" src="_images/math/676b50d588de4873ac1af4cebc1a7e768775efd6.png" alt="C_1" style="vertical-align: -3px"/>) reaction rate as a function of biodegradable substrate and oxygen concentrations.
This is specified in the model by clicking on the input box for <span class="guilabel">Term 2</span> of <img class="math" src="_images/math/676b50d588de4873ac1af4cebc1a7e768775efd6.png" alt="C_1" style="vertical-align: -3px"/> and then defining the <span class="guilabel">Exponent</span>
for biodegradable substrate (<img class="math" src="_images/math/723abc3987a25d28ffee527ca8290b4b4fc58308.png" alt="C_2" style="vertical-align: -3px"/>) as 1, and Oxygen (<img class="math" src="_images/math/3fd63bb1d9061d77f0cebb97219123db8664569c.png" alt="C_3" style="vertical-align: -3px"/>) as a value of 0.5.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p></p>
<ul class="last simple">
<li>Parameters in <a class="reference internal" href="input-variable-summary-units.html#chemistryparameters"><span class="std std-ref">Reaction Kinetics Parameters</span></a></li>
<li><a class="reference internal" href="input-variable-summary-units.html#chemistrynamelistchm"><span class="std std-ref">Reaction Kinetics Namelist - CHM</span></a></li>
<li><a class="reference internal" href="#scalarsmr"><span class="std std-ref">Scalars</span></a></li>
<li><a class="reference internal" href="theory.html#reactiveflowsalgorithmth"><span class="std std-ref">Reactive Flows Algorithm</span></a></li>
</ul>
</div>
</div>
<div class="section" id="scalars">
<span id="scalarsmr"></span><span id="index-294"></span><h2>Scalars<a class="headerlink" href="#scalars" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id8">
<h3>Description and usage<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p>The <span class="guilabel">Scalars</span> model is a powerful feature that allows user-defined
scalar variables to be included in the calculation. A transport equation
is solved for each advectable scalar; non-advectable scalars are also allowed.
These variables can be used to modify the fluid density, viscosity, elastic modulus
and viscoelastic properties as a function of the scalar concentration.  Scalars are also
useful in <a class="reference internal" href="customization.html"><span class="doc">Customization</span></a> where they provide an advectable spatial
variable that is automatically output to the <code class="file docutils literal notranslate"><span class="pre">flsgrf.*</span></code> file and for which source
terms and other dependencies can be added via customization of the source code routines.</p>
</div>
<div class="section" id="id9">
<h3>Setup and dependencies<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<p>The model is configured on the <span class="guilabel">Model Setup–&gt;Physics–&gt;Scalars</span>
dialog.  New scalars can be added by increasing the <span class="guilabel">Number of
Scalars</span> entry and then each scalar variable can be assigned
properties and behaviors.</p>
<blockquote>
<div><img alt="scalar properties" src="_images/scalars_v12-0-1.JPG" />
</div></blockquote>
<p>The different properties are:</p>
<ul class="simple">
<li><span class="guilabel">Scalar title</span>:  This sets the name of the scalar for setup and post-processing.</li>
<li><span class="guilabel">Advection</span>:
This option defines whether the scalar variable will
advect with fluid 1, fluid 2, both fluid 1 and fluid 2, or not at all.
Most physical scalars will be advectable; non-advecting scalars are most
commonly used in customizations.</li>
<li><span class="guilabel">Density adds to fluid density</span>:
This option allows the local scalar concentration (specified in dimensions of mass per unit volume)
to add to the local fluid density.</li>
<li><span class="guilabel">Scalar viscosity</span>:
This option allows the local fluid viscosity to be a function
of the local scalar concentration.  The final viscosity is a
density-weighted average of the fluid viscosity and the scalar viscosity.</li>
<li><span class="guilabel">Molecular diffusion coefficient</span>:
This defines the molecular diffusion coefficient of the scalar in terms
of mass per length*time.</li>
<li><span class="guilabel">Initial uniform concentration</span>:  This assigns a uniform
scalar concentration everywhere in the domain.</li>
<li><span class="guilabel">Turbulent diffusion multiplier</span>:  This allows for the adjustment
of the scalar diffusion relative to the turbulent diffusion of momentum.
A value of 1.0 means that the scalar diffuses at the same rate as the momentum,
while values less than 1.0 mean that the scalar diffuses slower
than momentum. A value of 0 indicates that no turbulent diffusion
of the scalar is occurring, and values greater than 1.0 make no physical sense.</li>
<li><span class="guilabel">Concentration for residue formation</span>:  This input field is used in conjunction with
the residue model to define the maximum packing density for the solute scalar. Once the solute is concentrated to
its maximum packing density, then any further concentration results in a
residue that is fixed (see <a class="reference internal" href="#vaporizationresiduemr"><span class="std std-ref">Vaporization Residue</span></a>).</li>
</ul>
<p>The <span class="guilabel">Activate vaporization residue model</span> checkbox can be used to turn the
residue model on or off (see <a class="reference internal" href="#vaporizationresiduemr"><span class="std std-ref">Vaporization Residue</span></a>).</p>
<p>Once the scalar properties are defined, the scalar concentrations need to be
defined in the <a class="reference internal" href="model-setup.html#ics"><span class="std std-ref">Initial Conditions</span></a> using fluid regions (see
<a class="reference internal" href="model-setup.html#fluid-regions-mng"><span class="std std-ref">Regions</span></a>):</p>
<blockquote>
<div><a class="reference internal image-reference" href="_images/ModelReference_FluidRegionScalars_v12.JPG"><img alt="scalar initialization" src="_images/ModelReference_FluidRegionScalars_v12.JPG" style="width: 454.4px; height: 797.6px;" /></a>
</div></blockquote>
<p>The scalar concentrations can also be defined in the <a class="reference internal" href="model-setup.html#settingbcs"><span class="std std-ref">Mesh Boundary Conditions</span></a>, at
<a class="reference internal" href="#definescalarsatsourcemr"><span class="std std-ref">mass sources</span></a>, and at <a class="reference internal" href="model-setup.html#massmomentummng"><span class="std std-ref">mass-momentum
sources</span></a>, as shown below:</p>
<blockquote>
<div><a class="reference internal image-reference" href="_images/scalars-bcs.png"><img alt="scalars at BCs" src="_images/scalars-bcs.png" style="width: 412.75px; height: 1024.4px;" /></a>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>The <span class="guilabel">Density adds to fluid density</span> option requires the
<span class="menuselection">Density evaluation‣Density evaluated as a function of other
quantities</span> model.</li>
<li>The <span class="guilabel">Scalar viscosity</span> option requires the
<span class="menuselection">Viscosity and turbulence‣Viscous flow</span> option be active.</li>
<li>The <span class="guilabel">Turbulent diffusion multiplier</span> option applies only when one of the
turbulence models on the <span class="guilabel">Viscosity and turbulence</span> panel be active.</li>
<li>Scalars can only modify the elastic and viscoelastic properties of the fluid if
the <span class="guilabel">Elasto-visco-plasticity</span> model is active.</li>
<li>The scalar concentration set for a boundary condition will be important if
fluid is entering the domain from that boundary or if the scalar may
diffuse into the domain from that boundary.</li>
</ul>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li><a class="reference internal" href="theory.html#scalaradvectionth"><span class="std std-ref">Scalar Advection</span></a></li>
<li><a class="reference internal" href="#turbulencesectionmr"><span class="std std-ref">Turbulence</span></a></li>
<li><a class="reference internal" href="#nonnewtonianfluidmr"><span class="std std-ref">Temperature and Strain Rate Dependent Viscosity</span></a></li>
<li><a class="reference internal" href="#flowwithdensityvariationsmr"><span class="std std-ref">Flows with Density Variations</span></a></li>
</ul>
</div>
</div>
<div class="section" id="id10">
<h3>Limitations<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<p>The <span class="guilabel">Scalars</span> model is quite general but there are a couple limitations:</p>
<ul class="simple">
<li>The scalar concentfration can only add to the fluid density, not reduce it.</li>
<li>The local viscosity is a density-weighted average of the scalar viscosity and
the molecular viscosity.</li>
<li>The local elastic and viscoelastic properties are density-weighted averages
of the scalar elastic/viscoelastic properties and the fluid elastic/viscoelastic
properties.</li>
</ul>
<span class="target" id="index-295"></span></div>
</div>
<div class="section" id="sediment-scour-and-deposition">
<span id="sedimentscourmr"></span><span id="index-296"></span><h2>Sediment Scour and Deposition<a class="headerlink" href="#sediment-scour-and-deposition" title="Permalink to this headline">¶</a></h2>
<p>The sediment scour model uses a number of equations which should be understood
before attempting to calibrate the model to a data set. Details of the
equations are given in the <a class="reference internal" href="theory.html#sedimentscourmodelth"><span class="std std-ref">Sediment Scour Model</span></a> section of the
<a class="reference internal" href="theory.html"><span class="doc">Theory</span></a> chapter as well as in Flow Science report 03-14 at <a class="reference external" href="http://users.flow3d.com/technical-notes/">http://users.flow3d.com/technical-notes/</a>.</p>
<div class="section" id="sediment-properties">
<span id="id11"></span><h3>Sediment properties<a class="headerlink" href="#sediment-properties" title="Permalink to this headline">¶</a></h3>
<p>The scour model is activated in the user interface by selecting
<span class="menuselection">Physics‣ Sediment scour</span>  and specifying the number of
distinct sediment species to be modeled from the drop down menu in the window
that appears. The maximum number of sediment species that can be defined is 10.</p>
<blockquote>
<div><img alt="Sediment Definition" src="_images/sediment-scour-and-deposition-sediment-definition.png" />
</div></blockquote>
<ul class="simple">
<li>The <span class="guilabel">Maximum packing fraction</span> controls the maximum solid fraction
when sediment is settled and packed within the domain. This value is assumed
to be the same, regardless of the arrangement of sediment species. The default
value is 0.64, which is the maximum packing fraction of spheres. For
multidisperse sediments, this number can be higher. For monodisperse,
irregular sediment particles, it can be lower.</li>
<li>The <span class="guilabel">Richardson-Zaki coefficient multiplier</span> controls the effect of drag on the
settling sediment particles as they become concentrated. The default value is 1.0,
which means that the enhancement to the drag due to particle-particle interaction
is as defined by the Richardson-Zaki model.</li>
<li>Diffusion of suspended sediments is considered if the <span class="guilabel">Molecular diffusion coefficient</span>
or the <span class="guilabel">Turbulent diffusion multiplier</span> is defined with a non-zero value. The
<span class="guilabel">Turbulent diffusion multiplier</span> is the inverse Schmidt number that is typically
about one.</li>
<li>The packed sediment bed roughness is defined by the d50 of the sediment material and the
<span class="guilabel">bed roughness / d50 ratio</span>. The d50 is calculated every time step and for every
mesh cell with packed sediment. The recommanded value for the ratio multiplier is 2.5.</li>
<li>For each sediment species, the <span class="guilabel">Name</span> can be optionally entered;
this aids during post-processing to identify the sediment species. If a name
is not provided, the default name is <span class="guilabel">Sediment sp. n</span>. The
<span class="guilabel">Diameter</span> of each species is the mean particle diameter of the
species, in units of length used in the simulation. The <span class="guilabel">Density</span> is
the <em>microscopic</em> (grain) density of the sediment species, in the same units
of density used elsewhere in the simulation. The sediment density must be specified
by the user, since no default value is used.</li>
<li>The <span class="guilabel">Critical Shields Number</span> is the dimensionless critical shear at
which particle motion is first observed. There are a number of simplifications
and approximations in describing sediment erosion as a function of the critical
Shields parameter. Scour is a stochastic phenomenon, so using an empirical
parameter is unavoidable. Use site-specific values for best results. If no
Shields parameter is specified, <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> will calculate the number from the Shields
curve using the Soulsby-Whitehouse equation described in Flow Science Report 03-14
at <a class="reference external" href="http://users.flow3d.com/technical-notes/">http://users.flow3d.com/technical-notes/</a>.</li>
<li>The  <span class="guilabel">Critical Shields Number</span> can be modified cell-by-cell at
every time step to account for the bed slope effect. At a sloping bed interface,
the gravity applies a tangential component of force to make the packed bed more or
less stable depending on the flow direction. As a result, the critical shear stress
increases if the fluid flow goes up the slope and decreases if the flow goes down.
Check <span class="menuselection">Local Adjustment of Critical Shields Number ‣ For slope effect</span>
to activate the slope effect adjustment.</li>
<li>The <span class="guilabel">Angle of Repose</span> describes the maximum resting angle of the bed
(typically between 30 and 40 degrees), and is used to modify the local
critical Shields parameter for slope effect. Its default value is 32 degrees.</li>
<li>The <span class="guilabel">Entrainment Coefficient</span> controls the rate at which sediment
erodes at a given shear stress higher than the critical shear stress. The
entrainment coefficient can be used to scale scour rates or fit experimental
data. The default value is 0.018 from data of Mastbergen and Von den Berg
<a class="reference internal" href="zbibliography.html#mastbergen-vandenberg-2003" id="id12">[MVanDBerg03]</a>. A value of zero turns off the entrainment model
completely.</li>
<li>The <span class="guilabel">Bed Load Transport Rate equation</span> determines the method used
for calculating bed load transport. The default setting uses the <span class="guilabel">Nielsen equation</span>.
A description for each of the of the available bed load equations is provided in the theory section (see <a class="reference internal" href="theory.html#sedimentscourmodelth"><span class="std std-ref">Sediment Scour Model</span></a>).</li>
<li>The <span class="guilabel">Bed Load Coefficient</span> is used in the bed load transport rate
equation and controls the rate at which bed load transport
occurs at a given shear stress higher than the critical shear stress. Users can choose
Meyer-Peter and Mueller equation, Nielsen equation or Van Rign equation for
bed load transport rate calculation, and the
default value of the <span class="guilabel">Bed Load Coefficient</span> is 8.0, 12.0  and 0.053, respectively.
A value of zero turns off the bed load transport model.
The value of  <span class="guilabel">Bed Load Coefficient</span> is adjustable
for these following the original equation. For example, for Meyer-Peter and Mueller equation,
subsequent researchers have suggested values ranging from 5.0 for low transport to 13.0
for very high sand transport, with 5.7 a typically-reported value for sand and
gravel (<a class="reference internal" href="zbibliography.html#ribberink-1998" id="id13">[Rib98]</a>, <a class="reference internal" href="zbibliography.html#fernandezluque-vanbeek-1976" id="id14">[FernandezLuqueVanBeek76]</a>).</li>
</ul>
</div>
<div class="section" id="packed-sediment-components">
<span id="sediment-components"></span><h3>Packed sediment components<a class="headerlink" href="#packed-sediment-components" title="Permalink to this headline">¶</a></h3>
<p>After specifying this and other physical models,
the mesh and geometry of other components in the simulation, the initial arrangement of packed and
suspended sediment must be defined. To create a packed sediment region, create
a component like any other, but from the drop-down menu next to
<span class="menuselection">Model Setup ‣ Geometry ‣ Component ‣ Type</span>, select <span class="guilabel">Packed sediment</span>.</p>
<p>Once the component has been defined as <span class="guilabel">Packed sediment</span>, go
to each subcomponent of this component and define the
<span class="menuselection">Packed sediment properties ‣ Packed Sediment Fractions</span>.
Here provide the fractions of the various sediment species you defined in
<span class="menuselection">Physics ‣ Sediment scour</span>. They will automatically be
normalized to sum to 100%.</p>
<blockquote>
<div><img alt="packed-sediment-properties" src="_images/packed-sediment-properties.png" />
</div></blockquote>
</div>
<div class="section" id="initial-sediment-concentrations">
<span id="sediment-ics"></span><h3>Initial sediment concentrations<a class="headerlink" href="#initial-sediment-concentrations" title="Permalink to this headline">¶</a></h3>
<p>To define an initial suspended sediment region, go to
<span class="menuselection">Model Setup ‣ Initial</span>. Here there is the <span class="guilabel">Global</span> branch which
allows you to specify a suspended sediment concentration for each species for
all of the fluid in the computational domain in the
<span class="guilabel">Suspended sediment concentration</span> branch – here you can define
the global concentration
of suspended sediment. To define sediment in only defined regions, create
<span class="guilabel">Fluid regions</span> by clicking on the <span class="guilabel">F</span> button; here
there is also a branch entitled <span class="guilabel">Suspended sediment concentration</span>
from which you can define the suspended sediment concentration for that fluid
region. All concentrations are entered in mass/volume in the same units as
density used elsewhere in the simulation.</p>
<blockquote>
<div><a class="reference internal image-reference" href="_images/ModelReference_InitialGlobalSediment_v12.JPG"><img alt="suspended-concentration-intial-condition" src="_images/ModelReference_InitialGlobalSediment_v12.JPG" style="width: 445.6px; height: 785.6px;" /></a>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The sediment concentration is a mass concentration, i.e. the concentration
defines the mass of the sediment species per unit volume of water/sediment mixture.</p>
</div>
</div>
<div class="section" id="sediment-concentrations-at-boundary-conditions-and-sources">
<span id="sediment-bcs"></span><h3>Sediment concentrations at boundary conditions and sources<a class="headerlink" href="#sediment-concentrations-at-boundary-conditions-and-sources" title="Permalink to this headline">¶</a></h3>
<p>It is also important to provide boundary condition information of suspended
sediments at domain boundaries. Packed sediment does not flow, so details on
it are not needed at boundaries. From
<span class="menuselection">Model Setup ‣ Boundaries ‣ Mesh block x ‣ Boundaries</span>,
select the boundary side you
need to add suspended sediment. Only boundaries with incoming fluid are
relevant. From the boundary dialog box, select the <span class="guilabel">Sediment</span>
button: here enter the concentrations of the various sediment species in the
incoming fluid. Time-dependent tabular data can also be provided by selecting
the <span class="guilabel">Tabular</span> button.</p>
<p>For adding suspended sediment to <span class="guilabel">Mass-momentum sources</span>, create the
mass/momentum source as usual (see <a class="reference internal" href="model-setup.html#massmomentummng"><span class="std std-ref">Mass-momentum sources</span></a>). The
<span class="guilabel">Mass flow rate</span> is based on the density of clear water, or the
<span class="guilabel">Volume flow rate</span> of the mixture, including solids. To add
suspended sediment to this source, set the <span class="guilabel">Sediment concentration</span>
in the <span class="menuselection">Source‣Sediments</span> section of the dialog. This parameter is defined
as the ratio of the mass flow rate of solids in the mixture to the volumetric flow rate of mixture
including solids – i.e., the total concentration in the sames units as
density elsewhere in the simulation.</p>
<p>Suspended sediment can also be added at mass sources. Create a component
and define it as a mass source (see <a class="reference internal" href="#masssourcesmr"><span class="std std-ref">Mass Sources</span></a>). The
<span class="guilabel">Mass flow rate</span> must be based on
the clear water density, and the added sediment concentrations are set in
the <span class="guilabel">Sediment concentration</span> field in the
<span class="menuselection">Component Properties‣ Mass source‣Source‣Sediments</span>
branch of the dialog.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The sediment concentration is a mass concentration, i.e. the concentration
defines the mass of the sediment species per unit volume of water/sediment mixture.</p>
</div>
</div>
<div class="section" id="sediment-modeling-considerations">
<span id="sediment-considerations"></span><h3>Sediment modeling considerations<a class="headerlink" href="#sediment-modeling-considerations" title="Permalink to this headline">¶</a></h3>
<p>Factors that affect the accuracy of sediment scour simulations and should
be accounted for are:</p>
<ul class="simple">
<li><strong>Density variations:</strong>
By default, the variable density model will be activated to allow the fluid
density to be  calculated as a function of entrained suspended sediment. The
user has the option to ignore  sediment effects on fluid density by
selecting <span class="guilabel">Constant uniform density</span> in the
<span class="menuselection">Physics‣ Density evaluation</span> model.</li>
<li><strong>Turbulence Modeling:</strong> Sediment scour requires accurate estimates
of the near-wall shear stresses, so a
good turbulence model should be selected for turbulent flows. The
<span class="guilabel">Renormalized group (RNG) model</span> in
<span class="menuselection">Physics ‣ Viscosity and turbulence</span> with a user-specified value for the
<span class="guilabel">Maximum turbulent mixing length</span> is the recommended starting point
because the <span class="guilabel">Dynamically computed maximum turbulent mixing length</span> relies
on an algorithm developed for single-phase flow. The mesh should be
suitably sized so that the near-bed velocity and shear stress calculations
are correct. Details on this technique are given in the <a class="reference internal" href="#walleffectsmr"><span class="std std-ref">Wall Effects: Slip, Shear, and Component Roughness</span></a>
section.</li>
<li><strong>Limitations of Included Models and User Customization:</strong> The governing equations
of the sediment scour model are empirical, and are known to be valid only for
the data set from which they were derived. There are numerous empirical models for
critical Shields parameter, entrainment, bed load transport and grain settling velocity,
and a particular simulation may require a model that is different from
the equations supplied with <span class="raw-html"><strong><em>FLOW-3D </em></strong></span>. All of the scour functions are available for
customization in the supplied editable modules <code class="file docutils literal notranslate"><span class="pre">scour_critic.F90</span></code>, <code class="file docutils literal notranslate"><span class="pre">scour_lift.F90</span></code>,
<code class="file docutils literal notranslate"><span class="pre">scour_bedload_rate.F90</span></code> and <code class="file docutils literal notranslate"><span class="pre">scour_uset.F90</span></code>.</li>
</ul>
<span class="target" id="index-297"></span></div>
</div>
<div class="section" id="shallow-water-model">
<span id="shallowwaterflowsmr"></span><span id="index-298"></span><h2>Shallow Water Model<a class="headerlink" href="#shallow-water-model" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id15">
<h3>Description and Usage<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<p>The shallow water model solves the two-dimensional, depth-averaged form of the governing equations for fluid flow.
This approach is valid when vertical fluid accelerations are negligible. This assumption can typically be made when the
horizontal extents of the flow are much larger than the vertical extents, such as the case of flow in rivers,
oceans and estuaries. A detailed description of the model formulation is provided in the theory section of the user
manual (see <a class="reference internal" href="theory.html#shallowwatermodelth"><span class="std std-ref">Shallow Water Model</span></a>) and in technical notes TN-48 and TN-58 found at <a class="reference external" href="http://users.flow3d.com/technical-notes/">http://users.flow3d.com/technical-notes/</a>. For cases in which the shallow water assumptions are valid, using this model can significantly improve run times due to the reduction in cell count.
A powerful application of the the shallow water model in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> is the ability to implement a hybrid 2D/3D simulation. This
approach allows the use of the shallow water model in regions where the assumptions are valid, and then link these 2D domains with a fully 3D mesh block in regions where the
full 3D solution is required for an accurate simulation.</p>
<p>The shallow water model can only be used in conjunction with the one-fluid, sharp interface flow model, and fluid depth must
be aligned with gravity in the z-direction. Users can select between implicit and explicit numerical methods for shallow
water flow. The implicit method is the default and is the recommended method. It eliminates the restriction on the time step size imposed by surface waves and
thus shortens the computation time. Lastly, special consideration should be given for defining the shallow water roughness coefficient.</p>
<p>The shallow water model is activated in <span class="menuselection">Physics ‣ Shallow water ‣ Activate shallow water model</span>. Under <span class="guilabel">Flow type</span>, users can
define the flow to be <span class="guilabel">Inviscid</span>, <span class="guilabel">Laminar</span> or <span class="guilabel">Turbulent</span>. The selection of <span class="guilabel">Flow type</span> will affect how the bottom shear stress term
is calculated, and is described in the equations <a class="reference internal" href="theory.html#equation-shallowwatermodel04">(261)</a> and <a class="reference internal" href="theory.html#equation-shallowwatermodel05">(262)</a> of the <a class="reference internal" href="theory.html#shallowwatermodelth"><span class="std std-ref">Shallow Water Model</span></a> theory section.
Lastly, a special type of mesh block must also be defined in <span class="menuselection">Model Setup ‣ Mesh</span>.</p>
<blockquote>
<div><img alt="Shallow water" src="_images/shallow-water-flows.png" />
</div></blockquote>
</div>
<div class="section" id="shallow-water-shear-stress-method">
<span id="shallowwatershearstressmr"></span><span id="index-299"></span><h3>Shallow Water Shear Stress Method<a class="headerlink" href="#shallow-water-shear-stress-method" title="Permalink to this headline">¶</a></h3>
<div class="section" id="laminar-flow">
<h4>Laminar Flow<a class="headerlink" href="#laminar-flow" title="Permalink to this headline">¶</a></h4>
<p>For laminar flow, the bottom shear stress is calculated using equation <a class="reference internal" href="theory.html#equation-shallowwatermodel09">(268)</a>.
This method requires the user to enter a <span class="guilabel">Vertical viscosity
multiplier</span> as a correction factor for the bottom shear stress evaluation, and is defined in
<span class="menuselection">Physics ‣ Shallow water</span>. It is
a necessary parameter because the actual velocity profile in the vertical
direction is usually nonlinear, which cannot be resolved in the shallow water
approximation. The <span class="guilabel">Vertical viscosity multiplier</span> is designed to
compensate for the lack of vertical velocity profile resolution. The default
value is 1.5 which corresponds to a quadratic velocity profile in a steady-state
shear flow. To use a different value of the <span class="guilabel">Vertical viscosity
multiplier</span>, simply define it in its input box.</p>
</div>
<div class="section" id="turbulent-flow">
<h4>Turbulent Flow<a class="headerlink" href="#turbulent-flow" title="Permalink to this headline">¶</a></h4>
<p>For turbulent flow, the shallow water model in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> uses the quadratic
law for calculation of the bottom stress as described equation <a class="reference internal" href="theory.html#equation-shallowwatermodel08">(265)</a> of the <a class="reference internal" href="theory.html#shallowwatermodelth"><span class="std std-ref">Shallow Water Model</span></a> theory section.</p>
<p>Choosing how to define the value of the drag coefficient, <img class="math" src="_images/math/5b97094e8740bea7796d95d429b5f139404c614f.png" alt="{C_D}" style="vertical-align: -3px"/>, is a critical step in the development
of a turbulent shallow water model. In <span class="raw-html"><strong><em>FLOW-3D </em></strong></span>, the user has three options for defining the drag coefficient.</p>
<ul class="simple">
<li>Define the value of <img class="math" src="_images/math/5b97094e8740bea7796d95d429b5f139404c614f.png" alt="{C_D}" style="vertical-align: -3px"/> as a direct input</li>
<li>Calculate <img class="math" src="_images/math/5b97094e8740bea7796d95d429b5f139404c614f.png" alt="{C_D}" style="vertical-align: -3px"/> as a function of a surface roughness height, <img class="math" src="_images/math/500ce2c31540c941a69d0af54e2b58eb9e4b25fd.png" alt="k_s" style="vertical-align: -3px"/></li>
<li>Calculate <img class="math" src="_images/math/5b97094e8740bea7796d95d429b5f139404c614f.png" alt="{C_D}" style="vertical-align: -3px"/> as a function of a Manning’s <img class="math" src="_images/math/dc50b6bc4de97b0c974cd4ba9d5243ef3192864a.png" alt="n" style="vertical-align: 0px"/></li>
</ul>
<p>The most common approach is to use one of the latter two options to define <img class="math" src="_images/math/5b97094e8740bea7796d95d429b5f139404c614f.png" alt="{C_D}" style="vertical-align: -3px"/> as either a function of <img class="math" src="_images/math/500ce2c31540c941a69d0af54e2b58eb9e4b25fd.png" alt="k_s" style="vertical-align: -3px"/> or Manning’s <img class="math" src="_images/math/dc50b6bc4de97b0c974cd4ba9d5243ef3192864a.png" alt="n" style="vertical-align: 0px"/>. The advantage of these methods is that they account for the effects of flow depth. Values for <img class="math" src="_images/math/500ce2c31540c941a69d0af54e2b58eb9e4b25fd.png" alt="k_s" style="vertical-align: -3px"/> and Manning’s <img class="math" src="_images/math/dc50b6bc4de97b0c974cd4ba9d5243ef3192864a.png" alt="n" style="vertical-align: 0px"/> are also readily available in the literature.</p>
<p>When using roughness height, the equation for <img class="math" src="_images/math/5b97094e8740bea7796d95d429b5f139404c614f.png" alt="{C_D}" style="vertical-align: -3px"/> is:</p>
<div class="math">
<p><img src="_images/math/8efe38f6074c0fb4ff3f5a165704f7e0019fcb14.png" alt="{C_D} = \left[ \frac{\kappa}{B+ln {\left( \frac{k_s}{30h} \right)}} \right] ^2"/></p>
</div><p>where:</p>
<ul class="simple">
<li><img class="math" src="_images/math/8552154a335b142ca0da9298ca0c193c45daf188.png" alt="\kappa" style="vertical-align: 0px"/> is the Von Kármán constant, 0.40</li>
<li><img class="math" src="_images/math/358695c21929026e3978a87b20230517725436b0.png" alt="B" style="vertical-align: 0px"/> is 0.71</li>
<li><img class="math" src="_images/math/287f8adc72babf3e4b81f4266f4392176081a8bd.png" alt="h" style="vertical-align: 0px"/> is the fluid depth</li>
<li><img class="math" src="_images/math/500ce2c31540c941a69d0af54e2b58eb9e4b25fd.png" alt="k_s" style="vertical-align: -3px"/> is the surface roughness height</li>
</ul>
<p>The equation for <img class="math" src="_images/math/5b97094e8740bea7796d95d429b5f139404c614f.png" alt="{C_D}" style="vertical-align: -3px"/> using Manning’s <img class="math" src="_images/math/dc50b6bc4de97b0c974cd4ba9d5243ef3192864a.png" alt="n" style="vertical-align: 0px"/> is:</p>
<blockquote>
<div><div class="math">
<p><img src="_images/math/e0832174fcfb3c709e7c26c1bbeeee3d7c8f18c7.png" alt="C_D=\frac{n^2 g}{d^{\frac{1}{3}}}"/></p>
</div></div></blockquote>
<p>It is seen that when Manning’s <img class="math" src="_images/math/dc50b6bc4de97b0c974cd4ba9d5243ef3192864a.png" alt="n" style="vertical-align: 0px"/> is used, <img class="math" src="_images/math/257fb351c94813d1da6f0305ac48ee38ffb415b2.png" alt="C_D" style="vertical-align: -3px"/> is inversely proportional to <img class="math" src="_images/math/93eb101dbfaec61a99775965116a4b64731d0f61.png" alt="d^{\frac{1}{3}}" style="vertical-align: 0px"/>. To
avoid unphysically high value of <img class="math" src="_images/math/257fb351c94813d1da6f0305ac48ee38ffb415b2.png" alt="C_D" style="vertical-align: -3px"/> when water is too shallow, a cap is applied
to <img class="math" src="_images/math/257fb351c94813d1da6f0305ac48ee38ffb415b2.png" alt="C_D" style="vertical-align: -3px"/>, which can be defined in <span class="menuselection">Physics  ‣ Shallow water  ‣
Turbulent ‣ Maximum drag coefficient for bottom shear stress</span>. Its default value is 0.1.</p>
<p>The default method used in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> is to define <img class="math" src="_images/math/5b97094e8740bea7796d95d429b5f139404c614f.png" alt="{C_D}" style="vertical-align: -3px"/> as a constant global value of 0.0026, which is a typical value in hydraulic and coastal engineering applications. This global default value can be redefined by the user in the <span class="menuselection">Physics ‣ Shallow water ‣ Turbulent</span> options. However, if there is actual physical variability of the surface roughness characteristics for the solid objects in the domain, a method to define a spatially varying <img class="math" src="_images/math/257fb351c94813d1da6f0305ac48ee38ffb415b2.png" alt="C_D" style="vertical-align: -3px"/>, <img class="math" src="_images/math/500ce2c31540c941a69d0af54e2b58eb9e4b25fd.png" alt="k_s" style="vertical-align: -3px"/> and/or Manning’s <img class="math" src="_images/math/dc50b6bc4de97b0c974cd4ba9d5243ef3192864a.png" alt="n" style="vertical-align: 0px"/> is required. This can be accomplished
in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> by assigning different values of of the roughness coefficients to individual components or sub-components.</p>
<p>To define a component specific value of <img class="math" src="_images/math/257fb351c94813d1da6f0305ac48ee38ffb415b2.png" alt="C_D" style="vertical-align: -3px"/>, <img class="math" src="_images/math/500ce2c31540c941a69d0af54e2b58eb9e4b25fd.png" alt="k_s" style="vertical-align: -3px"/> and/or Manning’s <img class="math" src="_images/math/dc50b6bc4de97b0c974cd4ba9d5243ef3192864a.png" alt="n" style="vertical-align: 0px"/>, go to <span class="menuselection">Geometry ‣ Component ‣ Surface Properties ‣ Shallow Water Shear Stress Method</span>, and select the desired method, and specify the value in the corresponding input box. Values are defined in input boxes of <span class="guilabel">Shallow Water Drag Coefficient</span> for <img class="math" src="_images/math/257fb351c94813d1da6f0305ac48ee38ffb415b2.png" alt="C_D" style="vertical-align: -3px"/>; <span class="guilabel">Roughness height</span> <img class="math" src="_images/math/500ce2c31540c941a69d0af54e2b58eb9e4b25fd.png" alt="k_s" style="vertical-align: -3px"/>; and <span class="guilabel">Manning’s roughness coefficient</span> for Manning’s <img class="math" src="_images/math/dc50b6bc4de97b0c974cd4ba9d5243ef3192864a.png" alt="n" style="vertical-align: 0px"/>.</p>
<blockquote>
<div><img alt="Shallow water drag method" src="_images/shallow-water-drag-method.png" />
</div></blockquote>
<p>These values can also be defined at the sub-component level. To define a sub-component specific value,
go to <span class="menuselection">Geometry ‣ Component ‣ Subcomponent ‣ Surface Properties</span> and define inputs
for <span class="guilabel">Roughness height</span> and/or <span class="guilabel">Manning’s roughness coefficient</span>. By default, any
value set at the sub-component level overrides values defined at the component level.</p>
<p>Lastly, there is also an option to assign a spatially varying <img class="math" src="_images/math/500ce2c31540c941a69d0af54e2b58eb9e4b25fd.png" alt="k_s" style="vertical-align: -3px"/> and/or Manning’s <img class="math" src="_images/math/dc50b6bc4de97b0c974cd4ba9d5243ef3192864a.png" alt="n" style="vertical-align: 0px"/> with a
raster file. This method is used when a detailed delineation of roughness zones is available as a raster
output from a GIS software. Within the raster file, the roughness zones are coded with integer values,
and then related to either a <img class="math" src="_images/math/500ce2c31540c941a69d0af54e2b58eb9e4b25fd.png" alt="k_s" style="vertical-align: -3px"/> and/or Manning’s <img class="math" src="_images/math/dc50b6bc4de97b0c974cd4ba9d5243ef3192864a.png" alt="n" style="vertical-align: 0px"/> value through a user defined legend
file. This allows for easy modification of roughness values without being required to edit the raster
directly. Procedures for applying the raster and legend files are provided in model setup
section (see <a class="reference internal" href="model-setup.html#surfaceroughnesscomptype"><span class="std std-ref">Surface roughness</span></a> and <a class="reference internal" href="model-setup.html#roughlegendfile"><span class="std std-ref">Surface roughness legend file</span></a>). When roughness values are
defined from a raster file, they will override inputs set at the component and sub-component levels.
For any grid cells in the raster defined as NODATA, the underlying component or sub-component roughness
or Manning’ <img class="math" src="_images/math/dc50b6bc4de97b0c974cd4ba9d5243ef3192864a.png" alt="n" style="vertical-align: 0px"/> values will be applied. It is noted that roughness height and Manning’s roughness
coefficient can be specified at the same time. They share the same raster file, but their code conversion files are different.</p>
</div>
</div>
<div class="section" id="shallow-water-mesh-block">
<span id="shallowwatermeshblockmr"></span><span id="index-300"></span><h3>Shallow Water Mesh Block<a class="headerlink" href="#shallow-water-mesh-block" title="Permalink to this headline">¶</a></h3>
<p>Special mesh blocks must be defined for regions being modeled with shallow water. The mesh block must be defined so that there is a single cell in the z-direction. To ensure that the FAVOR method in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> accurately resolves the solid objects, the bottom elevation of the cell must be defined to intersect with all of the solid geometry objects. Additionally, the top elevation of the cell must be defined so that it is above the expected free surface elevation of the fluid. Note that if the cell height is too large it will adversely affect vector and contour plots. Lastly, the user must also check the box for <span class="guilabel">Shallow water mesh block</span>.</p>
<blockquote>
<div><img alt="Shallow water mesh" src="_images/shallow-water-flows-mesh.png" />
</div></blockquote>
</div>
<div class="section" id="combining-shallow-watter-with-other-physical-models">
<h3>Combining Shallow Watter with Other Physical Models<a class="headerlink" href="#combining-shallow-watter-with-other-physical-models" title="Permalink to this headline">¶</a></h3>
<div class="section" id="shallow-water-3d-flow">
<span id="shallowwaterhybridmr"></span><span id="index-301"></span><h4>Shallow Water / 3D Flow<a class="headerlink" href="#shallow-water-3d-flow" title="Permalink to this headline">¶</a></h4>
<p>The shallow water model can be combined with the fully 3D modeling
capabilities of <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> to create a hybrid 2D/3D model. This hybrid model allows
for detailed modeling of 3D structures within a larger domain where shallow
water assumptions are valid such as a river, sea or estuary. The model uses
multi-blocking meshing, where the each mesh block needs to be designated as
either 2D or 3D by selecting the the <span class="guilabel">Shallow water mesh block</span> flag
in the <span class="guilabel">Mesh operations</span> widget. A valid hybrid model can have the
3D mesh block fully nested within the 2D mesh block, or can be set up with
linked blocks that share common boundaries (See <a class="reference internal" href="model-setup.html#multiblockms"><span class="std std-ref">Multi-Block Meshes</span></a>). When
setting up a hydrid model make sure to observe all best practices for multi-block
meshing and also for shallow water meshing. Additionally, when creating
a hybrid model, the minimum Z elevation of the shallow water mesh block must
be greater than the minimum Z elevation of the linked or nested 3D mesh block.</p>
<p>It is noted that Manning’s roughness coefficient can only be used for shallow water turbulent flow.
Surface roughness height, however, can be used for both shallow water and 3D turbulent flows.
In shallow water mesh blocks, bottom shear stress coefficient can be user-defined or code-calculated
using either roughness height or Manning’s roughness coefficient. In 3D mesh blocks, only roughness height
is used to calculate near-wall flow. Please refer to <a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#shallowwaterflowsmr"><span class="std std-ref">Shallow Water Model</span></a>
for more details of Manning’s roughness coefficient and surface roughness height specifications.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li><a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#shallowwaterflowsmr"><span class="std std-ref">Shallow Water Model</span></a></li>
<li><a class="reference internal" href="model-setup.html"><span class="doc">Model Setup</span></a> -&gt;  <a class="reference internal" href="model-setup.html#multiblockms"><span class="std std-ref">Multi-Block Meshes</span></a></li>
<li><a class="reference internal" href="model-setup.html"><span class="doc">Model Setup</span></a> -&gt;  <a class="reference internal" href="model-setup.html#swat-mng"><span class="std std-ref">Shallow water meshes</span></a></li>
</ul>
</div>
</div>
<div class="section" id="shallow-water-geophysical-flow">
<span id="shallowwatergeophysicalmr"></span><span id="index-302"></span><h4>Shallow Water / Geophysical Flow<a class="headerlink" href="#shallow-water-geophysical-flow" title="Permalink to this headline">¶</a></h4>
<p>If the shallow water flow is also a geophysical flow (e.g., of the scale of an
estuary or bay), then the Coriolis force due to the Earth’s rotation is
important. In this case, users need to activate the geophysical fluid flow
option in <span class="menuselection">Physics ‣ Non-inertial reference frame ‣ Motion
type ‣ Geophysical fluid flow</span> and define the <span class="guilabel">Latitude of the flow
region</span>.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li><a class="reference internal" href="theory.html#nirfth"><span class="std std-ref">Non-Inertial Reference Frame</span></a> notation</li>
<li><a class="reference internal" href="theory.html#noninertialreferenceframeth"><span class="std std-ref">Non-Inertial Reference Frame Motion</span></a> equations</li>
<li><a class="reference internal" href="#noninertialreferenceframemotionmr"><span class="std std-ref">Non-Inertial Reference Frame Motion</span></a></li>
</ul>
</div>
</div>
<div class="section" id="shallow-water-wind">
<span id="shallowwaterwindmr"></span><span id="index-303"></span><h4>Shallow Water / Wind<a class="headerlink" href="#shallow-water-wind" title="Permalink to this headline">¶</a></h4>
<p>Wind shear on the water surface may need to be considered in shallow water flows. It
can be defined in <span class="menuselection">Physics ‣ Wind</span>. See the
<a class="reference internal" href="#windshearstressmr"><span class="std std-ref">Wind Shear Stress</span></a> section for more information.</p>
</div>
<div class="section" id="shallow-water-porous-media">
<span id="shallowwaterporousmr"></span><span id="index-304"></span><h4>Shallow Water / Porous media<a class="headerlink" href="#shallow-water-porous-media" title="Permalink to this headline">¶</a></h4>
<p>Porous media may be used in shallow water models to represent things that are
not well-characterized by surface roughness, like forests, hedges, etc.
However, if the porosity is less than one, all solids content of the media
will be packed down onto the bed, changing the bed elevation. Therefore the
recommended approach is to specify the
<span class="menuselection">Permeability Dependent Saturated Drag</span> model and drag coefficients,
and then specify the porous component porosity as one (100% open).
This drag model does not use porosity in its calculation of flow losses, so this approach will add drag due
to the porous media without changing the bed elevation. Details on porous
media physics are given in the <a class="reference internal" href="#flowinporouscomponentsmr"><span class="std std-ref">Porous Media</span></a> section.</p>
<span class="target" id="index-305"></span></div>
</div>
</div>
<div class="section" id="sludge-settling">
<span id="sludgesettlingsectionmr"></span><span id="index-306"></span><h2>Sludge Settling<a class="headerlink" href="#sludge-settling" title="Permalink to this headline">¶</a></h2>
<p>The sludge settling model is activated in the user interface by selecting <span class="menuselection">Physics &gt; Sludge settling</span>. Settling velocity of sludge is in the gravitational direction. It is a function of sludge mass concentration and decreases with increasing sludge concentration. It is calculated using either the Vesilind equation or a table-valued function defined by users. From the <span class="menuselection">Settling velocity input method</span>, select <span class="menuselection">Vesilind equation</span> or <span class="menuselection">Tabular</span>. If the former is selected, users need to specify <span class="menuselection">Vesilind maximum settling velocity</span> and <span class="menuselection">Vesilind parameter</span> that are used in the equation. Otherwise, users need to select <span class="menuselection">Tabular</span> and fill the data table, or use an external file to define the function by selecting <span class="menuselection">Tabular &gt; Import Values</span>. In the external file, two columns of data need to be specified with the first and second ones representing sludge mass concentration and sludge settling velocity, respectively.</p>
<blockquote>
<div><img alt="Sludge setup" src="_images/sludge_setup.png" />
</div></blockquote>
<p>It is also required that users define <span class="menuselection">Maximum settled sludge concentration</span> and <span class="menuselection">Net mass density of sludge solid</span>. In a settling tank, the maximum concentration is the sludge mass concentration in the fully settled region. At the maximum concentration, sludge stops settling and its concentration no longer increases, but its advection with fluid flow may continue.</p>
<p>Users may specify the <span class="menuselection">Dynamic viscosity</span> of sludge. In a sludge settling simulation, fluid is the water-sludge mixture, and its total viscosity is evaluated as the fraction-weighted average of water and sludge viscosities. Note sludge viscosity may not be important when sludge fraction in fluid is low.</p>
<p>The <span class="menuselection">Molecular diffusion coefficient</span> and <span class="menuselection">turbulent diffusion coefficient multiplier</span> can also be specified for sludge. The total diffusion coefficient of sludge is determined as</p>
<div class="math">
<p><img src="_images/math/dbe8a43f3775bb984e0644539a9e8a53e06635fe.png" alt="D_s = \alpha {\nu}_T + D_m"/></p>
</div><p>where <img class="math" src="_images/math/649f7506c63ea2d1db2b0868b7ab94fc8875636d.png" alt="{\nu}_T" style="vertical-align: -3px"/> is the turbulent kinematic viscosity of fluid, <img class="math" src="_images/math/abf36f0bda0c07c3f413bdae5d6c0da74b75c9b0.png" alt="D_m" style="vertical-align: -3px"/> is the molecular diffusion coefficient of sludge, and <img class="math" src="_images/math/db68c1b58b0e0840702a7a6539a5253887a9cd69.png" alt="\alpha" style="vertical-align: 0px"/> is the turbulent diffusion coefficient multiplier for sludge.</p>
<p>Initial conditions can be defined for sludge mass concentration with a global value or fluid-region specific values. At a boundary where fluid enters the domain (velocity, volume flow rate or pressure boundary), sludge concentration can be set as a constant value or a time-dependent variable with tabular data.</p>
<p>In postprocessing, sludge related output data can be found in restart, selected and history data. The restart and selected data include sludge mass concentration, sludge settling velocity, and sludge settling mass flux which is the product of sludge mass concentration and sludge settling velocity. To output sludge data in selected data, users must select <span class="menuselection">Model Setup &gt; Output &gt; Sludge mass concentration</span> when setting up the simulation. Sludge related history data is total <span class="menuselection">sludge mass</span>.</p>
<blockquote>
<div><img alt="Sludge selected data output." src="_images/sludge_selected_data_output.png" />
</div></blockquote>
<span class="target" id="index-307"></span></div>
<div class="section" id="solidification">
<span id="solidificationsectionmr"></span><span id="index-308"></span><h2>Solidification<a class="headerlink" href="#solidification" title="Permalink to this headline">¶</a></h2>
<p>The solidification model can be used when heat transfer is activated (<span class="menuselection">Physics ‣ Heat Transfer ‣ Fluid internal energy
advection</span>) and fluid specific heat (<span class="menuselection">Fluids ‣ Properties for ‣ Fluid 1 ‣ Thermal Properties ‣ Specific heat</span>) and conductivity (<span class="menuselection">Fluids ‣ Properties for ‣ Fluid 1 ‣ Thermal Properties ‣ Thermal Conductivity</span>) are set. Only Fluid 1 can undergo phase transformations.</p>
<blockquote>
<div><img alt="Solidification - Activate solidification" src="_images/solidification.png" />
</div></blockquote>
<p>To activate the solidification model check <span class="menuselection">Physics ‣
Solidification ‣ Activate Solidification</span>, and then specify the
<span class="guilabel">Liquidus temperature</span>, <span class="guilabel">Solidus temperature</span>, and
<span class="guilabel">Latent heat of fusion</span> in the <span class="guilabel">Fluids</span> widget under <span class="menuselection">Fluid 1 ‣ Solidification</span>. In the simplest model
(selection <span class="guilabel">Linearly with constant</span> from the drop-down menu next to
<span class="guilabel">Latent Heat Release Definition</span>) the latent heat is released
linearly as the material cools from the <span class="guilabel">Liquidus</span> to the
<span class="guilabel">Solidus</span> temperature. For a more detailed models of latent heat
release, including heats-of-transformation in the solid phase, use the
<span class="guilabel">Specific energy vs. temperature</span> or <span class="guilabel">Solid fraction vs.
temperature</span> options to define the release of the latent heat as a function of
temperature. See <a class="reference internal" href="theory.html#heatoftransformationsth"><span class="std std-ref">Heat of Transformation</span></a> in the <a class="reference internal" href="theory.html"><span class="doc">Theory</span></a> manual for more
details about this setup.</p>
<blockquote>
<div><a class="reference internal image-reference" href="_images/ModelReference_FluidsSolidification_v12.JPG"><img alt="solidification-fluid-properties" src="_images/ModelReference_FluidsSolidification_v12.JPG" style="width: 448.0px; height: 785.6px;" /></a>
</div></blockquote>
<p>Solidification implies a rigidity and resistance to flow. This rigidity is
modeled in two ways. For low solid fractions, i.e., below the point of
coherency <span class="menuselection">Fluids ‣ Fluid 1 ‣ Solidification ‣
Coherent Solid Fraction</span>, the viscosity is a
function of solid fraction. For solid fractions larger than the coherent solid
fraction, a Darcy type of drag force with a drag coefficient proportional to
a function of solid fraction is used. This drag is added to the momentum
equations as (<img class="math" src="_images/math/982b1a828b735670bffab1299fb029ea162c6daa.png" alt="b_x" style="vertical-align: -3px"/>,<img class="math" src="_images/math/4add02e222e609f8089ecec1bf13f621837abc53.png" alt="b_y" style="vertical-align: -6px"/>,<img class="math" src="_images/math/9f888f6edf11712ae9dc5a272202819f15f573aa.png" alt="b_z" style="vertical-align: -3px"/>) – see
<a class="reference internal" href="theory.html#momentumequationsth"><span class="std std-ref">Momentum Equations</span></a>. The calculation of this drag is described in
<a class="reference internal" href="theory.html#solidifictiondragmodelth"><span class="std std-ref">Solidification Drag</span></a>. The drag coefficient contains the factor
<span class="guilabel">Coefficient of Solidification Drag</span> that users can adjust to modify
the amount of resistance to flow. The drag coefficient is multiplied by the
local phase-averaged velocity, which corresponds to the velocity reported in
<span class="raw-html"><strong><em>FLOW-3D </em></strong></span> output.</p>
<p>If the solid fraction exceeds the point of rigidity, the <span class="guilabel">Critical
Solid Fraction</span> (in <span class="menuselection">Fluids ‣ Fluid 1 ‣ Solidification</span>), the drag becomes infinite and there
can be no flow with respect to the computational grid (for an exception, see
<a class="reference internal" href="#movingsolidphasemr"><span class="std std-ref">Moving Solid Phase</span></a>).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Use <span class="menuselection">General ‣ Finish condition ‣ Solidified fluid fraction</span> for the simulation to stop when all the fluid is completely solidified. <span class="menuselection">General ‣ Finish condition ‣ Finish fraction</span> sets the fraction solid value at which to stop the simulation.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"> <a class="reference internal" href="#macrosegregationmr"><span class="std std-ref">Macro-Segregation during Alloy Solidification</span></a> and <a class="reference internal" href="theory.html#solidifictiondragmodelth"><span class="std std-ref">Solidification Drag</span></a>.</p>
</div>
<div class="section" id="criterion-functions">
<span id="criterionfunctionsmr"></span><span id="index-309"></span><h3>Criterion Functions<a class="headerlink" href="#criterion-functions" title="Permalink to this headline">¶</a></h3>
<p>The criterion function below can be used to post process a number of
quantities. The coefficient, <img class="math" src="_images/math/2a3e6468d8e8436144abc2ac7a0eba94cfcf8833.png" alt="a" style="vertical-align: 0px"/>, and the exponents, <img class="math" src="_images/math/9a35981bab3fb1e23a2f374e4a027a565471a18d.png" alt="b" style="vertical-align: 0px"/>,
<img class="math" src="_images/math/0eb5e361bb43732fc188aa3fcfa15e874464e4ed.png" alt="c" style="vertical-align: 0px"/>,  <img class="math" src="_images/math/af338b0f36c212027ca29e7d652f140b32f24dbd.png" alt="d" style="vertical-align: 0px"/>, and  <img class="math" src="_images/math/a7228df3b7d8f5ae91504d95e1bf39e4323d0a90.png" alt="e" style="vertical-align: 0px"/>, can be changed to represent various
quantities.</p>
<div class="math" id="equation-criterionfunctions">
<p><span class="eqno">(14)<a class="headerlink" href="#equation-criterionfunctions" title="Permalink to this equation">¶</a></span><img src="_images/math/b3cf98ca1cd0e85ab2140cb44180563f51c2d50a.png" alt="a \cdot T^{b} \cdot G^{c} \cdot V_{s}^{d} \cdot t_{s}^{e}"/></p>
</div><p>where:</p>
<ul class="simple">
<li><img class="math" src="_images/math/3220cefb5db8f2913afbedb55591cb3437ae3113.png" alt="T" style="vertical-align: 0px"/> is the cooling rate,</li>
<li><img class="math" src="_images/math/58480c8cf19c69c3af184a56ed6985d65b9b244f.png" alt="G" style="vertical-align: 0px"/> is the temperature gradient,</li>
<li><img class="math" src="_images/math/ecf0b67657efa88be202447c216c300461c727cc.png" alt="V_{s}" style="vertical-align: -3px"/> is the solidus velocity, and</li>
<li><img class="math" src="_images/math/00c85301c0682f47cc2f55bf213c06193d4dd8fb.png" alt="t_{s}" style="vertical-align: -3px"/> is the local solidification time - the time it takes for the metal to cool from the liquidus to the solidus temperatures.</li>
</ul>
<p>For example, already available in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> as <span class="guilabel">Solidification Data</span>
are primary dendrite arm spacing where the <a class="reference internal" href="#equation-criterionfunctions">(14)</a> reduces to:</p>
<div class="math" id="equation-pdas">
<p><span class="eqno">(15)<a class="headerlink" href="#equation-pdas" title="Permalink to this equation">¶</a></span><img src="_images/math/f5aa016a869a6b60b9166d4b0401e3f2e86a24bc.png" alt="1.0 \cdot G^{-0.5} \cdot V_{s}^{-0.25}"/></p>
</div><p>The coefficient of 1.0 is a material or unit multiplier. The parameters are
the effective values averaged between solidus/Niyama and liquidus temperatures
with impingement effects considered.</p>
<p>Other existing quantities available for selection are:</p>
<ul class="simple">
<li>Niyama porosity criterion:
<img class="math" src="_images/math/675c4438cfdae85df684337597c6c5d7f217f1a6.png" alt="1.0 \cdot T^{-0.5} \cdot G^{1.0}" style="vertical-align: 0px"/></li>
<li>feeding efficiency index:
<img class="math" src="_images/math/b477418f8a1c7a57618d1002e6e22b2659253b4f.png" alt="1.0 \cdot G^{1.0} \cdot t_{s}^{-1.0}" style="vertical-align: -5px"/></li>
<li>LCC porosity criterion:
<img class="math" src="_images/math/f5cd226588944a8026f2d2ef762cba00264734ba.png" alt="1.0 \cdot G^{1.0} \cdot V_{s}^{-1.0} \cdot t_{s}^{0.667}" style="vertical-align: -5px"/></li>
<li>primary dendrite arm spacing:
<img class="math" src="_images/math/0e1b231bc023cc21b2f7371a095d2088c5e8f9a3.png" alt="1.0 \cdot G^{-0.5} \cdot V_{s}^{-0.25}" style="vertical-align: -5px"/></li>
<li>secondary dendrite arm spacing:
<img class="math" src="_images/math/fbffd35039148ca9b1aa85d0a0e7b8a25134b853.png" alt="1.0 \cdot G^{-0.417} \cdot V_{s}^{-0.417}" style="vertical-align: -5px"/></li>
</ul>
<p>Customized output can also be postprocessed in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span>’s native postprocessor
as a 2-D result. The steps are as follows:</p>
<ul>
<li><p class="first">Render a 2-D result of any of the above output quantities. This will open up
the <span class="guilabel">Display</span> tab</p>
</li>
<li><p class="first">Go back to the <span class="guilabel">Analyze</span> tab, select the <span class="guilabel">Custom</span> tab
and choose the flsinp.tmp file in the drop-down just below the tab</p>
</li>
<li><p class="first">Modify any of the coefficients circled in red in the image below. The
coefficients represent <img class="math" src="_images/math/2a3e6468d8e8436144abc2ac7a0eba94cfcf8833.png" alt="a" style="vertical-align: 0px"/> through <img class="math" src="_images/math/a7228df3b7d8f5ae91504d95e1bf39e4323d0a90.png" alt="e" style="vertical-align: 0px"/> in order from left
to right</p>
</li>
<li><p class="first">Choose <span class="guilabel">Render</span> and then the 2-D Output Type</p>
<img alt="Solidification model" src="_images/criterion_functions.png" />
</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For the vast majority of casting processes, including sand casting, die
casting, investment casting, continuous casting, ingot casting, etc., the
solidification processes are not steady-state processes, which means the
solidification velocity and/or the temperature gradient at the interface
change continuously during the solidification. The solidification fronts may
also come in contact with one another, and impingement occurs. In order to
better predict the primary and secondary dendrite arm spacings of the
castings, the non-steady-state solidification processes and the impingement
effect have to be taken into account. Thus instead of using the above
solidification parameters to compute the dendrite arm spacings, which are
instantaneous values at the specified temperature, the effective values are
used, which are averaged values between solidus and liquidus/Niyama
temperatures, with impingement effect considered.</p>
</div>
<span class="target" id="index-310"></span></div>
<div class="section" id="drag-in-the-mushy-zone">
<span id="draginthemushyzonemr"></span><span id="index-311"></span><h3>Drag in the Mushy Zone<a class="headerlink" href="#drag-in-the-mushy-zone" title="Permalink to this headline">¶</a></h3>
<p>The <em>mushy zone</em> in casting is a region where liquid and solid phases
coexist as a mixture. The local mixture viscosity is affected when the equiaxed
dendrites (structures consisting of crystals that grow radially inside an
under-cooled melt) are free floating within the liquid.</p>
<p>Once a fixed solid network is formed when the dendrite coherency is attained,
additional flow losses arise since the liquid phase now moves through a fixed
porous dendiritic structure. Alternatvely, the liquid/solid mixture
after the coherency point can be treated as a highly viscous fluid, instead of
a flow through porous media. The viscous approach is useful when the solid phase
continues to move and deform as, for example, in the continuous twin-roll
casting process.</p>
<div class="section" id="solidification-drag-models-in-flow-3d">
<span id="index-312"></span><h4>Solidification Drag Models in FLOW-3D<a class="headerlink" href="#solidification-drag-models-in-flow-3d" title="Permalink to this headline">¶</a></h4>
<p>To define the coefficient of solidified drag the user must first activate the
heat transfer and solidification models. These can be activated by from the
<span class="menuselection">Model Setup ‣ Physics</span> dock widget. A shrinkage model can also be
activated in the solidification model window.</p>
<blockquote>
<div><img alt="Solidification model" src="_images/solidification-model.png" />
</div></blockquote>
<p>Once the <span class="guilabel">Solidification</span> model has been activated, the drag
formulation needs  to be specified.  In the lower left corner of the
<span class="guilabel">Solidification</span> dialog there is an option to choose between
<span class="menuselection">Porous media drag-based</span> and <span class="menuselection">Viscosity-based</span>
drag formulations.</p>
<ul class="simple">
<li>The <span class="menuselection">Viscosity-based</span> formulation treats
solidified fluid as a viscous fluid, with the viscosity of pure solid phase
specified below the entry for <span class="guilabel">Flow model for solidified metal</span> in the
<span class="guilabel">Viscosity</span> field.  This approach is used  for simulations where a
rigid-like drag model cannot be used (e.g., when the solidified metal is
squeezed between rollers).  The viscosity varies linearly with solid fraction:<ul>
<li>When the solid fraction is zero then the viscosity is that of the fluid #1</li>
<li>When the solid fraction is one then the viscosity is equal to the value specified
on the <span class="guilabel">Solidification</span> panel.</li>
</ul>
</li>
<li>The <span class="menuselection">Porous media drag-based</span>
formulation uses the solid fraction to determine the state of solidification.
When the solid fraction is at or exceeds the <span class="guilabel">Critical Solid Fraction</span>
then the drag is infinite – that is, the liquid/solid mixture behaves like a solid. When
the solid fraction is below the <span class="guilabel">Coherent Solid Fraction</span> then the
drag is zero. In between these two values the flow is in the mushy zone and
the flow is treated as though it is in porous media. The model also
automatically modifies the viscosity at the molten metal when the solid
fraction is lower than the <span class="guilabel">Coherent Solid Fraction</span>. In this state,
solid crystals raise the viscosity, yet do not yet bind together (i.e., are not
coherent). Once the fluid reaches the <span class="guilabel">Coherent Solid Fraction</span> the
drag equation is taken into account and the viscosity remains constant at the
last value before coherency was reached. The critical and coherent solid fractions
are defined by the user and can be found in papers and books.
This formulation requires that the <span class="guilabel">Coefficient
of Solidification Drag</span> be defined. This can be done at the
<span class="guilabel">Solidification</span> window of the <span class="guilabel">Physics</span> widget
or in the <span class="menuselection">Model Setup ‣ Fluids</span>
widget by opening the <span class="menuselection">Fluid 1 ‣ Solidification ‣ Solidified</span> tab.</li>
</ul>
</div>
<div class="section" id="how-to-calculate-permeability">
<span id="index-313"></span><h4>How to Calculate Permeability<a class="headerlink" href="#how-to-calculate-permeability" title="Permalink to this headline">¶</a></h4>
<p>Darcy’s law, given below, is a mathematical description of flow in porous
media for dendritic networks <a class="reference internal" href="zbibliography.html#poirier-1987" id="id16">[Poi87]</a>.</p>
<div class="math" id="equation-darcys-law-permeability">
<p><span class="eqno">(16)<a class="headerlink" href="#equation-darcys-law-permeability" title="Permalink to this equation">¶</a></span><img src="_images/math/5dbce218592c0e12bda7f34256316cb17bebf0d6.png" alt="\mathbf{u} =  - \frac{K}{\mu} \nabla P"/></p>
</div><p>where <img class="math" src="_images/math/dd781290bb86d4b2e998dea60a15c5364f4d82e1.png" alt="\mathbf{u}" style="vertical-align: 0px"/> is the velocity of the interdendric flow,
<img class="math" src="_images/math/3b24aa21794c9b64063a86d54ee374e7d2dd59b9.png" alt="\nabla P" style="vertical-align: -1px"/> is the local pressure gradient, and
<img class="math" src="_images/math/1f95110560cf9695123aef81c197fb7715dfe919.png" alt="K" style="vertical-align: 0px"/> is the specific permeability of the mushy zone.
This equation is only valid if the the flow is approximately steady,
inertial effects can be ignored, the volume fraction of liquid is uniform and constant,
and there are negligible liquid-to-liquid interaction forces
There are several models that can be used to define the permeability, but <span class="raw-html"><strong><em>FLOW-3D </em></strong></span>
uses the Blake-Kozeny model, shown below. Other models can be added by
customizing the source code that comes with the software.</p>
<div class="math" id="equation-blake-kozeny-model">
<span id="index-314"></span><p><span class="eqno">(17)<a class="headerlink" href="#equation-blake-kozeny-model" title="Permalink to this equation">¶</a></span><img src="_images/math/4e848fbb539e5187fc32f9eec19c5e755dea6f49.png" alt="\mathbf{u} =  -C_2 \left( \frac{\lambda_1^2 (1-f_s)^3}{\mu f_s^2} \right) \left( \nabla P - \rho \mathbf{g} \right)"/></p>
</div><p>where:</p>
<ul class="simple">
<li><img class="math" src="_images/math/02707a4e4ea956f8a80b05217afb75f12ace0d20.png" alt="{C_2}" style="vertical-align: -3px"/> is the tortuosity, typically equal to <img class="math" src="_images/math/626900177bb5988565be5d4c7549779820c0cdfe.png" alt="\frac{1}{180}" style="vertical-align: -6px"/>,</li>
<li><img class="math" src="_images/math/36434a9974445ce37530db1b9e87b6e3e917181e.png" alt="f_s" style="vertical-align: -4px"/> is the solid fraction, and</li>
<li><img class="math" src="_images/math/fbfd0de071109d6bd5fb0db20baf5459194c5d54.png" alt="\lambda_1" style="vertical-align: -3px"/> is the characteristic dimension for flow.  In this application,
the dendrite arm spacing can be used.</li>
</ul>
<p>If we apply Equation <a class="reference internal" href="#equation-darcys-law-permeability">(16)</a> to Equation <a class="reference internal" href="#equation-blake-kozeny-model">(17)</a> we
get the following equation for permeability <a class="reference internal" href="zbibliography.html#poirier-1987" id="id17">[Poi87]</a></p>
<div class="math" id="equation-permeability-solidification">
<p><span class="eqno">(18)<a class="headerlink" href="#equation-permeability-solidification" title="Permalink to this equation">¶</a></span><img src="_images/math/62e3fe9664c90eebe7789989d3f7b9801b703d5a.png" alt="K = \lambda_1^2 \frac{(1-f_s)^3}{180f_s^2}"/></p>
</div><p>Some typical values for the dendritic arm spacing are given below.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<span id="tablerangecoolingratessolidification"></span><table border="1" class="colwidths-given longtable docutils" id="id38">
<caption><span class="caption-text">Range of Cooling Rates in Solidification Processes</span><a class="headerlink" href="#id38" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="20%" />
<col width="60%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">COOLING RATE, K/s</th>
<th class="head">PRODUCTION PROCESSES</th>
<th class="head">DENDRITE ARM SPACING, <img class="math" src="_images/math/9798339415c7a6a1d319d4159336e32846d725ef.png" alt="\mu m" style="vertical-align: -4px"/></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><img class="math" src="_images/math/2570f526b935579211b61e5075ad9f4cf9503122.png" alt="10^{-4}" style="vertical-align: 0px"/> to <img class="math" src="_images/math/fa6a84c4d962e3c13e9ffa725f9bb44d4aa738f6.png" alt="10^{-2}" style="vertical-align: 0px"/></td>
<td>large castings</td>
<td>5000 to 200</td>
</tr>
<tr class="row-odd"><td><img class="math" src="_images/math/fa6a84c4d962e3c13e9ffa725f9bb44d4aa738f6.png" alt="10^{-2}" style="vertical-align: 0px"/> to <img class="math" src="_images/math/09fb32420938be3bf1d5cee311a5b24b5c1984c4.png" alt="10^3" style="vertical-align: 0px"/></td>
<td>small castings, continuous castings, die castings, strip castings, coarse powder atomization</td>
<td>200 to 5</td>
</tr>
<tr class="row-even"><td><img class="math" src="_images/math/09fb32420938be3bf1d5cee311a5b24b5c1984c4.png" alt="10^3" style="vertical-align: 0px"/> to <img class="math" src="_images/math/4e624fa4445e452a03ac27eca4991cd57ef0af93.png" alt="10^9" style="vertical-align: 0px"/></td>
<td>fine powder atomization, melt spinning, spray deposition, electron beam or laser surface melting</td>
<td>5 to 0.05</td>
</tr>
</tbody>
</table>
<p>Range of cooling rates in solidification processes <a class="reference internal" href="zbibliography.html#cohen-flemings-1985" id="id18">[CF85]</a></p>
</div>
<div class="section" id="how-flow-3d-defines-the-coefficient-of-solidification-drag">
<span id="index-315"></span><h4>How FLOW-3D Defines the Coefficient of Solidification Drag<a class="headerlink" href="#how-flow-3d-defines-the-coefficient-of-solidification-drag" title="Permalink to this headline">¶</a></h4>
<p><span class="raw-html"><strong><em>FLOW-3D </em></strong></span> uses a porous media drag to model the solid to liquid phase change.
The drag is a function of solid fraction. There are two shrinkage models
available to the user; the rapid shrinkage model and the full fluid flow
model. In the simple shrinkage model, the fluid is assumed to be at rest. The full
fluid model takes into account the volume changes associated with the phase
change. Since the drag force is inversely proportionate to the permeability,
it can be expressed as follows:</p>
<div class="math" id="equation-coef-solid-drag1">
<p><span class="eqno">(19)<a class="headerlink" href="#equation-coef-solid-drag1" title="Permalink to this equation">¶</a></span><img src="_images/math/b1eaa41c79f00b201872e52979c7e74359d00b19.png" alt="K = \frac{\mu}{\rho F_d}"/></p>
</div><p>where <img class="math" src="_images/math/2e701b3cf0242becd837abb98c5afcd4523c2df7.png" alt="{F_d}" style="vertical-align: -3px"/> is the drag coefficient used in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span>. This drag coefficient is multiplied by
the local velocity and subtracted from the right side of the equation of
momentum equations (see <a class="reference internal" href="theory.html#momentumequationsth"><span class="std std-ref">Momentum Equations</span></a>).
Rearranging Eq. <a class="reference internal" href="#equation-coef-solid-drag1">(19)</a> and substituting in the permeability from Eq.
<a class="reference internal" href="#equation-permeability-solidification">(18)</a> gives:</p>
<ul class="simple">
<li>The <span class="guilabel">Coefficient of Solidification Drag</span>:
<img class="math" src="_images/math/32c8964fb180fb1026a7b1c751aca35f21f536b6.png" alt="\text{TSDRG}=\frac{180 \mu}{\lambda_1^2\rho }" style="vertical-align: -10px"/>,</li>
<li>The drag force: <img class="math" src="_images/math/a8f8e947f1cbf620e0399333dd740eea86e63f24.png" alt="F_d = \mbox{TSDRG} \frac{ f_s^2}{(1-f_s)^3}" style="vertical-align: -9px"/>.</li>
</ul>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"> <a class="reference internal" href="#"><span class="doc">Model Reference</span></a> -&gt;  <a class="reference internal" href="#solidificationsectionmr"><span class="std std-ref">Solidification</span></a></p>
</div>
<span class="target" id="index-316"></span></div>
</div>
<div class="section" id="macro-segregation-during-alloy-solidification">
<span id="macrosegregationmr"></span><span id="index-317"></span><h3>Macro-Segregation during Alloy Solidification<a class="headerlink" href="#macro-segregation-during-alloy-solidification" title="Permalink to this headline">¶</a></h3>
<p>The segregation model is designed to model changes in binary alloy composition
due to transport of solute by convection and diffusion. It is accessed from
<span class="menuselection">Physics ‣ Solidification</span>:</p>
<blockquote>
<div><img alt="Solidification" src="_images/macro-segregation-during-alloy-solidification.png" />
</div></blockquote>
<p>Activate segregation by checking <span class="guilabel">Activate binary alloy segregation
model</span>.</p>
<p>The phase diagram, which defines the concentrations of the components of the
binary alloy mixture at equilibrium at various temperatures, is assumed to
have straight solidus and liquidus lines. The phase diagram is constructed
based on the input data and is included in the preprocessor plot file
<code class="file docutils literal notranslate"><span class="pre">prpplt</span></code>. It is accessed from <span class="menuselection">Analyze ‣ Existing</span>.</p>
<p>Below shows the part of the fluid properties relevant to the <span class="guilabel">Macro-Segregation Model</span> (under <span class="menuselection">Fluids ‣ Fluid 1 ‣
Solidification Model ‣ Binary alloy segragation</span>). The phase diagram is defined by the values of the
<span class="guilabel">Solidus</span> and <span class="guilabel">Liquidus Temperatures</span> at the
<span class="guilabel">Reference Solute Concentration</span>. In addition, the
<span class="guilabel">Partition coefficient</span>, under <span class="guilabel">Concentration Variables</span>,
needs to be defined. Alternatively, the <span class="guilabel">Pure Solvent Melting
Temperature</span> can be specified. If both the <span class="guilabel">Partition coefficient</span>
and <span class="guilabel">Pure Solvent Melting Temperature</span> are set, then the solvent
melting temperature is redefined from the phase diagram.</p>
<blockquote>
<div><img alt="Macro segregation fluid properties" src="_images/ModelReference_FluidsBinaryAlloy_v12.JPG" />
</div></blockquote>
<p>The <span class="guilabel">Eutectic Temperature</span> <em>or</em> the <span class="guilabel">Eutectic
Concentration</span> can be specified to define the eutectic reaction. Again, if
both of these variables are set, then the <span class="guilabel">Eutectic Concentration</span>
is redefined from the phase diagram.</p>
<p>The <span class="guilabel">Ratio of Solute Diffusion Coefficients</span> defines the ratio of
the diffusion coefficients of solute between the solid and liquid phases. The
solute molecular diffusion coefficient in liquid is specified by specifying
<span class="guilabel">Solute diffusion coefficient</span> in <span class="menuselection">Physics ‣
Solidification</span>. <a class="reference internal" href="input-variable-summary-units.html#binaryalloysegregationparameters"><span class="std std-ref">RMSEG</span></a> defines the
turbulent diffusion coefficient multiplier of the solute; this is set directly
in the input file.</p>
<blockquote>
<div><img alt="Density evaluation" src="_images/macro-segregation-during-alloy-solidification-density-evaluation.png" />
</div></blockquote>
<p>If density variation due to solute redistribution is important, then set
<span class="menuselection">Physics ‣ Density evaluation ‣ Density evaluated as a
function of other quantities…</span> and specify the <span class="guilabel">Solutal Expansion
Coefficient</span> under <span class="menuselection">Fluids ‣ Segregation model</span> as the solute
expansion coefficient to define metal density as a linear function of solute
concentration. In that case, <span class="guilabel">Reference Solute Concentration</span> will
be used as the reference concentration. In addition, <span class="menuselection">Fluids
‣ Fluid 1 ‣ Density Properties ‣ Volumetric Thermal Expansion</span> can be
specified to account for thermal buoyancy effects within the liquid (see also
<a class="reference internal" href="#buoyantflowmr"><span class="std std-ref">Buoyant Flow</span></a>).</p>
<p>The initial solute concentration can be set in <span class="menuselection">Model Setup ‣
Initial ‣ Global ‣ Uniform alloy solute concentration</span>. A
non-uniform initial distribution can be set within initial fluid regions under
<span class="guilabel">Alloy solute concentration</span>. Additionally, the concentration can
vary via a quadratic function over space by editing the section using
quadratic functions as described in <a class="reference internal" href="input-variable-summary-units.html#initialconditionsregionvalues"><span class="std std-ref">Initial Conditions: Region Values</span></a>. At
pressure and velocity boundaries use
<span class="menuselection">Model Setup ‣ Boundaries ‣ Boundary face ‣ Solute concentration</span>
to set solute boundary conditions.</p>
<p>Liquid and solid phase compositions can be plotted by using data transformations
in the postprocessor.</p>
<p>Eutectic solidification can be visualized by plotting <span class="target" id="index-318"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">SLDEUT</span></code> which stores the
mass fraction of the eutectic in the metal.</p>
<p>If thermal gradients in the liquid phase are significant, use the higher-order
advection method for more accuracy by setting <span class="menuselection">Physics ‣ Heat
Transfer ‣ Second order monotonicity preserving</span>:</p>
<blockquote>
<div><img alt="Heat Transfer" src="_images/macro-segregation-during-alloy-solidification-heat-transfer.png" />
</div></blockquote>
<p>Flow losses in mushy zone are controlled by the <span class="menuselection">Fluids ‣
Fluid 1 ‣ Solidification Model ‣ Solidified Fluid 1 Properties ‣
Coefficient of Solidification Drag</span>, which is a function of the dendrite arm
spacing. Since the latter is not evaluated by the model, the
<span class="guilabel">Coefficient of Solidification Drag</span> must be set by the user.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>Unlike the standard solidification model, the value of the solidus
temperature here can be negative, defined by the extrapolation of the
solidus line past the eutectic point on the phase diagram.</li>
</ul>
</div>
<span class="target" id="index-319"></span></div>
<div class="section" id="microporosity-formation">
<span id="microporosityformationmr"></span><span id="index-320"></span><h3>Microporosity Formation<a class="headerlink" href="#microporosity-formation" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><img alt="Solidification" src="_images/microporosity-formation-solidification.png" />
</div></blockquote>
<p>The microporosity model can only be used when modeling solidification (see
<a class="reference internal" href="#solidificationsectionmr"><span class="std std-ref">Solidification</span></a>) and is activated in <span class="menuselection">Physics
‣ Solidification ‣ Activate microporosity model</span>. The required input are
liquid and solidified fluid densities, defined in <span class="menuselection">Fluids ‣
Fluid 1 ‣ Density</span> and <span class="menuselection">Fluids ‣ Fluid 1 ‣ Solidification
‣ Solidified ‣ Density</span>, where the solidified fluid density is greater
than the liquid density. Also, the <span class="guilabel">Critical Solid Fraction</span> in
<span class="menuselection">Fluids ‣ Fluid 1 ‣ Solidification ‣ Solidified</span> must be
set to a value less than 1.0.</p>
<p>The value <span class="guilabel">Bulk modulus at critical solid fraction</span> can be defined
by <span class="menuselection">Fluids ‣ Fluid 1 ‣ Solidification ‣ Solidified ‣
Bulk modulus at critical solid fraction</span>. It describes the compressibility of
the solidifying fluid at the large negative pressures developing in the mushy
zone due to shrinkage. The value <span class="guilabel">Critical pressure at which gas
pores can form</span> allows the model to couple to the initial pressure in the
fluid, defined in the <span class="guilabel">Initial</span> tab, taken from the restart data, or
using <span class="guilabel">Intensification pressure</span> (see below).</p>
<p>The <span class="guilabel">Intensification pressure</span> can be defined for high pressure
die casting simulations to account for the extra pressure created by the shot
sleeve plunger during solidification to delay the formation of porosity. The
larger the <span class="guilabel">Intensification pressure</span> the less porosity will form in
the casting during solidification.</p>
<p>The microporosity model does not require any specific setting other than the
activation of a solidification model. It can be used together with the full
system of flow equations, or in zero velocity field, i.e., in a purely thermal
problem.</p>
<p>The model produces an additional output quantity, entitled <span class="guilabel">micro-porosity; percent</span>, which is available for post-processing in spatial and history plots.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">A Flow Science technical note on modeling micro-porosity (TN66) can be found at <a class="reference external" href="http://users.flow3d.com/technical-notes/">http://users.flow3d.com/technical-notes/</a>.</p>
</div>
<span class="target" id="index-321"></span></div>
<div class="section" id="moving-solid-phase">
<span id="movingsolidphasemr"></span><span id="index-322"></span><h3>Moving Solid Phase<a class="headerlink" href="#moving-solid-phase" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="6%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>MAIN VARIABLES:</td>
<td>OBS:</td>
<td><a class="reference internal" href="input-variable-summary-units.html#linearmotionforcontinuouscasting"><span class="std std-ref">IFOB, UTOBS, VTOBS, WTOBS</span></a></td>
</tr>
</tbody>
</table>
<p>The moving solid phase option allows users to model continuous casting. A
<span class="guilabel">Phantom</span> component is defined in the region where the solidified
moving fluid will be located. It is a <strong>phantom</strong> component because it covers
a specified domain, but only in definition. It does not actually block area or
volume, and therefore, has zero volume, and does not appear as a solid
component in any of the results. It is defined in the drop-down menu next to
<span class="menuselection">Model Setup ‣ Geometry ‣ Component ‣ Component Type</span>:</p>
<blockquote>
<div><img alt="Moving solid phase selection" src="_images/moving-solid-phase-selection.png" />
</div></blockquote>
<p>When a component is defined as <span class="guilabel">Phantom</span>, prescribed velocities
advect the solid phase (solidified fluid) according to the <span class="guilabel">Phantom
Velocites</span>; X Velocity, Y Velocy and Z Velocity and are set under <span class="guilabel">Component
Properties</span>. Liquid in this domain behaves as it otherwise would as part of the
flow solution. For solid fractions larger than the coherency solid fraction
defined by <span class="menuselection">Fluids ‣ Fluid 1 ‣ Solidification Properties
‣ Solidified Fluid 1 Properties ‣ Coherent Solid Fraction</span>, a Darcy type
of drag is used to drive the fluid toward the phantom component velocity. When
the solid fraction exceeds the point of rigidity specified in
<span class="menuselection">Fluids ‣ Fluid 1 ‣ Solidification Properties ‣
Solidified Fluid 1 Properties ‣ Critical Solid Fraction</span>, it will move with
the velocity of the phantom component.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>This phantom component will not appear in component plots, but can be seen
by plotting the quantity <span class="guilabel">Component number</span>.</li>
<li>The phantom component must be flat since a uniform velocity is applied across
the entire domain of the component.</li>
</ul>
</div>
<span class="target" id="index-323"></span></div>
<div class="section" id="solidification-shrinkage">
<span id="solidificationshrinkagemr"></span><span id="index-324"></span><h3>Solidification Shrinkage<a class="headerlink" href="#solidification-shrinkage" title="Permalink to this headline">¶</a></h3>
<p>Volumetric shrinkage occurs when a material solidifies and the density of the
solidified material (i.e., <span class="menuselection">Fluids ‣ Fluid 1 ‣
Solidification ‣ Solidified ‣ Density</span>) is greater than the density of the
liquid (i.e., <span class="menuselection">Fluids ‣ Fluid 1 ‣ Density</span>). The
shrinkage model, therefore, requires the <span class="guilabel">Solidification</span> model to
be activated and both solid and liquid phase densities to be defined.
Shrinkage can be modeled only for one-fluid, sharp interface problems.</p>
<p>There are two solidification shrinkage models that can be used. Selecting the
<span class="guilabel">Shrinkage model with flow effects</span> button solves the full fluid and
heat flow equations (see <a class="reference internal" href="theory.html#solidificationshrinkageporositymodelsth"><span class="std std-ref">Solidification Shrinkage and Porosity Models</span></a> in the
Theory manual). However, this shrinkage model may be CPU intensive, especially
if long solidification times are considered. As an alternative, there is the
simplified model, entitled <span class="guilabel">Shrinkage model</span> in the User Interface:</p>
<blockquote>
<div><img alt="Activate simplified shrinkage model" src="_images/solidification-shrinkage.png" />
</div></blockquote>
<p>This model is based on the solution of the heat transfer equation only and
runs quickly, especially when used in conjunction with the implicit heat
transfer model (<span class="menuselection">Numerics ‣ Other explicit/implicit solver
options ‣ Heat transfer ‣ Implicit</span> – see
<a class="reference internal" href="numerical-options.html#computingtemperaturesmr"><span class="std std-ref">Heat Transfer</span></a>). Internal cavities open wherever there is no
feeding path to a liquid volume.</p>
<p>Feeding in <span class="guilabel">Shrinkage model with flow effects</span> model is defined by
computing the drag coefficient for flow in mushy regions. The drag function at
every location in the mesh is computed as a function of the local solid
fraction with a constant multiplier <span class="menuselection">Fluids ‣ Solidification
‣ Solidified ‣ Solidification drag coefficient</span> (see
<a class="reference internal" href="theory.html#solidifictiondragmodelth"><span class="std std-ref">Solidification Drag</span></a>). The reciprocal value of the drag function
can be visualized in spatial plots: the variable name for plotting this is
‘normalized drag coefficient’.</p>
<p>While partial feeding due to large flow losses in the mushy region can occur
in the <span class="guilabel">Shrinkage model with flow effects</span>, the simplified
<span class="guilabel">Shrinkage model</span> can have either complete feeding or no feeding at
all. The latter occurs when the local solid fraction along the feeding path
exceeds the critical value defined by <span class="menuselection">Fluids ‣ Fluid 1 ‣
Solidification ‣ Solidified ‣ Critical Solid Fraction</span> (default is 0.67).
In addition, until the solid fraction everywhere in the metal in a liquid
pocket has reached the <span class="guilabel">Coherent Solid Fraction</span>, feeding in the
simplified model occurs from the top of the pocket. After that, feeding occurs
from the hottest spot in the pocket. However, if <span class="guilabel">Interdendritic
feeding only</span> is selected, feeding always occurs from the hottest spot in the
pocket.</p>
<p>The value <span class="guilabel">Bulk modulus of liquid phase</span> can be defined by
<span class="menuselection">Fluids ‣ Fluid 1 ‣ Solidification ‣ Solidified ‣ Bulk
modulus of liquid phase</span>. It describes the compressibility of the fluid at the
large negative pressures developing due to shrinkage. The value
<span class="guilabel">Critical pressure at which gas pores can form</span> allows the model to
couple to the initial pressure in the fluid, defined in the
<span class="guilabel">Initial</span> tab, taken from the restart data, or using
<span class="guilabel">Intensification pressure</span>. The compressibility option can be used
only in conjuction with the simple shrinkage model.</p>
<p>The <span class="guilabel">Shrinkage adjustment</span> coefficient is used to adjust the
shrinkage volume during solidification. The coefficient will avoid changing
the density properties of the material and will account for the various
factors affecting the volume change of the metal: compressibility,
intensification pressure, linear shrinkage of the solid, volume eaten by the
micro-pores. It applies to both Shrinkage and Microporosity models. It can be
any positive number and 0. For the default value of 1.0 the shrinkage volume
exactly corresponds to the change in fluid density; for <span class="guilabel">Shrinkage
adjustment</span> &lt;1, the volume change is smaller, and for <span class="guilabel">Shrinkage
adjustment</span> &gt;1 the volume change is larger. For <span class="guilabel">Shrinkage
adjustment</span> =0, no volume change takes place, but the shrinkage and porosity
models are not deactivated.</p>
<p>Use <span class="menuselection">Global ‣ Finish Options ‣ Additional finish conditions ‣ Solidified
fluid fraction</span> for the simulation to stop when all the fluid is completely
frozen. The parameter <span class="guilabel">Finish fraction</span> may be used to stop the
simulation when the fluid is a specified fraction solidified.</p>
<blockquote>
<div><img alt="Solid fraction finish condition" src="_images/solidification-shrinkage-finish-condition.png" />
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Gravity is required in the simplified <span class="guilabel">Shrinkage model</span> to
determine the feeding direction, and should only be directed along one of
the coordinate axes. If more than one gravity component is non-zero, then
the largest one is used to determine the direction of feeding.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"> <a class="reference internal" href="#solidificationsectionmr"><span class="std std-ref">Solidification</span></a> and <a class="reference internal" href="theory.html#solidifictiondragmodelth"><span class="std std-ref">Solidification Drag</span></a>.</p>
</div>
<span class="target" id="index-325"></span></div>
<div class="section" id="thermal-modulus">
<span id="thermalmodulusmr"></span><span id="index-326"></span><h3>Thermal Modulus<a class="headerlink" href="#thermal-modulus" title="Permalink to this headline">¶</a></h3>
<p>Risers are commonly used to prevent cavities due to shrinkage during metal
solidification. In order for risers to be effective, they have to be placed at
the right locations, with the right size so that they contain enough metal to
compensate the shrinkage without wasting. Modulus method is one of the most
popular methods for conventional riser design, especially for casting
materials of aluminum alloys and steel.</p>
<p>For a given casting part, its modulus is defined by</p>
<div class="math">
<p><img src="_images/math/35648ad1aa9eed2f09e522593e2c35e418b5da3f.png" alt="Mod = \frac{V}{A}"/></p>
</div><p>where:</p>
<ul class="simple">
<li><img class="math" src="_images/math/f5a322f82f9e644cb83622202e5be0da6a7cbb00.png" alt="V" style="vertical-align: 0px"/> is the volume of the casting part, and</li>
<li><img class="math" src="_images/math/89ee6ff675182b6882c4204ed78d702d7466508f.png" alt="A" style="vertical-align: 0px"/> is the surface area of the casting part.</li>
</ul>
<p>Based on Chvorino’s Rule, for a simple casting, the relationship between the
solidification time and its modulus can be written as:</p>
<div class="math">
<p><img src="_images/math/a6dc12b41f982412c2c6bb8a9e7658f9d22291d8.png" alt="t = B \left( \frac{V}{A} \right) ^n = B \left( Mod \right) ^n"/></p>
</div><p>where:</p>
<ul class="simple">
<li><img class="math" src="_images/math/f00d575a41393876638c1cc1d734f1177829d9a7.png" alt="t" style="vertical-align: 0px"/> is the solidification time,</li>
<li><img class="math" src="_images/math/dc50b6bc4de97b0c974cd4ba9d5243ef3192864a.png" alt="n" style="vertical-align: 0px"/> is a constant (usually 2), and</li>
<li><img class="math" src="_images/math/358695c21929026e3978a87b20230517725436b0.png" alt="B" style="vertical-align: 0px"/> is the mold constant. It can be calculated using the following formula:</li>
</ul>
<div class="math">
<p><img src="_images/math/a0dee2f4948c4fca670768d30a3af4611e653b11.png" alt="B = \left[ \frac{\rho_m}{T_m - T_0} \right] ^2 \left[ \frac{\pi}{4k\rho c} \right] \left[L + c_m \left(T_{pour} - T_m \right) \right] ^2"/></p>
</div><p>where:</p>
<ul class="simple">
<li><img class="math" src="_images/math/3bb4dbb9ee9f0feb508b51e58d2fbe3735423b65.png" alt="\rho_m" style="vertical-align: -4px"/> is the density of the metal,</li>
<li><img class="math" src="_images/math/946b275cab43d5cbf2645488f1f2e1853fcab31b.png" alt="T_m" style="vertical-align: -3px"/> is the melting or freezing temperature of the metal,</li>
<li><img class="math" src="_images/math/5020c3282930885654a82ec96e98ccbdc9bc2d4c.png" alt="T_0" style="vertical-align: -3px"/> is the initial temperature of the mold,</li>
<li><img class="math" src="_images/math/aa979d26cb76b1e0cea68bfa22eb7c087ac7d65d.png" alt="k" style="vertical-align: 0px"/> is the thermal conductivity of the mold,</li>
<li><img class="math" src="_images/math/505bec53c42fc78b12fcff89dde94cd96fb0770b.png" alt="\rho" style="vertical-align: -4px"/> is the density of the mold,</li>
<li><img class="math" src="_images/math/0eb5e361bb43732fc188aa3fcfa15e874464e4ed.png" alt="c" style="vertical-align: 0px"/> is the specific heat of the mold,</li>
<li><img class="math" src="_images/math/48db08e51669ad87af374b5f0fd4dacbb2de0ea6.png" alt="L" style="vertical-align: 0px"/> is the latent heat of fusion of the metal,</li>
<li><img class="math" src="_images/math/1310607f0df9041f2e59c55f02709d91f1964547.png" alt="c_m" style="vertical-align: -3px"/> is the specific heat of the metal, and</li>
<li><img class="math" src="_images/math/3735f988ec0ed8c2eabaf6cb5d29222916d3fe0e.png" alt="T_{pour}" style="vertical-align: -6px"/> is the metal pouring temperature.</li>
</ul>
<p>When designing a casting process, risers are usually chosen in such a way that
the solidification times of the risers are longer than those of the casting
parts for proper feeding. Based on Chvorino’s rule, solidification times are
directly proportional to the modulus of the castings. When comparing
solidification times, moduli can be directly compared. Since moduli are only
geometric quantities, comparison of the moduli makes design problems much
simpler. Casting engineers can design a riser with a larger modulus to ensure
proper feeding of the part without considering the type of casting process to
be used.</p>
<p>The geometric modulus of a casting is easy to compute for regular shapes.
However, the modulus calculation becomes difficult if the shape of the casting
becomes irregular, which involves tedious approximations of casting geometry
to regular shapes. Furthermore, the geometric modulus approach relies
strictly upon the geometry of the casting. Real castings employ chills and
insulators to control the progression of the solidification. These features
are ignored in the geometric modulus approach. To simplify the modulus
calculation, and to account for thermal effects associated with chills,
insulation, and other mold variations, an innovative approach termed thermal
modulus is often used for riser design.</p>
<p>For the thermal modulus approach, first a solidification simulation of the
casting is run. Once the simulation is complete, the equivalent modulus
throughout the casting can be computed from solidification time based on
Chvorino’s rule. The equivalent modulus computed using this approach is called
thermal modulus. It can be used the same way as geometric modulus to guide the
riser design.</p>
<p>To compute and output the thermal modulus,</p>
<ol class="arabic simple">
<li>the solidification model has to be turned on (IFSLD=1);</li>
<li>section &amp;CASTVAR has to be present in PREPIN. If the PREPIN is created by
<span class="raw-html"><strong><em>FLOW-3D </em> CAST</strong></span> GUI, &amp;CASTVAR should be added automatically. Or you can import the
existing PREPIN to the <span class="raw-html"><strong><em>FLOW-3D </em> CAST</strong></span> GUI, and &amp;CASTVAR section should be added by the
GUI.</li>
<li>Geometry interpretation “mold” has to be present in &amp;CASTVAR section.</li>
</ol>
<p>The solver will check all the conditions, and compute and output thermal
modulus automatically. The output is in the Solidification catalog.</p>
<p>If Conditions 1&amp;2 are satisfied, but the solver still could not find enough
material properties to compute the thermal modulus, a message will be written
to PRPOUT and PRPERR files to remind the user.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For a restart simulation, the calculation of mold modulus depends on the
thermal modulus conditions in the source FLSGRF. If in the source FLSGRF,
thermal modulus conditions are met, the thermal modulus will be computed
for the restart simulation, using the same mold constant <img class="math" src="_images/math/358695c21929026e3978a87b20230517725436b0.png" alt="B" style="vertical-align: 0px"/> from
source FLSGRF.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is highly recommended to set up the simulation through <span class="raw-html"><strong><em>FLOW-3D </em> CAST</strong></span> so
that all required parameters are written to PREPIN properly.</p>
</div>
<span class="target" id="index-327"></span></div>
</div>
<div class="section" id="squeeze-pins">
<span id="squeezepinsmr"></span><span id="index-328"></span><h2>Squeeze Pins<a class="headerlink" href="#squeeze-pins" title="Permalink to this headline">¶</a></h2>
<div class="section" id="index-329">
<span id="id19"></span><h3>Description and Usage<a class="headerlink" href="#index-329" title="Permalink to this headline">¶</a></h3>
<p>The squeeze pin model is designed to include the effect of squeeze pins that
may be placed inside a die in a high-pressure or permanent mold casting. It is
activated at a certain time during metal solidification in the cavity. The
purpose of the pins is to reduce or eliminate porosity in the hard-to-feed
areas of the casting by pushing into the solidifying metal. The back end of
each pin is connected to a hydraulic system that applies a constant force upon
activation.</p>
<p>The pin model is based on the prescribed-motion GMO model, and works <em>only</em> with the
simple shrinkage model, therefore, no dynamics based on forces is included in
the model. Once activated, a pin senses the amount of shrinkage in the
adjacent metal and moves in to exactly compensate that volume. A pin moves
along a straight line of action; the maximum travel distance can be
defined for a pin beyond which it cannot move, reflecting a specific die casting
machine configuration. A force can also be defined for a
pin that is translated into metal pressure. That pressure could then be used
together with the <a class="reference internal" href="#tsesolidifiedfluidregion"><span class="std std-ref">Thermal Stress Evolution (TSE) in Solidified Fluid Regions</span></a> or <a class="reference internal" href="#microporosityformationmr"><span class="std std-ref">Microporosity Formation</span></a>
models.</p>
<p>A pin stops if too much solidified metal forms on its surface. The critical amount
of solidified metal beyond which the pin cannot move is controlled by an input
parameter <span class="target" id="index-330"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">SQP_SOLID(n)</span></code>, where <span class="target" id="index-331"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">n</span></code> is the squeeze pin component number.
This variable defines the fraction of the pin’s work surface covered by solidified metal,
above which the pin can no longer move. The default value is 0.5. This input parameter is
currently not accessible through the GUI, but can be modified by directly editing
the <code class="file docutils literal notranslate"><span class="pre">prepin.*</span></code> file.</p>
<p>If it is desired for the pin to move independently of the amount of solidified metal at its
surface, then set <span class="target" id="index-332"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">SQP_SOLID(n)</span></code> to 1.0. Making the pin an adiabatic component, or
otherwise reducing heat losses to it, will also delay the freezing of the metal at its surface.</p>
<p>Once a pin stops because of excessive solidification at its surface, it does not resume
motion even if metal remelts.</p>
<p>Multiple individually-controlled squeeze pins could be used.</p>
</div>
<div class="section" id="index-333">
<span id="id20"></span><h3>Model Setup<a class="headerlink" href="#index-333" title="Permalink to this headline">¶</a></h3>
<p>The only requirement for the squeeze pins model is the activation of the
simple shrinkage model.</p>
<p>Any solid component can be defined as a squeeze pin, including GMO components such as
the shot sleeve plunger. A component may consist of a single
subcomponent or multiple subcomponents.  All subcomponents will move along the
line of action defined for the squeeze pin component.</p>
<p>A squeeze pin component could be placed on top of the die component, or into a
previously created hole in the latter. For a squeeze pin to work properly, its
working surface must be in contact with the metal at all times. This is especially
important when placing a pin on top of the die component.</p>
<blockquote>
<div><img alt="Squeeze Pin Placement" src="_images/squeeze-pin-placement.png" />
</div></blockquote>
<p>To activate the squeeze pin, check <span class="menuselection">Squeeze pin activation
flag</span> on the <span class="menuselection">Model Setup ‣ Geometry ‣ Component ‣ Squeeze Pin Properties</span> panel.</p>
<blockquote>
<div><img alt="Squeeze Pin Activation" src="_images/squeeze-pin-activation.png" />
</div></blockquote>
<p>The squeeze pin direction of motion (<span class="guilabel">From</span> and <span class="guilabel">To</span>
points) have to be defined.  The <span class="guilabel">From</span> and <span class="guilabel">To</span> points
can be anywhere on the line of action. For axis-aligned squeeze pins, defining
the motion is simple but for generally oriented pins, the motion vector can be
determined manually by probing three points on the face of the squeeze pin and
computing a cross product.</p>
<p>For the squeeze pin <span class="guilabel">Activation</span>, there are four options:</p>
<blockquote>
<div><img alt="Squeeze Pin Activation Options" src="_images/squeeze-pin-activation-options.png" />
</div></blockquote>
<ol class="arabic simple">
<li><strong>Not Activated</strong>: This is the default option, which means the squeeze pin is OFF.</li>
<li><strong>Automatically activate</strong>: The pin will be activated if it is adjacent to a liquid region and the liquid region is not connected to another pin via a contiguous liquid region. This option s useful at the design stage when the pin exact activation time is not known.</li>
<li><strong>Time activated</strong>: The pin will begin to move at a specified time. If this option is selected, the activation <span class="guilabel">Time</span> has to be provided.</li>
<li><strong>Active simulation control</strong>: The pin will be activated by active simulation control events. This option is also very useful at the design stage. If this option is selected, the <span class="guilabel">Events</span> button will be enabled. Click on the <span class="guilabel">Events</span> button, an <span class="guilabel">Active Simulation Events</span> window will pop up, on which the squeeze pin activation conditions can be defined. Note that for <span class="guilabel">Probe Variable Name</span> for each condition, only <span class="menuselection">temperature</span> and <span class="menuselection">solid fraction</span> are available. Please refer to <a class="reference internal" href="#activesimulationcontrolmr"><span class="std std-ref">Active Simulation Control</span></a> for more information.</li>
</ol>
<blockquote>
<div><img alt="Squeeze Pin Active Simulation Control" src="_images/squeeze-pin-active-simulation-control.png" />
</div></blockquote>
<p>The <span class="guilabel">Force</span> applied to the squeeze pin represents the force applied
to the squeeze pin component by the hydraulic system. The force is translated
into metal pressure, and the default is 0.0. The specification of a force only
has meaning when the TSE or the microporosity model is active.</p>
<p>The <span class="guilabel">Distance</span> represents the maximum distance the squeeze pin can
travel. If left blank, the default distance (unlimited) is used.</p>
<p>A component can be defined as a plunger and a pin at the same time, in which case
the component is interpreted as a shot sleeve plunger. In that case the pin parameters
are automatically derived from the plunger motion. The direction of motion is defined
by the plunger’s velocity, <span class="guilabel">Distance</span> is set to (unlimited) and
<span class="guilabel">Force</span> is set using the intensification pressure <span class="target" id="index-334"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PRESS</span></code>.
This behavior is especially useful during restarts when transitioning from filling to
solidification.</p>
</div>
<div class="section" id="index-335">
<span id="id21"></span><h3>Output<a class="headerlink" href="#index-335" title="Permalink to this headline">¶</a></h3>
<p>The time of the pin’s activation is written to the screen, <code class="file docutils literal notranslate"><span class="pre">HD3MSG</span></code>,
<code class="file docutils literal notranslate"><span class="pre">HD3OUT</span></code>, and <code class="file docutils literal notranslate"><span class="pre">REPORT</span></code> files, e.g.,</p>
<blockquote>
<div><img alt="Squeeze Pin Activation Message" src="_images/squeeze-pin-activation-message.png" />
</div></blockquote>
<p>The movement of the squeeze pins is displayed in 2D and 3D plots in the same fashion
as that of GMO components. In addition, the distance travelled and volume displaced
by each squeeze pin is written to the <span class="guilabel">General history</span> data catalog and
can be displayed as a plot vs. time.</p>
</div>
<div class="section" id="index-336">
<span id="id22"></span><h3>Limitations<a class="headerlink" href="#index-336" title="Permalink to this headline">¶</a></h3>
<p>The squeeze pin model only works with the simple shrinkage model.</p>
<p>No dynamics are included based on the forces from the hydraulic system at
its one end and metal pressure/stresses on the other.</p>
<p>The interaction with the adjacent solidified metal is approximate and is
its biggest limitation. It is recommended setting the heat transfer to metal
for each pin component to 0.0 to minimize the effect of this limitation. The
critical amount of solidified metal that makes the pin stop can also be
modified by directly editing the parameter <span class="target" id="index-337"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">SQP_SOLID</span></code> in the
<code class="file docutils literal notranslate"><span class="pre">prepin.*</span></code> file.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"> <a class="reference internal" href="#solidificationshrinkagemr"><span class="std std-ref">Solidification Shrinkage</span></a>.</p>
</div>
<span class="target" id="index-338"></span></div>
</div>
<div class="section" id="surface-tension">
<span id="surfacetensionmr"></span><span id="index-339"></span><h2>Surface Tension<a class="headerlink" href="#surface-tension" title="Permalink to this headline">¶</a></h2>
<p>Surface tension is a force that acts in the plane tangent to any sharp
interface, between a gas and liquid, or between two immiscible liquids. The
force occurs due to differences in the inter-molecular forces between the two
materials. Surface tension can be modeled in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> in one or two fluid flows,
but always with the <span class="guilabel">Free surface or sharp interface</span> option activated at the <span class="guilabel">Physics</span> widget.</p>
<blockquote>
<div><img alt="surface-tension-sharp-interface" src="_images/ModelReference_ModelReferenceSharpInterface_v12.JPG" />
</div></blockquote>
<p>The model is activated from <span class="menuselection">Physics ‣ Surface tension</span>, and
checking <span class="guilabel">Activate surface tension model</span>. The surface tension
coefficient can be set in this window (<span class="guilabel">Surface tension
coefficient, SIGMA</span>), or in the <span class="guilabel">Fluids</span> widget under <span class="menuselection">Interface ‣
Surface Tension</span>. The global
<span class="guilabel">Contact angle</span>, defined here, controls the wetting behavior where
the interface meets solid wall boundaries and solid components. The contact
angle variables take values between 0.0 (complete wetting) to 180 degrees
(completely nonwetting). In addition, a separate contact angle for each
component can be specified in <span class="menuselection">Model Setup ‣ Geometry ‣
Component properties ‣ Surface properties ‣ Component Contact Angle</span>,
which otherwise defaults to the global <span class="guilabel">Contact angle</span>.</p>
<blockquote>
<div><img alt="Activate surface tension model" src="_images/surface-tension-activate-surface-tension-model.png" />
</div></blockquote>
<p>The default setting is a contact angle of 90 degrees. If surface tension is
activated, wall adhesion is also activated; it is not possible to turn off
wall adhesion at certain components. All fluids exhibit adhesion behavior at
solid surfaces, and it is necessary to specify a contact angle representing that
behavior, whether the behavior is wetting or non-wetting.</p>
<blockquote>
<div><img alt="Surface Tension Coefficient" src="_images/ModelReference_FluidsInterface_v12.JPG" />
</div></blockquote>
<p>The surface tension coefficient can also be a function of temperature. For a
simple linear relationship between temperature and surface tension, provide a
value for the <span class="guilabel">Temperature Dependence</span> (<span class="guilabel">Temperature
sensitivity</span> in <span class="menuselection">Fluids</span>) according to</p>
<div class="math">
<p><img src="_images/math/e56bc4275c484cbcc1af7a2296ebcbb1b9a58ce7.png" alt="\sigma = \sigma_0 - \frac{d \sigma}{d T} \left(T - T^* \right),"/></p>
</div><p>where:</p>
<ul class="simple">
<li><img class="math" src="_images/math/f2e62171924bac3b973bb702eb391f3d4bb42625.png" alt="\sigma" style="vertical-align: 0px"/> is the computed surface tension coefficient,</li>
<li><img class="math" src="_images/math/bf8fd145ff46cf8a37d0565818cdda7caceecf7a.png" alt="\sigma_0" style="vertical-align: -3px"/> is the user-defined value <span class="guilabel">Surface tension coefficient</span>,</li>
<li><img class="math" src="_images/math/7b7ca09616a6e6fca1a07935de27caced215e7ed.png" alt="\frac{d \sigma}{d T}" style="vertical-align: -6px"/> is the <span class="guilabel">Temperature Dependence</span>,</li>
<li><img class="math" src="_images/math/3220cefb5db8f2913afbedb55591cb3437ae3113.png" alt="T" style="vertical-align: 0px"/> is the local temperature, and</li>
<li><img class="math" src="_images/math/1c88c6f2e04776c5ed216385a3cecae5b6b5936a.png" alt="T^*" style="vertical-align: 0px"/> is the user-defined <span class="guilabel">Reference Temperature</span> (set in <span class="menuselection">Fluids ‣ Properties</span>).</li>
</ul>
<p>These values are entered on either the <span class="menuselection">Physics
‣ Surface tension</span> dialog box or the <span class="menuselection">Fluids ‣ Interface ‣ Surface
Tension</span> section. To use the temperature-dependent model it is necessary to
activate heat transfer in the fluid (<span class="menuselection">Physics ‣ Heat
transfer ‣ Fluid internal energy advection</span>).</p>
<p>For cases where the surface tension is not a linear function of temperature,
tabular data relating surface tension and temperature can be entered by
selecting the <span class="guilabel">Tabular</span> button next to <span class="guilabel">Surface tension
coefficient</span> in <span class="menuselection">Fluids ‣ Interface  ‣ Surface Tension</span> section.</p>
<p>In the event that it is desired to maintain the shape of droplet on a wetted area (e.g. when using the <a class="reference internal" href="#vaporizationresiduemr"><span class="std std-ref">Vaporization Residue</span></a> model),
the contact line pinning option is available as a special surface boundary condition that
works in conjuction with the <span class="guilabel">Surface tension</span> model. This surface boundary condition
is used to pin the free surface of a droplet onto the surface of the solid and can be activated in
<span class="menuselection">Geometry ‣ Component Properties ‣ Surface Properties</span>. Note that
the value of the <span class="guilabel">Contact angle</span> significantly affects the behavior of the pinned free surface.</p>
<blockquote>
<div><img alt="Surface boundary condition specification for pinning the contact line" src="_images/ModelReference_Pin-contact-line_v12.JPG" />
</div></blockquote>
<p>In flows with substantial free-surface distortion and breakup, small droplets
of fluid may be generated due to occasional numerical noise in surface tension
pressures. These droplets may cause undesirable variations in surface pressure
distribution due to their small surface curvature. Such droplets can be
removed to reduce these numerical inaccuracies. This option is controlled by
entering a value for the <span class="guilabel">Fluid fraction cleanup</span> in
<span class="menuselection">Numerics ‣ Volume-of-fluid advection ‣ Advanced options</span>:</p>
<blockquote>
<div><img alt="surface-tension-fluid-fraction-cleanup" src="_images/surface-tension-fluid-fraction-cleanup.png" />
</div></blockquote>
<p>A positive value for this parameter activates the fluid fraction cleanup
option. If the fluid fraction values in a cell and its neighbors are less than
this value, then fluid will be removed completely from that cell.</p>
<p>The removed volume is recorded as the cumulative volume error and plotted at
the end of the simulation as a function of time; this shows if the
<span class="guilabel">Fluid fraction cleanup</span> option is leading to any significant change
in fluid volume. The default value of <span class="guilabel">Fluid fraction cleanup</span> for
<strong>two-fluid</strong> surface tension problems is 0.05. For all other simulation types
it defaults to zero.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The surface tension model is more sensitive to mesh irregularities than other
models in the code because it depends on curvatures, i.e., second
derivatives. It is recommended to use control volumes as close to cubes in
shape (squares in 2-D) as possible.</p>
</div>
<span class="target" id="index-340"></span></div>
<div class="section" id="tabular-data">
<span id="tabulardatamr"></span><span id="index-341"></span><h2>Tabular Data<a class="headerlink" href="#tabular-data" title="Permalink to this headline">¶</a></h2>
<span class="target" id="index-342"></span><div class="section" id="temperature-dependent-properties">
<span id="temperaturedependentpropertiesmr"></span><span id="index-343"></span><h3>Temperature Dependent Properties<a class="headerlink" href="#temperature-dependent-properties" title="Permalink to this headline">¶</a></h3>
<p>Most of the fluid and solid properties can be defined as a function of
temperature. The data is passed to the solver through a table. These tables
can be entered anywhere there is a <span class="guilabel">Tabular</span> button for the
property. The tables can be:</p>
<ul class="simple">
<li>Entered manually.</li>
<li>Imported from comma-separated-value (<code class="file docutils literal notranslate"><span class="pre">csv</span></code>) files to the
<code class="file docutils literal notranslate"><span class="pre">prepin.*</span></code>  file.  The <code class="file docutils literal notranslate"><span class="pre">csv</span></code> file can be delimited
with spaces, commas, tabs, or semicolons.</li>
<li>Read directly from an external data file in <code class="file docutils literal notranslate"><span class="pre">csv</span></code> format.
The <code class="file docutils literal notranslate"><span class="pre">csv</span></code> file can be delimited with spaces, commas, tabs, or semicolons.</li>
</ul>
<p>These properties can also be loaded into
fluids or components from the <span class="guilabel">Fluids Database</span> or <span class="guilabel">Solids
Database</span> under the <span class="guilabel">Materials</span> menu.</p>
<p>In case of import from <code class="file docutils literal notranslate"><span class="pre">csv</span></code> files or load from external files, the file
can have a comments section at the <em>top</em> of the file before the start of the
data. The comments section is identified using <code class="docutils literal notranslate"><span class="pre">/*</span></code> at the beginning and <code class="docutils literal notranslate"><span class="pre">*/</span></code> at
the end.  The comment lines can also be identified with a <code class="docutils literal notranslate"><span class="pre">#</span></code> symbol as the first
character of the line. For example, the header for the data may start with a <code class="docutils literal notranslate"><span class="pre">#</span></code> symbol like
in the figure below.  Note that the beginning and the end of the comment section must be on different lines.</p>
<blockquote>
<div><img alt="Temperature dependent properties: external file" src="_images/external_file.png" />
</div></blockquote>
<p>In order to use the external file without copying the data into the
<code class="file docutils literal notranslate"><span class="pre">prepin.*</span></code> file, simply enter the filename and the corresponding column
number into the relevant namelist. For example, in order to read the fluid
density from the file shown above add the following to the namelist <span class="target" id="index-344"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PROPS</span></code></p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="n">IRHOF</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="n">FRHOF</span><span class="o">=</span><span class="s1">&#39;my_data_file.dat&#39;</span><span class="p">,</span>
<span class="n">IRHOFC</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
</pre></div>
</div>
<p>The first flag indicates that fluid density is going to be a function of
temperature, the second variable indicates the name of the external file where
this data can be found. Since the path is not specified, the solver expects
the file to be in the same folder as the <code class="file docutils literal notranslate"><span class="pre">prepin.*</span></code>. And finally, the last
variable indicates that the second column in the <code class="file docutils literal notranslate"><span class="pre">my_data_file.dat</span></code> is
density. It is assumed that the first column is always temperature.</p>
<p>For the list of temperature dependent properties and their variable names see
the input variable summary of <a class="reference internal" href="input-variable-summary-units.html#tabularpropertyinput"><span class="std std-ref">Tabular Property Input</span></a> for fluids and
<a class="reference internal" href="input-variable-summary-units.html#tabularpropertyinputivs"><span class="std std-ref">Tabular Property Input</span></a> for solids.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>The external data file is used if a valid column number and filename is provided in the
<code class="file docutils literal notranslate"><span class="pre">prepin.*</span></code> file and there is tabular data available in the <code class="file docutils literal notranslate"><span class="pre">prepin.*</span></code> file
for the same variable.</li>
<li>The user-defined tabular data is converted by the preprocessor into internal data structures
that are optimized for use by the solver. The conversion involves remapping of the input tables
onto new tables with equal spacing. The first and last points in the internal tables for each
temperature-dependent quantity are taken from the respective input tables, while the number of
points in between is fixed at 10000 for fluid quantities and at 100 for component properties.
Linear interpolation is used during the conversion.</li>
<li>This approach is typically adequate for smoothly varying data. However, in cases where the data
varies significantly over a range of temperature that is comparable to the spacing of the internal
tables, the conversion may introduce significant errors. A way around it is to reduce the temperature
range in the input tables as much as possible, thus decreasing the spacing in the internal tables
to improve the resolution.</li>
</ul>
</div>
<span class="target" id="index-345"></span></div>
<div class="section" id="time-dependent-properties">
<span id="timedependentpropertiesmr"></span><span id="index-346"></span><h3>Time Dependent Properties<a class="headerlink" href="#time-dependent-properties" title="Permalink to this headline">¶</a></h3>
<p>Most of the boundary conditions and solid, cooling channel, and particle  properties can be defined as a function of
time. The data is passed to the solver through a table. These tables
can be entered anywhere there is a <span class="guilabel">Tabular</span> button for the
property. The tables can be:</p>
<ul class="simple">
<li>Entered manually.</li>
<li>Imported from comma-separated-value (<code class="file docutils literal notranslate"><span class="pre">csv</span></code>) files to the
<code class="file docutils literal notranslate"><span class="pre">prepin.*</span></code>  file.  The <code class="file docutils literal notranslate"><span class="pre">csv</span></code> file can be delimited
with spaces, commas, tabs, or semicolons.</li>
<li>Read directly from an external data file in <code class="file docutils literal notranslate"><span class="pre">csv</span></code> format.
The <code class="file docutils literal notranslate"><span class="pre">csv</span></code> file can be delimited with spaces, commas, tabs, or semicolons.</li>
</ul>
<p>In case of import from <code class="file docutils literal notranslate"><span class="pre">csv</span></code> files or load from external files, the file
can have a comments section at the <em>top</em> of the file before the start of the
data. The comments section is identified using <code class="docutils literal notranslate"><span class="pre">/*</span></code> at the beginning and <code class="docutils literal notranslate"><span class="pre">*/</span></code> at
the end. The comment lines can also be identified with a <code class="docutils literal notranslate"><span class="pre">#</span></code> symbol as the first
character of the line. For example, the header for the data may start with a <code class="docutils literal notranslate"><span class="pre">#</span></code> symbol like
in the figure below.  Note that the beginning and the end of the comment section must be on different lines.</p>
<blockquote>
<div><img alt="Time dependent properties: external file" src="_images/external_file_time.png" />
</div></blockquote>
<p>In order to use the external file without copying the data into the
<code class="file docutils literal notranslate"><span class="pre">prepin.*</span></code> file, simply enter the filename and the corresponding column
number into the relevant namelist. For example, in order to read the fluid height
at the left boundary from the file shown above add the following to the namelist <span class="target" id="index-347"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">BCDATA</span></code></p>
<div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="n">FFLHTBCT</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">=</span><span class="s1">&#39;my_data_file.dat&#39;</span><span class="p">,</span>
<span class="n">IFLHTBCTC</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
</pre></div>
</div>
<p>The first variable indicates the name of the external file where
this data can be found. Since the path is not specified, the solver expects
the file to be in the same folder as the <code class="file docutils literal notranslate"><span class="pre">prepin.*</span></code>. And the second variable indicates that the second column in the <code class="file docutils literal notranslate"><span class="pre">my_data_file.dat</span></code> is
fluid height (index 1 corresponds to the left boundary). It is assumed that the first column is always time.
For the list of time dependent properties and their variable names see
the input variable summary.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The external data file is used if a valid column number and filename is provided in the <code class="file docutils literal notranslate"><span class="pre">prepin.*</span></code> file and there
is tabular data available in the <code class="file docutils literal notranslate"><span class="pre">prepin.*</span></code> file for the same variable.</p>
</div>
<span class="target" id="index-348"></span></div>
</div>
<div class="section" id="thermal-die-cycling">
<span id="thermaldiecyclingmr"></span><span id="index-349"></span><h2>Thermal Die Cycling<a class="headerlink" href="#thermal-die-cycling" title="Permalink to this headline">¶</a></h2>
<p>Thermal die cycling simulations are used for obtaining the die temperature
after running a number of parts and a quasi-steady state condition is
achieved. This type of simulation helps determine if there is sufficient
cooling to extend the life of the die, and ensure no defects will occur in the
final cast part.</p>
<div class="section" id="prerequisites">
<span id="tdc-prereq"></span><h3>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h3>
<p>Before a thermal die cycling simulation can be set up, the user must first
activate <span class="menuselection">Fluid internal energy advection</span> and <span class="menuselection">Fluid to solid heat transfer</span> on <span class="menuselection">Physics ‣
Heat transfer</span> panel.</p>
<blockquote>
<div><img alt="Thermal Die Cycling Model Prerequisite" src="_images/tdc-heat-transfer.png" />
</div></blockquote>
</div>
<div class="section" id="defining-the-stages-in-the-die-cycle">
<span id="tdc-steps"></span><h3>Defining the stages in the die cycle<a class="headerlink" href="#defining-the-stages-in-the-die-cycle" title="Permalink to this headline">¶</a></h3>
<p>Thermal die cycling can then be activated by specifying the total number of
thermal cycles, (<span class="menuselection">Physics ‣ Thermal die cycling ‣ Total
number of cycles</span>). There is no limit on how many cycles can be modeled in one
simulation. Each cycle can then be divided into up to 100 segments. Each
segment represents a special stage in the die casting process, such as metal
cooling, open/ejection, spray cooling, die cleaning, etc. Each segment is
characterized by  a time interval (<span class="menuselection">Physics ‣ Thermal die
cycling ‣ Duration of each segment</span>), which will be the same within each
cycle, a heat transfer coefficient between the die and the ambient medium
(except for the first segment) (<span class="menuselection">Physics ‣ Thermal die
cycling ‣ Heat transfer coefficient at the die cavity surface</span>), and a
temperature on the die cavity surface (<span class="menuselection">Physics ‣ Thermal
die cycling ‣ Temperature in the die cavity</span>). The sum of all segment time
intervals defines the total time of a cycle. The sum of all cycle time
intervals defines the total time of the thermal die cycling.</p>
<blockquote>
<div><img alt="Thermal Die Cycling" src="_images/thermal-die-cycling.png" />
</div></blockquote>
<p>To add a segment, select a type from <span class="menuselection">Add segment</span> pull-down
menu. Available segment types depend on the segments that have been added.</p>
<blockquote>
<div><img alt="Thermal Die Cycling Add Segment" src="_images/tdc-add-segment.png" />
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><span class="guilabel">Temperature in the die cavity</span> must be defined for all die cycling
segments except for the first one <span class="menuselection">Solidification</span>
(see <a class="reference internal" href="#tdc-solidfication-stage"><span class="std std-ref">Solidification</span></a> below).</p>
</div>
<div class="section" id="tdc-solidfication-stage">
<span id="id23"></span><h4>Solidification<a class="headerlink" href="#tdc-solidfication-stage" title="Permalink to this headline">¶</a></h4>
<p>The first cycle segment is always <span class="menuselection">Solidification</span>, which
describes the cooling of the metal before opening the die. Once the first
segment is added, its type is fixed (inactive). The metal is placed into the die
cavity at the beginning of each cycle at a uniform temperature specified by
the first entry in the table. This can be accomplished by adding a pointer, (<span class="menuselection">Initial ‣ Add fluid pointer</span>) which is located anywhere
inside the die cavity, and then setting fluid fraction at the pointer equal to
1.0.</p>
<p>The value defined in <span class="guilabel">Temperature in the die cavity</span> is used as a uniform
initial condition for fluid in the cavity. If <span class="guilabel">Temperature in the die cavity</span>
is not specified for <span class="menuselection">Solidification</span> segment, then it is taken from the
fluid temperatue deinfed in <span class="menuselection">Model Setup ‣ Initial ‣ Fluid regions</span>
or from restart data for restart simulation (see <a class="reference internal" href="model-setup.html#restarts"><span class="std std-ref">Restart</span></a>). For the heat transfer
coefficients between the die and the metal during the first cycle segment, the
component heat transfer coefficients to fluid 1 and to solidified fluid 1 are
used (<span class="menuselection">Model Setup ‣ Geometry ‣ Component ‣
Surface Properties ‣ Heat transfer coefficients to</span>). The thermal die
cycling table entry <span class="guilabel">Heat transfer coefficient at the die cavity
surface</span> for the first segment is thus not needed and grayed out on the GUI.</p>
</div>
<div class="section" id="open-before-ejection">
<span id="tdc-open-before-ejection-stage"></span><h4>Open before ejection<a class="headerlink" href="#open-before-ejection" title="Permalink to this headline">¶</a></h4>
<p>The <span class="menuselection">Open before ejection</span> segment can only be added as the second
segment. Once an open before ejection segment is added, its type cannot be changed.
During this stage, the cover of the die is open, but the casting part is still
sticking to the ejector of the die. The cover and ejector thus experience very
different thermal conditions at this stage. In order to correctly compute the
die temperature during this stage, the cover and ejector components of the die
have to be defined (<span class="menuselection">Model Setup ‣ Geometry ‣ Component properties
‣ Thermal Die Cycling properties ‣ Cover Component</span>). In
addition to the <span class="guilabel">Heat transfer coefficient at the die cavity
surface</span>, which defines the heat transfer coefficient between the die and the
air, the <span class="guilabel">Heat transfer coefficient between metal and air</span>
also needs to be specified. The component heat transfer coefficients
to fluid 1 and to solidified fluid 1 are used to compute the heat transfer
between ejector and metal, same as in the first segment.</p>
<blockquote>
<div><a class="reference internal image-reference" href="_images/thermal-die-cycling-component-properties.png"><img alt="Thermal Die Cycling Component Properties" src="_images/thermal-die-cycling-component-properties.png" style="width: 350px; height: 250px;" /></a>
</div></blockquote>
<p>All other segment types assume that the die cavity is empty of metal.</p>
</div>
<div class="section" id="closed">
<span id="tdc-closed-stage"></span><h4>Closed<a class="headerlink" href="#closed" title="Permalink to this headline">¶</a></h4>
<p>The <span class="menuselection">Closed</span> segment is always the last segment.
For the segments whose types are not one of the three mentioned above, their
orders can be rearranged by drag-and-drop. The segment type can also be
modified via <span class="guilabel">Type</span> pull-down menu on the right. The segment order
might be rearranged automatically based on its new segment type. A segment can
be deleted by clicking on the <span class="guilabel">Delete segment</span> button.</p>
<blockquote>
<div><img alt="Thermal Die Cycling Change Segment" src="_images/tdc-change-segment.png" />
</div></blockquote>
<p>No fluid flow is modeled in a die cycling simulation.</p>
<p>Cores and liners are commonly used in die casting. They are inserted into a
die assembly and are removed after each cycle. They can be modeled by defining
them as cores/liners in <span class="menuselection">Model Setup ‣ Geometry ‣ Component
‣ Thermal Die Cycling properties ‣ Core/liner</span>. Unlike
other parts of the die that are reused after each cycle and thus retain their
temperature history, the temperature of cores and liners is reset at the
beginning of each cycle.</p>
<p>Cores and liners are also considered during the <span class="menuselection">Open before ejection</span>
segment. A core/liner component can also be defined as a cover or ejector
component, depending on if it is part of the cover, or part of the ejector. If
a core/liner is defined as a cover, it will be removed at the beginning of the
<span class="menuselection">Open before ejection</span> segment. If it is defined as an ejector, it will
stay in the ejector during the <span class="menuselection">Open before ejection</span> segment, and be
removed at the end of the <span class="menuselection">Open before ejection</span> segment.</p>
<p>Since the cores and liners are usually of different material types than the
other parts of the die, they usually have different heat transfer coefficients
to the metal. This can be accomplished by specifying different values of heat
transfer coefficient to fluid 1 for the core and liner components. As
mentioned above, if the values of the heat transfer coefficient to fluid 1 are
specified, they are used during the first cycle stage
(<span class="menuselection">Solidification</span>) and the <span class="menuselection">Open before ejection</span>
(if defined). At later stages of each cycle, the cores and liners will
be removed, thus have no effect to the die cooling.</p>
<p>After the die opens, the die is also cooled at the parting line. In order to
take the parting line cooling into consideration, the two die parts that are
in contact have to be defined, which is used to identify the parting line (see
also <span class="target" id="index-350"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">IFOBCYCCON</span></code> in <a class="reference internal" href="input-variable-summary-units.html#componentpropertiesthermaldiecycling"><span class="std std-ref">Component Properties: Thermal Die Cycling</span></a>). The
parting line is closed during the first stage (<span class="menuselection">Solidification</span>)
and the <span class="menuselection">Closed</span> stage (if defined). Cover
and ejector components are always treated as contacting components. Note that
the parting line needs to be along the coordinate planes to be better
resolved. Cores/liners cannot be defined as contacting dies.</p>
</div>
</div>
<div class="section" id="numerical-settings">
<span id="tdc-numerics"></span><h3>Numerical settings<a class="headerlink" href="#numerical-settings" title="Permalink to this headline">¶</a></h3>
<p>It is recommended to use the implicit heat transfer algorithm, by setting
<span class="menuselection">Numerics ‣ Explicit/implicit options ‣ Heat transfer ‣
Implicit</span> (also found on the <span class="menuselection">Physics ‣ Heat transfer</span>) for
faster simulations (see <a class="reference internal" href="numerical-options.html#computingtemperaturesmr"><span class="std std-ref">Heat Transfer</span></a>). The time-step size
and the convergence parameters will be dynamically adjusted to achieve the
optimum speed of the simulation and accuracy of the results. The time step size
is automatically controlled to capture the duration of each cycle segment and at
the same time to maintain the accuracy of the solution. The time step size could
be further reduced manually by using <a class="reference internal" href="input-variable-summary-units.html#plotoutputcontrol"><span class="std std-ref">TEDIT</span></a> and
<a class="reference internal" href="input-variable-summary-units.html#plotoutputcontrol"><span class="std std-ref">TDTMAX</span></a> arrays, but it is not generally necessary.</p>
</div>
<div class="section" id="tdc-output">
<span id="id24"></span><h3>Output<a class="headerlink" href="#tdc-output" title="Permalink to this headline">¶</a></h3>
<p>The default values of the time intervals for the History data output,
<a class="reference internal" href="input-variable-summary-units.html#plotoutputcontrol"><span class="std std-ref">THPLTD</span></a>, and short prints, <a class="reference internal" href="input-variable-summary-units.html#printoutputcontrol"><span class="std std-ref">TSPRTD</span></a>, are set to 1/10 and 1/5 of the smallest cycle segment
duration. The user can overwrite the default values in the <span class="target" id="index-351"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">Output</span></code>
window.</p>
<p>Most of the <span class="guilabel">Restart data</span> edits are done in the last thermal die
cycle, where the solution is supposed to be at steady-state and, therefore, most
interesting to the user. There are three factors controlling the spatial output
in the thermal die cycling model:</p>
<ol class="arabic simple">
<li>One per cycle restart data edit defined in <span class="menuselection">Physics ‣ Thermal die cycling ‣ Number of die cycles at the end…</span> A restart data edit is made at the end of these die cycles. This allows the user to track the results from cycle to cycle and also make restart calculations.</li>
<li>Additionally, restart data is automatically saved at the end of each segment during the last die cycle. These data edits allow the user to track the changes in die temperature during the main stages of the process.</li>
<li>Finally, restart data can be saved at user-defined intervals during the last die cycle. The output frequency is controlled by the output logic defined in <span class="menuselection">Output ‣ Restart data</span>. The output frequency during the first segment of the cycle can also be based on solidified fraction.</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <span class="menuselection">General ‣ Finish time</span> setting has no effect in Thermal Die Cycling simulations.
The simulation will stop after the final cycle.</p>
</div>
</div>
<div class="section" id="spray-cooling-for-thermal-die-cycling">
<span id="spraycoolingthermaldiecycling"></span><span id="index-352"></span><h3>Spray Cooling for Thermal Die Cycling<a class="headerlink" href="#spray-cooling-for-thermal-die-cycling" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The model definition is only available through <span class="raw-html"><strong><em>FLOW-3D </em> CAST</strong></span>.
However, the variables can be directly typed in by editing PREPIN file.</p>
</div>
<p>For thermal die cycling simulations, in order to accurately predict the
temperature distribution in the die, the spatial variation in the spray
cooling has to be taken into consideration. Spray cooling model is developed
for this purpose.</p>
<p>This model explicitly computes the cooling from each spray, instead
of a constant heat transfer coefficient across the entire die cavity. The
spray area on the die surface will be computed and updated constantly due to
the movement of the spray nozzles. The blocking of the spray cooling due to
the spray angle and the shape of the die surface is also considered. It
provides more accurate temperature distribution on the die surface with
reliable and realistic input parameters, which will help to better design and
optimize the spray cooling process to eliminate the hot spots.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To make the spray cooling model compatible with general thermal die cycling
setups, this model can only be active during <span class="menuselection">Spray lubricant</span>
segment defined in thermal die cycling table.</p>
</div>
<div class="section" id="spray-area-computation">
<h4>Spray Area Computation<a class="headerlink" href="#spray-area-computation" title="Permalink to this headline">¶</a></h4>
<p>In order to include the influence of the shape of the die surface and the
position of the spraying nozzles to the spray cooling, the spray area on the
die surface is computed, and updated constantly when the spray nozzle moves.
As shown in the figure below, on the die surface some areas under the spray
are blocked, and some areas are overlapped by two or more sprays. These areas
are computed and identified using ray tracing algorithm in order to
distinguish the different spray cooling effects.</p>
<p>To visualize the spray area
on the die surface, a scalar is used to highlight the spray surface element by
the spray nozzle bank index. If a surface element is sprayed by more than one
spray nozzle banks, the average bank index is used to mark the surface. If the
spray nozzle moves, the spray area will also change. The spray area scalar can
be used to validate the spray nozzle positioning and the spray robot movement.</p>
<blockquote>
<div><img alt="Spray Area Computation" src="_images/spray-cooling-spray-area-computation.png" />
</div></blockquote>
</div>
<div class="section" id="the-heat-transfer-coefficient">
<h4>The Heat Transfer Coefficient<a class="headerlink" href="#the-heat-transfer-coefficient" title="Permalink to this headline">¶</a></h4>
<p>The spray cooling mechanism is complicated, and the spray cooling heat
transfer coefficient (HTC) depends on many variables such as spray shape,
coolant flow rate, spray pressure, mold temperature, spray angles, spray
distance, etc. To make the spray cooling model easier to use, two HTC
calculation methods are provided. Users can choose to use the appropriate one
based on their data availability.</p>
<div class="section" id="the-heat-transfer-coefficient-based-on-dependencies">
<h5>The Heat Transfer Coefficient Based on Dependencies<a class="headerlink" href="#the-heat-transfer-coefficient-based-on-dependencies" title="Permalink to this headline">¶</a></h5>
<p>If the spatial variation of the heat transfer coefficient (HTC) is known,
either by direct measurement or full CFD computation, the HTC can be expressed
by a spatial function. To simplify the HTC calculation, the HTC is computed by
multiplying the base HTC by spatial dependence factors. For example for
conical spray, for every spray surface element, the HTC is computed by</p>
<div class="math">
<p><img src="_images/math/f23bda1038278c0695ed8a44713bfa5efe9c7a62.png" alt="HTC = { {HTC}_0 \left( T \right) } \cdot {f_d \left( d \right) } \cdot {f_b \left( \beta \right) } \cdot {f_e \left( \epsilon \right) }"/></p>
</div><p>where</p>
<ul class="simple">
<li><img class="math" src="_images/math/1767e896595a524aa34479a52e0cf625924e03f5.png" alt="{HTC}_0" style="vertical-align: -3px"/> is the base spray heat transfer coefficient when the nozzle sprays on the mold from a specified distance. The base heat transfer coefficient is dependent on the spray cone characteristics, spray medium, and spray pressure, etc., and is a function of the mold surface temperature.</li>
<li><img class="math" src="_images/math/3b49c0f4242a6835160fd21c1322201466d0e5bc.png" alt="f_d" style="vertical-align: -4px"/> is the distance <img class="math" src="_images/math/af338b0f36c212027ca29e7d652f140b32f24dbd.png" alt="d" style="vertical-align: 0px"/> dependence factor function.</li>
<li><img class="math" src="_images/math/b9641632d3e9034217fce8ca1251a33602722691.png" alt="f_b" style="vertical-align: -4px"/> is the spray angle <img class="math" src="_images/math/58f961270cf905208364b40799bc1ab9d5b3ed34.png" alt="\beta" style="vertical-align: -4px"/> dependence factor function.</li>
<li><img class="math" src="_images/math/16d92547afb452d3fc1e30de5df1ff3d51f49c35.png" alt="f_e" style="vertical-align: -4px"/> is the spray angle <img class="math" src="_images/math/5c6c23b13e59ef813dcae81710428f8e21fee05f.png" alt="\epsilon" style="vertical-align: 0px"/> dependence factor function.</li>
</ul>
<p>The meaning of the spray distance <img class="math" src="_images/math/af338b0f36c212027ca29e7d652f140b32f24dbd.png" alt="d" style="vertical-align: 0px"/>, and spray angles <img class="math" src="_images/math/58f961270cf905208364b40799bc1ab9d5b3ed34.png" alt="\beta" style="vertical-align: -4px"/>
and <img class="math" src="_images/math/5c6c23b13e59ef813dcae81710428f8e21fee05f.png" alt="\epsilon" style="vertical-align: 0px"/> are shown in the below picture.</p>
<blockquote>
<div><img alt="Spray Cooling Heat Transfer Coefficient Dependence Factors" src="_images/spray-cooling-dependence-factors.png" />
</div></blockquote>
<p>The base heat transfer coefficient and the dependence factor functions can be
regressed from experimental measurements, derived from theory, or from
experience.</p>
<p>If the sprays are not in conical shape, the dependence factors might be different.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>For areas that are not sprayed on due to either blockage or outside of
the spray, the heat transfer coefficient defined for
<span class="menuselection">Spray lubricant</span> segment in thermal die cycling table
will be used, which should be the heat transfer coefficient between the
die and the ambient environment.</li>
<li>For areas that are sprayed on by multiple nozzles, the highest HTC is used.</li>
</ul>
</div>
</div>
<div class="section" id="the-heat-transfer-coefficient-based-on-spray-medium-properties">
<h5>The Heat Transfer Coefficient Based on Spray Medium Properties<a class="headerlink" href="#the-heat-transfer-coefficient-based-on-spray-medium-properties" title="Permalink to this headline">¶</a></h5>
<p>For spray cooling, the spatial variation of the heat transfer coefficient
(HTC) is usually not known. There are literatures on measuring or using CFD to
compute the spray cooling heat transfer coefficients. But they are all very
complicated, difficult, and expensive approaches, and require specific
equipment, software, and expertise. For users who want to use spray cooling
model for thermal die cycling simulations, it is almost impossible for them to
obtain the heat transfer coefficient using these approaches. For practical
applications, however, the spray cooling heat transfer coefficient can be
computed from spray medium properties based on energy exchange.</p>
<blockquote>
<div><img alt="Spray cooling spray cone" src="_images/spray-cooling-spray-cone.png" />
</div></blockquote>
<p>Assuming the nozzle produces a uniform and conical spray, the energy removal
rate by the spray cooling for a surface element can be expressed as</p>
<div class="math">
<p><img src="_images/math/3ed1f0abf15ff0af3dbcb750eea8489a26c3509c.png" alt="\dot E = \alpha \cdot \rho \cdot \frac {\dot V}{A_{cap}} \cdot A_{cross} \cdot \left [ \frac {T_{die} - T_{spray}}{\tau _{T}} \cdot L + C_p \cdot \left ( T_{evapo} - T_{spray} \right ) \right ]"/></p>
</div><p>where</p>
<ul class="simple">
<li><img class="math" src="_images/math/db68c1b58b0e0840702a7a6539a5253887a9cd69.png" alt="\alpha" style="vertical-align: 0px"/> is the efficiency coefficient,</li>
<li><img class="math" src="_images/math/505bec53c42fc78b12fcff89dde94cd96fb0770b.png" alt="\rho" style="vertical-align: -4px"/> is the density of the spray medium,</li>
<li><img class="math" src="_images/math/10eec7698f1952a2beb444992e613877462a64a9.png" alt="\dot V" style="vertical-align: 0px"/> is the nozzle volume flow rate,</li>
<li><img class="math" src="_images/math/84b0acdc310caeb90cf17090df289297ac46cdf6.png" alt="A_{cap}" style="vertical-align: -6px"/> is the spray cone cap area at spray distance <img class="math" src="_images/math/af338b0f36c212027ca29e7d652f140b32f24dbd.png" alt="d" style="vertical-align: 0px"/>,</li>
<li><img class="math" src="_images/math/3fba9bb78b1fabdb2d240023002fa10deb1b7516.png" alt="A_{die}" style="vertical-align: -3px"/> is the die surface element area,</li>
<li><img class="math" src="_images/math/2d9832b11c172aed9e2c5ac9bf31fa6bcc3abb4a.png" alt="A_{cross}" style="vertical-align: -3px"/> is the surface element cross area,</li>
<li><img class="math" src="_images/math/f736974e8629c7fbcf0d85ae8177438a6ccd1cf9.png" alt="\tau _{T}" style="vertical-align: -3px"/> is the latent heat release temperature range,</li>
<li><img class="math" src="_images/math/48db08e51669ad87af374b5f0fd4dacbb2de0ea6.png" alt="L" style="vertical-align: 0px"/> is the evaporation latent heat,</li>
<li><img class="math" src="_images/math/567bcd0009992e7590f4a0c19b96aca084a06353.png" alt="C_p" style="vertical-align: -6px"/> is the specific heat,</li>
<li><img class="math" src="_images/math/026259ef17c5cb96c0d34c6b54f77e19d1dcba42.png" alt="T_{die}" style="vertical-align: -3px"/> is the die surface temperature,</li>
<li><img class="math" src="_images/math/ddb4f764846d78b8176d7406dbddb3fc46c8b007.png" alt="T_{evapo}" style="vertical-align: -6px"/> is the spray medium evaporation temperature, and</li>
<li><img class="math" src="_images/math/927e3d47ada08a8cd2a0913b7b9326836070a1ce.png" alt="T_{spray}" style="vertical-align: -6px"/> is the spray medium temperature.</li>
</ul>
<p>The energy extracted from the die can be expressed as</p>
<div class="math">
<p><img src="_images/math/1eba9a6fa970cab5cc7527213a96ffe421cc27b3.png" alt="\dot E = HTC  \cdot A_{die} \cdot \left ( T_{die} - T_{spray} \right )"/></p>
</div><p>The spray cooling heat transfer coefficient can then be derived as</p>
<div class="math">
<p><img src="_images/math/8a726865977a772424d7f1e080781528855721d5.png" alt="HTC = \alpha \cdot \rho \cdot \frac {\dot V}{A_{cap}} \cdot \frac {A_{cross}}{A_{die}} \cdot \frac {\left [ \frac {T_{die} - T_{spray}}{\tau _{T}} \cdot L + C_p \cdot \left ( T_{evapo} - T_{spray} \right ) \right ] }{ T_{die} - T_{spray} }

HTC = \alpha \cdot \rho \cdot \frac {\dot V}{A_{cap}} \cdot \frac {\vec{n} \cdot \vec{d}}{|\vec{d}|} \cdot \frac {\left [ \frac {T_{die} - T_{spray}}{\tau _{T}} \cdot L + C_p \cdot \left ( T_{evapo} - T_{spray} \right ) \right ] }{ T_{die} - T_{spray} }"/></p>
</div><p>It can be seen that the dependencies on the die temperature, the spray
distance and the spray angles are included in the calculations.</p>
<p>Note that the above equation is valid when the die temperature is within
[<img class="math" src="_images/math/ddb4f764846d78b8176d7406dbddb3fc46c8b007.png" alt="T_{evapo}" style="vertical-align: -6px"/>, <img class="math" src="_images/math/ce9812d2fdade28997b005619d26a8c625fbc651.png" alt="T_{evapo} + \tau_{T}" style="vertical-align: -6px"/>]. When the die temperature is
below <img class="math" src="_images/math/ddb4f764846d78b8176d7406dbddb3fc46c8b007.png" alt="T_{evapo}" style="vertical-align: -6px"/>, the above equation is reduced to:</p>
<div class="math">
<p><img src="_images/math/55419752e83ba01c79a8b5f9ca9d6a6dcd61f85f.png" alt="HTC = \alpha \cdot \rho \cdot \frac {\dot V}{A_{cap}} \cdot \frac {\vec{n} \cdot \vec{d}}{|\vec{d}|} \cdot C_p"/></p>
</div><p>When the die temperature is above <img class="math" src="_images/math/ce9812d2fdade28997b005619d26a8c625fbc651.png" alt="T_{evapo} + \tau_{T}" style="vertical-align: -6px"/>, due to the
advection of the air and spray medium moisture, the HTC is kept as a constant
value.</p>
<p>In order to get reasonable HTC, the efficiency coefficient <img class="math" src="_images/math/db68c1b58b0e0840702a7a6539a5253887a9cd69.png" alt="\alpha" style="vertical-align: 0px"/>,
needs to be calibrated using experimental data. It is 0.75 by default.</p>
</div>
</div>
<div class="section" id="id25">
<h4>Model Setup<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h4>
<p>This model can only be defined through <span class="raw-html"><strong><em>FLOW-3D </em> CAST</strong></span>. Please refer to <span class="raw-html"><strong><em>FLOW-3D </em> CAST</strong></span> Users
Manual for details.</p>
</div>
<div class="section" id="output-options">
<h4>Output Options<a class="headerlink" href="#output-options" title="Permalink to this headline">¶</a></h4>
<p>The spray cooling selected data output can only be selected through <span class="raw-html"><strong><em>FLOW-3D </em> CAST</strong></span>.
Please refer to <span class="raw-html"><strong><em>FLOW-3D </em> CAST</strong></span> Users Manual for details.</p>
</div>
<div class="section" id="id26">
<h4>Post Processing<a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h4>
<p>Spray cooling results are better to be visualized in FlowSight.</p>
<p>Choose <span class="menuselection">Selected</span> from the <span class="guilabel">Timeline</span> pull-down menu
in the <span class="guilabel">Time</span> window. Then in the <span class="guilabel">Geometry List</span> window,
select the component that wanted to be visualized, and select
<span class="menuselection">Iso</span> from the <span class="guilabel">Type</span> pull-down menu. Then select one
of the spray visualization variables (i.e., total_spray_time_selected) from
the <span class="guilabel">Color by</span> pull-down list next to the geometry selected.</p>
<blockquote>
<div><img alt="Spray cooling output visualized in FlowSight" src="_images/spray-cooling-FlowSight.png" />
</div></blockquote>
<span class="target" id="index-353"></span></div>
</div>
</div>
<div class="section" id="thermal-stress-evolution-tse-in-solidified-fluid-regions">
<span id="tsesolidifiedfluidregion"></span><span id="index-354"></span><h2>Thermal Stress Evolution (TSE) in Solidified Fluid Regions<a class="headerlink" href="#thermal-stress-evolution-tse-in-solidified-fluid-regions" title="Permalink to this headline">¶</a></h2>
<p>The thermal stress evolution (TSE) model is designed to use the finite element
method (FEM) to simulate and analyze the stresses and deformations within the
solidified fluid region. These stresses can develop as a result of forces
exerted by the surrounding fluid, thermal gradients within the solidified fluid,
and/or constraints imposed by walls and neighboring components.</p>
<div class="section" id="tsesolidificationmodelsetupmr">
<span id="id27"></span><h3>Model Setup<a class="headerlink" href="#tsesolidificationmodelsetupmr" title="Permalink to this headline">¶</a></h3>
<div class="section" id="tse-properties">
<span id="tse-props-mr"></span><h4>TSE properties<a class="headerlink" href="#tse-properties" title="Permalink to this headline">¶</a></h4>
<p>These computations are only performed for the fully solidified fluid cells and
therefore the model requires the <span class="guilabel">Solidification</span> model to be turned
on. The <span class="guilabel">Thermal stress analysis</span> is activated from the
<span class="guilabel">Solidification</span> window.</p>
<blockquote>
<div><img alt="Solidified fluid region - Solidification" src="_images/fsi-tse-solidified-fluid-region-solidification.png" />
</div></blockquote>
<p>The minimum requirements in terms of the material properties for this model are:
<span class="guilabel">Fluid Density</span> and at least two elastic properties out of
<span class="guilabel">Bulk Modulus</span>, <span class="guilabel">Shear Modulus</span>, <span class="guilabel">Elastic
(Young’s) Modulus</span>, and <span class="guilabel">Poisson Ratio</span>. Unless these minimum
requirements are met, the simulation will not start. These properties are set
at the <span class="menuselection">Fluids</span> widget, at the <span class="menuselection">Fluids ‣ Fluid 1 ‣ Solidification ‣ Solidified</span> tab.</p>
<blockquote>
<div><img alt="Solidified Fluid 1 Properties - Fluids tab" src="_images/fsi-tse-solidified-fluid-region-properties-in-fluids-tab.png" />
</div></blockquote>
<p>The <span class="guilabel">Yield Stress</span> input allow entry of a Yield-stress limiting
value (in units of stress). Setting this value for the component activates the
<em>Plastic deformation</em> model for that component, which predicts non-elastic
deformation locally where the local von Mises stress exceeds the specified
value. Leaving the default value <span class="guilabel">-1</span> means that there is no
yielding; i.e., an infinite yield stress limit.</p>
<p>Pressure in the liquid is used as a boundary condition at the
liquid/solid interface. Most of the solidified fluid properties can be defined
as functions of temperature using tabular input. Click on the
<span class="guilabel">Tabular</span> button to enter the temperature-dependent properties
directly, or <span class="guilabel">Import Values</span> from an existing comma separated value
(<code class="file docutils literal notranslate"><span class="pre">csv</span></code>) file, or <span class="guilabel">Use File</span>, where the values from the specified
external file is used. These properties can also be loaded into components
from the <span class="menuselection">Materials ‣ Fluids Database</span> menu.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To define density as a function of temperature, it needs to be defined in the
<span class="guilabel">Density Properties</span> of <span class="guilabel">Fluid 1</span>. Once a table for density exists,
it will also be used for both the liquid and solidified fluid density.</p>
</div>
<span class="target" id="index-355"></span></div>
<div class="section" id="tse-meshing">
<span id="femeshing-tse"></span><span id="index-356"></span><h4>TSE meshing<a class="headerlink" href="#tse-meshing" title="Permalink to this headline">¶</a></h4>
<p>After the elastic properties are provided, it is time to generate a finite
element (FE) mesh for the solidified fluid region. This is done from the
<span class="menuselection">Model Setup ‣ Mesh ‣ Solidified fluid mesh</span>.</p>
<blockquote>
<div><img alt="Solidified fluid region - Geometry" src="_images/fsi-tse-solidified-fluid-region-solidification-component.png" />
</div></blockquote>
<p>The preprocessor makes use of a rectangular Cartesian mesh around the fluid
region to generate the FE mesh. This <span class="guilabel">Input Mesh</span> can be the
Cartesian mesh that is ultimately used to solve for the fluid (default), or it
can be an independent <span class="guilabel">Local Input Mesh</span> whose purpose is only to
generate the FE mesh for the solidified fluid region. <strong>The FE mesh generator
will, by default, create a FE mesh that encompasses the entire domain except
for regions occupied by</strong> <span class="guilabel">Solid</span> <strong>components or by</strong>
<span class="guilabel">FEA domain removing</span> <strong>components:</strong></p>
<blockquote>
<div><img alt="FEA domain removing component selection" src="_images/FEA_domain_removing.png" />
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>The <span class="guilabel">Local Input Mesh</span> information will be saved in the
<span class="guilabel">FE Mesh File</span> that is generated in the next step, and not in the
<code class="file docutils literal notranslate"><span class="pre">prepin.*</span></code> file.</li>
<li>Domain regions occupied by moving components are, by default, meshing by
<span class="raw-html"><strong><em>FLOW-3D </em></strong></span>’s FE mesh generator, since it is assumed that at some point during
the simulation, these regions can be occupied by solidified fluid. If you
know that there are domain regions that are not going to be occupied by
solidified fluid, create a <span class="guilabel">FEA domain removing</span> component in
that region.</li>
</ul>
</div>
<p>The cylindrical coordinate fluid mesh can be used to generate the FE
mesh, either axisymmetric or fully three-dimensional. The only limitation is
that for 3-D meshes, the FE mesh <strong>cannot</strong> contact the centerline of the
mesh; this will result in a singularity point for the FE mesh.</p>
<p>The <span class="guilabel">FE mesh type</span> drop-down menu allows for the selection of either
a <span class="guilabel">Hexahedron</span> or <span class="guilabel">Tetrahedron</span> mesh. Hexahedron meshes,
the default,  are based on six-sided elements, with merging of some vertices
in the vicinity of the component boundaries to allow for smooth interfaces.
Tetrahedron meshes are composed of 4-sided elements and do not require merging
of any vertices. Tetrahedral meshes are simpler, use linear basis functions,
and can result in lower CPU times. However, due to the linear basis functions,
the results may be somewhat less smooth.</p>
<p>After the <span class="guilabel">Input Mesh</span> is defined, right click on the <span class="guilabel">FE
Mesh File</span> and <span class="guilabel">Generate</span> the FE mesh. If there is no filename
specified, the filename for this mesh defaults to
<code class="file docutils literal notranslate"><span class="pre">solidified_fluid.prjext.FEmesh</span></code>, where <code class="file docutils literal notranslate"><span class="pre">prjext</span></code> is the project
extension. If an <code class="file docutils literal notranslate"><span class="pre">FE</span> <span class="pre">mesh</span></code> file already exists, <span class="guilabel">Open</span> it
using the <span class="guilabel">File options</span> button, then right click on the <span class="guilabel">FE
Mesh File</span> and <span class="guilabel">Load and Display</span> the existing FE mesh file. If
satisfied with the FE mesh, select the <span class="guilabel">Use FLOW-3D mesh</span> option from the <span class="guilabel">FE mesh type</span> drop-down menu.</p>
<p>The final option of the <span class="guilabel">FE mesh type</span> drop-down menu is
<span class="guilabel">Use EXODUS FE mesh</span>, which allows input of <strong class="program">EXODUS II</strong>
file format meshes. See below for further information on the use of
<strong class="program">EXODUS II</strong> meshes.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>If the <span class="guilabel">Use FLOW-3D mesh</span> option is not checked, the FE mesh file
is regenerated every time <span class="guilabel">Generate</span> or <span class="guilabel">Preprocess Simulation</span> is selected.</li>
<li>The preprocessor meshes the whole open region within the <span class="guilabel">Input
Mesh</span>. If it is known <em>a priori</em> that any solidified fluid is not going to
be present in a part of the open region, that section can be removed from
the FE mesh with a component whose the <span class="guilabel">Component type</span> selection
is <span class="guilabel">FEA domain removing</span>.</li>
</ul>
</div>
<p>Where the solidified fluid region is in contact with neighboring components,
the model needs to know how these components behave. For non-FSI components,
or when TSE/FSI coupling is set to <span class="guilabel">No coupling</span> (see below) the
neighboring components can either be a <span class="guilabel">Constraining Component</span> or a
<span class="guilabel">Non-constraining component</span>. Examples of constraining components
are steel dies: the deformation of the component will be small in response to
stresses developed within the solidified fluid region. Conversely, an example
of a non-constraining component is a sand mold: such molds will not support
significant stresses, and thus offer no constraining forces to the solidified
fluid region.</p>
<blockquote>
<div><img alt="FSI constraining options" src="_images/tse-component-props-constraining.png" />
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For a Thermal Stress Evolution region, if the surrounding component is porous then the default component interaction setting is non-constraining.</p>
</div>
<span class="target" id="index-357"></span></div>
</div>
<div class="section" id="tse-controls">
<span id="tsecontrolsmr"></span><span id="index-358"></span><h3>TSE Controls<a class="headerlink" href="#tse-controls" title="Permalink to this headline">¶</a></h3>
<div class="section" id="solid-fraction-activation">
<h4>Solid fraction activation<a class="headerlink" href="#solid-fraction-activation" title="Permalink to this headline">¶</a></h4>
<p>The TSE model is automatically activated when the solid fraction is 1 in a
given cell. In certain cases the stresses in the cells become significant when
the solid fraction less than 1. The <span class="target" id="index-359"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">FSTSE</span></code> parameter allows the user to specify
the solid fraction at which the stress computations can begin in the finite
element mesh. This provides flexibility in the usage of the TSE model.</p>
<span class="target" id="index-360"></span></div>
</div>
<div class="section" id="numerical-options">
<span id="tsesolidificationsimulationmr"></span><span id="index-361"></span><h3>Numerical Options<a class="headerlink" href="#numerical-options" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><img alt="TSE/FSI coupling options" src="_images/tse-coupling-options.png" />
</div></blockquote>
<p>For simulations where the complex interactions between the TSE region and
neighboring components are needed to be simulated, the neighboring components
can be specified to be FSI components, and the <span class="guilabel">Partial coupling</span>
option selected in the <span class="menuselection">Numerics ‣ Coupling between solid
fluid/FSI</span> option box (see image above). By default, <span class="guilabel">No coupling</span>
is selected, which allows for only basic <span class="guilabel">Constraining</span> or
<span class="guilabel">Non-constraining</span> options. The <span class="guilabel">Partial coupling</span> allows the TSE
region and FSI components  to separate and slide past one another, but they
cannot interfere. The sliding friction is controlled by specifying a value for
the <span class="guilabel">Friction coefficient</span>. By default, sliding friction is not
limited (i.e., sliding cannot occur so long as the TSE region and FSI
components are in contact); setting this to 0.0 or greater allows for sliding.
Physical values are typically less than 1.0.</p>
<p>The solver used for the solution of the stresses within the
<span class="guilabel">solidified fluid region</span> is similar to the GMRES pressure solver.
This is the only solver currently available, and the user can adjust the GMRES
subspace size (sometimes called the <em>restart number</em>, and is
<span class="target" id="index-362"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">MRSTRTFSI</span></code> in the input file), the maximum number of iterations and
the convergence tolerance. Changes to these parameters are made from the
<span class="guilabel">FSI/TSE solver options</span> section of the <span class="guilabel">Numerics</span> tab:</p>
<blockquote>
<div><img alt="Fluid-Structure interaction - GMRES subspace size" src="_images/ModelReference_FSITSE-Numerics_v12.JPG" />
</div></blockquote>
<p>The default value of the GMRES subspace size is 20. Increasing this value will
allow the solver to achieve convergence with fewer iterations; however, the
CPU time per iteration will increase and the memory usage will rise with the
subspace size. In some simulations where convergence is not being reached
(i.e., the maximum number of iterations are being done and the <span class="guilabel">FEA
convergence ratio</span> is greater than 1), increasing this value can drastically
reduce the overall CPU time.</p>
<p>Additionally, if the option <span class="guilabel">Dynamically selected subspace size</span> is
selected, the solver will automatically adjust the subspace size to optimize
solution efficiency. In this case, the entered (or default) value of the
<span class="guilabel">GMRES subspace size</span> becomes the <strong>maximum</strong> subspace size.
Therefore, setting it to a largest value possible with this option is a good
idea (up to the memory available on the computer), since it allows for greater
solver flexibility. In cases where convergence is easily achieved, the
subspace size will automatically be reduced to maintain optimum solver
efficiency.</p>
<p>The <span class="guilabel">Maximum number of iterations</span> limits the number of iterations
used by the solver; the default value is 25 which should be more than enough
for most simulations. If the FSI iteration count in the solver is repeatedly
reaching the limit (as seen in the <span class="guilabel">Simulation</span> messages), this
limit or the subspace size can be increased. It is recommended (up to the
limit of available memory) to try increasing the subspace size first.</p>
<p>The <span class="guilabel">Convergence tolerance</span> specifies the maximum residual permitted
in the solution of the solid dynamics equations. This value is dimensionless
independent of the mesh size and time step. The value represents a relative
error in the computed strain. The default value is 10<sup>-3</sup>, which should
work well for most simulations. However, if the goal of the simulation is to
get a final-time stress result, rather than accurate time-dependent results,
raising this value will not greatly harm the accuracy of the end result. For
simulations where the displacements and stresses are needed to be highly
accurate during the course of the simulation, lowering this value can help.
Note that convergence generally becomes increasingly slow for values of the
convergence tolerance smaller than 10<sup>-8</sup> for reasons of machine
precision round-off.</p>
<p>The option <span class="guilabel">Preconditioning of FSI GMRES</span> (on by
default) uses a preconditioning algorithm prior to running the GMRES
algorithm, with the goal of reducing the number of GMRES iterations. The
preconditioning algorithm is only used when:</p>
<ol class="arabic simple">
<li>The option <span class="guilabel">Preconditioning of FSI GMRES</span> is activated, and</li>
<li>The average number of iterations needed to solve the solid dynamics equations during the previous 10 computational cycles exceeded 4.</li>
</ol>
<p>The option <span class="guilabel">Fully coupled stress between solidified and non-
solidified fluid</span> allows control of the boundary condition between solidified
and non-solidified fluid as the solidification front develops. The default
(turned off), is to fix the location of this interface during each cycle. This
is more numerically stable, minimizes computational time, and ensures that
“floating bits” of solidified fluid are sufficiently constrained for numerical
efficiency. In cases where it is important to simulate the coupling of
stresses between the non-solidified fluid (i.e., pressure) and solidified
material, select this option. Selection of this option does raise the risk of
numerical issues occurring during solidification, and will likely increase
computational time.</p>
<div class="section" id="important-considerations">
<h4>Important considerations<a class="headerlink" href="#important-considerations" title="Permalink to this headline">¶</a></h4>
<p>If gravity is used in the simulations, the solidified fluid region must be in
contact with mesh boundaries or other components so that it cannot move
freely. If not constrained, the solid dynamics equations will predict rigid-body
motion for the solid, and this motion will not be represented in the fluid.
Free-floating solidified fluid regions can be modeled in the absence of gravity.</p>
</div>
</div>
<div class="section" id="tsesolidificationpostprocessingmr">
<span id="id28"></span><h3>Post-processing<a class="headerlink" href="#tsesolidificationpostprocessingmr" title="Permalink to this headline">¶</a></h3>
<p>The finite-element results produced by the model can be viewed in a separate
display. To access the TSE data, from the <span class="guilabel">Analyze</span> tab, select the
<span class="guilabel">FSI TSE</span> sub-tab:</p>
<blockquote>
<div><img alt="Analyze tab" src="_images/fsi-tse-solidified-fluid-region-analyze-tab.png" />
</div></blockquote>
<p>From this tab, select which of the components to view.</p>
<blockquote>
<div><img alt="Fluid-Structure Interaction Components" src="_images/fsi-tse-solidified-fluid-region-fsi-components.jpg" />
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The solidified fluid region is always labeled as Component 0:</p>
</div>
<p>Also selectable are the time limits, and the data source. Note that to view
<span class="guilabel">Selected</span> data, <span class="guilabel">Fluid structure interaction</span> must have
been chosen from the <span class="guilabel">Selected data</span> list in <span class="menuselection">Model
Setup ‣ Output</span> during setup of the simulation. Click <span class="guilabel">Render</span>
and the <span class="guilabel">Display</span> tab appears, and from here various data variables
can be plotted for the FSI component. Other controls to zoom, rotate, etc.,
are the same as the 3-D display.</p>
<p>The default display is the <span class="guilabel">Normal displacement</span>. This shows the
surface displacement in the direction of the outward-pointing normal over the
entire surface of the component, relative to its original conformation.
Negative values indicate that the surface is pulled in and positive values
indicate that the surface is pushed out relative to its original position.
Individual displacements throughout the component in the x, y and z directions
can also be displayed by selecting <span class="guilabel">X displacement</span>, <span class="guilabel">Y
displacement</span>, or <span class="guilabel">Z displacement</span>, respectively.</p>
<p>There are 6 components of elastic stress and 6 components of strain available
for plotting. These are the 6 independent components that comprise the
symmetric stress and strain tensors. These components are difficult to
conceive for three-dimensional simulations, as even simple 1-D tension,
diagonal to the coordinates, will produce non-zero values in many of the
stress components. That is why the <span class="guilabel">mean iso stress</span> and the
<span class="guilabel">Von Mises stress</span> are provided. These are stress invariants, and as
such, are independent of the coordinate system chosen. The <span class="guilabel">mean iso
stress</span> is the isotropic stress which is the amount of compressive (negative
values) or tensile (positive values) stress in the solid, which could indicate
areas most prone to buckling or cracking. In contrast, the <span class="guilabel">Von
Mises stress</span> is a measure of shearing stresses; its value is always positive.
Regions with high shear stress are more prone to tearing. Therefore, a solid
under pure compressive or tensile stresses can have a negligible Von Mises
stress; conversely, a solid under pure shear can have negligible tensile or
compressive stress.</p>
<p>If a value was specified for the <span class="guilabel">Yield Stress</span>, then data will also
be available for the plastic deformation of the solidified fluid region. This
data includes the independent components of the plastic strain tensor (all
non-dimensional), and the plastic strain magnitude (the second invariant of
the plastic strain tensor). These values indicate the locations within the
component where the greatest amount of plastic strain occurred.</p>
<p><span class="guilabel">Temperature</span> is available for plotting as a convenience. This
temperature is the same as the fluid temperature available from the fluid
3-D display. The <span class="guilabel">volume expansion</span> indicates regions of the component
that have expanded (positive values) or shrunk (negative values) during the
course of the simulation. Such expansion or contraction could be caused by
temperature changes, or by tensile or compressive stresses.</p>
</div>
<div class="section" id="export-import-tse-meshes">
<span id="tseexportimportexodusmeshes"></span><h3>Export/Import TSE Meshes<a class="headerlink" href="#export-import-tse-meshes" title="Permalink to this headline">¶</a></h3>
<p>TSE mesh and data can be imported or exported to <strong class="program">EXODUS II</strong> file
format, which is a random access, machine independent, binary file format.
<strong class="program">EXODUS II</strong> is a widely used model developed to store and retrieve
data for finite element analyses. The ability to export TSE mesh and data files
in <strong class="program">EXODUS II</strong> file format enhances portability and makes it possible
to view FSI results outside the <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> GUI.
<a class="reference external" href="http://www.paraview.org">ParaView</a> is a free, multi-platform data analysis
and visualization application that can be used to view <strong class="program">EXODUS II</strong>
files. To generate <strong class="program">EXODUS II</strong> output files, select
<span class="menuselection">Model Setup ‣ Output</span>. In the <span class="guilabel">Additional output</span> section, select the
required option in the <span class="guilabel">FSI/TSE EXODUS output format</span> drop-down menu.</p>
<blockquote>
<div><img alt="EXODUS II output options" src="_images/ModelReference_FSIMEshDataOutput_v12.JPG" />
</div></blockquote>
<p>The TSE mesh file stores only the FE mesh information (elements, nodes, etc.)
while the TSE data file includes FE mesh information and as well node
properties such as stress, strain, etc. at each FE mesh node.
The <a class="reference internal" href="#tsedataoutputvariablestable"><span class="std std-ref">TSE data variables</span></a> table provides a description of all TSE data
variables.</p>
<p>The TSE mesh file has the extension <code class="docutils literal notranslate"><span class="pre">.EXFEmesh.exo</span></code> and is written
out only once, immediately after the pre-processing stage. The TSE data file has
the extension <code class="docutils literal notranslate"><span class="pre">.EXFEdata.exo</span></code> and is written out at the same frequency as the
restart data.  The <strong class="program">EXODUS II</strong> data file is a single file (one for
each FSI component) that contains FSI data at all restart output times. In the <code class="file docutils literal notranslate"><span class="pre">prepin.*</span></code>
file, the variable <span class="target" id="index-363"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">IEXODUSOUT</span></code> (in namelist <span class="target" id="index-364"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">XPUT</span></code>) can be used to
write out TSE mesh and data files in <strong class="program">EXODUS II</strong> format (see
<a class="reference internal" href="input-variable-summary-units.html#filecontroloptions"><span class="std std-ref">File Control Options</span></a> for details of usage).</p>
<span id="tsedataoutputvariablestable"></span><table border="1" class="colwidths-given longtable docutils" id="id39">
<caption><span class="caption-text">TSE data variables</span><a class="headerlink" href="#id39" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="39%" />
<col width="61%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">FE MESH VARIABLE</th>
<th class="head">DESCRIPTION</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><span class="target" id="index-365"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">stressxx</span></code></td>
<td><em>xx</em>-component of Elastic stress tensor</td>
</tr>
<tr class="row-odd"><td><span class="target" id="index-366"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">stressxy</span></code></td>
<td><em>xy</em>-component of Elastic stress tensor</td>
</tr>
<tr class="row-even"><td><span class="target" id="index-367"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">stressxz</span></code></td>
<td><em>xz</em>-component of Elastic stress tensor</td>
</tr>
<tr class="row-odd"><td><span class="target" id="index-368"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">stressyy</span></code></td>
<td><em>yy</em>-component of Elastic stress tensor</td>
</tr>
<tr class="row-even"><td><span class="target" id="index-369"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">stressyz</span></code></td>
<td><em>yz</em>-component of Elastic stress tensor</td>
</tr>
<tr class="row-odd"><td><span class="target" id="index-370"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">stresszz</span></code></td>
<td><em>zz</em>-component of Elastic stress tensor</td>
</tr>
<tr class="row-even"><td><span class="target" id="index-371"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">DISPLX</span></code></td>
<td><em>x</em>-component of local displacement vector</td>
</tr>
<tr class="row-odd"><td><span class="target" id="index-372"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">DISPLY</span></code></td>
<td><em>y</em>-component of local displacement vector</td>
</tr>
<tr class="row-even"><td><span class="target" id="index-373"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">DISPLZ</span></code></td>
<td><em>z</em>-component of local displacement vector</td>
</tr>
<tr class="row-odd"><td><span class="target" id="index-374"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">strainxx</span></code></td>
<td><em>xx</em>-component of symmetric strain tensor</td>
</tr>
<tr class="row-even"><td><span class="target" id="index-375"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">strainxy</span></code></td>
<td><em>xy</em>-component of symmetric strain tensor</td>
</tr>
<tr class="row-odd"><td><span class="target" id="index-376"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">strainxz</span></code></td>
<td><em>xz</em>-component of symmetric strain tensor</td>
</tr>
<tr class="row-even"><td><span class="target" id="index-377"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">strainyy</span></code></td>
<td><em>yy</em>-component of symmetric strain tensor</td>
</tr>
<tr class="row-odd"><td><span class="target" id="index-378"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">strainyz</span></code></td>
<td><em>yz</em>-component of symmetric strain tensor</td>
</tr>
<tr class="row-even"><td><span class="target" id="index-379"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">strainzz</span></code></td>
<td><em>zz</em>-component of symmetric strain tensor</td>
</tr>
<tr class="row-odd"><td><span class="target" id="index-380"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">rel</span> <span class="pre">volume</span> <span class="pre">expansion</span></code></td>
<td>Relative volume expansion. The first invariant (trace) of strain tensor</td>
</tr>
<tr class="row-even"><td><span class="target" id="index-381"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">mean</span> <span class="pre">iso</span> <span class="pre">stress</span></code></td>
<td>Mean isotropic elastic stress. Represents a measure of purely compressive (if negative) or tensile stresses (if negative). Equal to one-third of the trace of the elastic stress tensor.</td>
</tr>
<tr class="row-odd"><td><span class="target" id="index-382"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">VM</span> <span class="pre">stress</span></code></td>
<td>Von Mises stress. Represents a measure of shearing stresses; its value is always positive. Regions with high shear stress are more prone to tearing. This is the square root of the second invariant of the elastic stress tensor.</td>
</tr>
<tr class="row-even"><td><span class="target" id="index-383"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">Temperature</span></code></td>
<td>Local solid temperature</td>
</tr>
<tr class="row-odd"><td><span class="target" id="index-384"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">norm</span> <span class="pre">displ</span></code></td>
<td>Normal displacement of the solid component boundary. Non-zero only at component interfaces.</td>
</tr>
<tr class="row-even"><td><span class="target" id="index-385"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">Active</span> <span class="pre">node?</span></code></td>
<td>The activity state of the local node. Nodes located where fluid is still liquid (i.e. <img class="math" src="_images/math/3fc507c646e835f0bffb95f73ed6296d36bdd2a1.png" alt="T &gt; T_{sld}" style="vertical-align: -3px"/>) or within void are <em>inactive</em>.</td>
</tr>
<tr class="row-odd"><td><span class="target" id="index-386"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">pstrainxx</span></code></td>
<td><em>xx</em>-component of plastic strain tensor. Valid only when yielding (<span class="target" id="index-387"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">YLDSTRTS</span></code> <img class="math" src="_images/math/d8cf4fb99479831fef6bc4b8cd929101dfe19c99.png" alt="&gt;" style="vertical-align: -1px"/> 0) is specified.</td>
</tr>
<tr class="row-even"><td><span class="target" id="index-388"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">pstrainxy</span></code></td>
<td><em>xy</em>-component of plastic strain tensor. Valid only when yielding (<span class="target" id="index-389"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">YLDSTRTS</span></code> <img class="math" src="_images/math/d8cf4fb99479831fef6bc4b8cd929101dfe19c99.png" alt="&gt;" style="vertical-align: -1px"/> 0) is specified.</td>
</tr>
<tr class="row-odd"><td><span class="target" id="index-390"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">pstrainxz</span></code></td>
<td><em>xz</em>-component of plastic strain tensor. Valid only when yielding (<span class="target" id="index-391"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">YLDSTRTS</span></code> <img class="math" src="_images/math/d8cf4fb99479831fef6bc4b8cd929101dfe19c99.png" alt="&gt;" style="vertical-align: -1px"/> 0) is specified.</td>
</tr>
<tr class="row-even"><td><span class="target" id="index-392"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">pstrainyy</span></code></td>
<td><em>yy</em>-component of plastic strain tensor. Valid only when yielding (<span class="target" id="index-393"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">YLDSTRTS</span></code> <img class="math" src="_images/math/d8cf4fb99479831fef6bc4b8cd929101dfe19c99.png" alt="&gt;" style="vertical-align: -1px"/> 0) is specified.</td>
</tr>
<tr class="row-odd"><td><span class="target" id="index-394"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">pstrainyz</span></code></td>
<td><em>yz</em>-component of plastic strain tensor. Valid only when yielding (<span class="target" id="index-395"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">YLDSTRTS</span></code> <img class="math" src="_images/math/d8cf4fb99479831fef6bc4b8cd929101dfe19c99.png" alt="&gt;" style="vertical-align: -1px"/> 0) is specified.</td>
</tr>
<tr class="row-even"><td><span class="target" id="index-396"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">pstrainzz</span></code></td>
<td><em>zz</em>-component of plastic strain tensor. Valid only when yielding (<span class="target" id="index-397"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">YLDSTRTS</span></code> <img class="math" src="_images/math/d8cf4fb99479831fef6bc4b8cd929101dfe19c99.png" alt="&gt;" style="vertical-align: -1px"/> 0) is specified.</td>
</tr>
<tr class="row-odd"><td><span class="target" id="index-398"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">pstrainmag</span></code></td>
<td><em>xx</em>-component of plastic strain tensor. Valid only when yielding (<span class="target" id="index-399"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">YLDSTRTS</span></code> <img class="math" src="_images/math/d8cf4fb99479831fef6bc4b8cd929101dfe19c99.png" alt="&gt;" style="vertical-align: -1px"/> 0) is specified. This is the square root of the second invariant of the plastic strain tensor.</td>
</tr>
<tr class="row-even"><td><span class="target" id="index-400"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">nn:T</span></code></td>
<td>Normal component of traction on the component interface. This is a measure of the force (due to surrounding fluid, neighboring components) on the component. Non-zero only on component interfaces.</td>
</tr>
</tbody>
</table>
<p>It is also possible to import <strong class="program">EXODUS II</strong> meshes into <span class="raw-html"><strong><em>FLOW-3D </em></strong></span>. Using
this feature, <strong class="program">EXODUS II</strong> meshes generated previously using <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> can
be used to specify the FE mesh instead of the default <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> FE mesh format.</p>
<p>In the user interface, the final option of the <span class="guilabel">FE mesh type</span> drop-down menu is
<span class="guilabel">Use EXODUS FE mesh</span>, which allows input of <strong class="program">EXODUS II</strong>
file format meshes.</p>
<span class="target" id="index-401"></span></div>
</div>
<div class="section" id="two-fluid-flow">
<span id="twofluidflowmr"></span><span id="index-402"></span><h2>Two-Fluid Flow<a class="headerlink" href="#two-fluid-flow" title="Permalink to this headline">¶</a></h2>
<p>For two-fluid problems, set <span class="menuselection">Physics ‣ Number of fluids ‣
Two fluids</span>. In such Fluid #1 is described with the unit value of the
<span class="guilabel">Fluid fraction</span>, F = 1.0. Regions where F = 0.0 are filled with fluid
#2. Values of the fluid fraction between zero and one describe a mixture of
the two fluids in terms of the volume fraction of fluid #1.</p>
<blockquote>
<div><img alt="Interface tracking - Number of fluids (2)" src="_images/ModelReference_Fluids2Fluids_v12.JPG" />
</div></blockquote>
<p>Properties of each of the fluids, e.g., density and viscosities, are set in
<span class="menuselection">Fluids</span> widget. There are separate branches for
parameters related to each of the fluids.</p>
<p>Heat transfer coefficients at fluid-component boundaries can be set separately
for each fluid in <span class="menuselection">Model Setup ‣ Geometry ‣ Component ‣
Surface properties</span>. Cross baffle heat exchange can be set in
<span class="menuselection">Model Setup ‣ Baffles ‣ Baffle # ‣ Heat Transfer Properties</span>.</p>
<p>The value of the fluid fraction at open mesh boundaries determines the
two-fluid mixture at these boundaries: the value of 1.0 defines fluid #1 at the
boundary, while the value of 0.0 defines fluid #2. A fractional value
signifies a mixture in terms of the volume fraction of fluid #1; mixtures only
make sense in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> when the <span class="guilabel">No sharp interface</span> option is selected
from <span class="menuselection">Physics ‣ Interface tracking</span>.</p>
<p>In two-fluid models, either sharp interface between the two fluids is expected
or the fluids are miscible. In the latter case the fluids may intermix with each
other due to fluid advection and diffusion. Specify the type of interface in
<span class="menuselection">Physics ‣ Interface tracking</span>.</p>
<p>Only fluid #1 can have liquid/solid phase transformations (see
<a class="reference internal" href="#solidificationsectionmr"><span class="std std-ref">Solidification</span></a>).</p>
<p>Fluid #1 is always incompressible, while fluid #2 can be either compressible or
incompressible as defined by the <span class="menuselection">Physics ‣ Flow mode</span>
selection.</p>
<p>There is only one velocity value in each computational cell. When densities of
the two fluids differ greatly, i.e., roughly by more than a factor of 10, and
the viscous boundary layer at the interface is thin (i.e., less than one
cell width), this mixture velocity may not adequately represent the flow,
since velocities of each of the fluids in the same cell can be very different.
As a consequence, slip conditions between the fluids are not modeled
accurately, which may result in an incorrect fluid interface motion. When
modeling two fluids with fluid #1 heavier than fluid #2 by more than a factor
of 10.0, separated by a sharp interface, and with the viscous boundary layer
at the interface much thinner than the cell size, the <span class="guilabel">Two-fluid
interface slip</span> model may help to obtain more accurate results. This model
improves the momentum coupling at the interface between such fluids. Two-fluid
interface slip model is activated on the
<span class="menuselection">Numerics ‣ Volume-of-fluid advection ‣ Advanced options ‣ Two-fluid interface slip</span> section.</p>
<blockquote>
<div><img alt="Two-fluid interface slip" src="_images/2-fluid-flow-numerics-2-fluid-interface-slip.png" />
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">No void regions can be modeled with two-fluid models since all open space complementary to regions occupied by fluid #1 are filled with fluid #2.</p>
</div>
</div>
<div class="section" id="viscosity-and-turbulence">
<span id="visc-and-turb"></span><span id="index-403"></span><h2>Viscosity and Turbulence<a class="headerlink" href="#viscosity-and-turbulence" title="Permalink to this headline">¶</a></h2>
<span class="target" id="index-404"></span><div class="section" id="wall-effects-slip-shear-and-component-roughness">
<span id="walleffectsmr"></span><span id="index-405"></span><h3>Wall Effects: Slip, Shear, and Component Roughness<a class="headerlink" href="#wall-effects-slip-shear-and-component-roughness" title="Permalink to this headline">¶</a></h3>
<p>When fluid moves around a solid body, the flow encounters resistance
that depends upon the flow velocity, turbulence, and the roughness of the
bounding surface. The effect of these boundary flows results in additional shear
stress, drag, and (in the case of sediment beds) erosion. Modeling these wall
(or boundary) effects requires attention to the slip-condition of the surface,
the surface roughness, and a mesh size that adequately resolves the near-wall
velocity profile. Approaches to modeling each of these parameters are detailed
below.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">Flow Science Technical Note 60 on modeling roughness effects in open channel flows can be found at <a class="reference external" href="http://users.flow3d.com/technical-notes/">http://users.flow3d.com/technical-notes/</a>.</p>
</div>
<div class="section" id="wall-slip">
<span id="wallslipmr"></span><span id="index-406"></span><h4>Wall Slip<a class="headerlink" href="#wall-slip" title="Permalink to this headline">¶</a></h4>
<p>Slip describes the presence of flow velocity directly against a boundary to the
flow. In general, surface conditions are described as <em>no-slip</em>, <em>partial-slip</em>
and <em>free-slip</em>.</p>
<p>Free-slip surfaces are surfaces at which there is no change in the velocity
profile normal to the surface, and are often used to describe the interface
between two fluids (like water and air) that differ by more than an order of
magnitude in density. Partial-slip boundaries describe a partial reduction in
fluid velocity at the boundary, and may be used to describe, for example, oil
flow in pipelines with emulsified coatings inside the pipe. By the far the
most common type of boundary condition are no-slip boundaries, which describe
nearly all fluid/solid interfaces.</p>
<p>Viscous boundary conditions on geometry components and mesh walls include a
slip velocity which is linearly proportional to the wall shear stress (see
<a class="reference internal" href="theory.html#wallshearstressth"><span class="std std-ref">Wall-Shear Stress</span></a> in the <em>Theory</em> &nbsp;manual for details). The coefficient
of proportionality is the friction coefficient, which applies globally to
solid components with unspecified friction coefficients as well as wall-type
domain boundaries. The global coefficient can be specified on the
<span class="menuselection">Model Setup ‣ Physics tab ‣ Viscosity and Turbulence
dialog ‣ Wall Shear Boundary Conditions ‣ Friction Coefficient</span>. The
global friction coefficient applies to all wall-type boundaries, and defines
the default value for all solid components.</p>
<blockquote>
<div><img alt="Viscosity and turbulence" src="_images/wall-slip-viscosity-and-turbulence.png" />
</div></blockquote>
<p>Component-specific friction coefficients that override the global value can be
defined: <span class="menuselection">Model Setup ‣ Geometry ‣ Component
‣ Surface Properties ‣ Static Friction Coefficient</span>.</p>
<blockquote>
<div><img alt="Static Friction Coefficient" src="_images/wall-slip-static-friction-coefficient.png" />
</div></blockquote>
<p>As the friction coefficient approaches infinity, the wall slip velocity
approaches zero (no-slip). To avoid specifying an arbitrarily large value, the
no-slip option is activated by defining a negative value of friction
coefficient. A finite, positive friction coefficient results in a partial-slip
boundary. Zero specifies a free-slip boundary condition. By default, the
<span class="guilabel">Static friction coefficient</span> = -1.0 so all unspecified components
have no-slip surfaces.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">A warning occurs if partial slip is defined for an existing component
with turbulence model turned on.</p>
</div>
<p>No-slip and partial-slip surfaces require dynamic viscosity, defined under
<span class="menuselection">Model Setup ‣ Fluids ‣ Properties ‣ Fluid # ‣
Viscosity</span>.</p>
</div>
<div class="section" id="wall-shear">
<span id="wallshearmr"></span><span id="index-407"></span><h4>Wall Shear<a class="headerlink" href="#wall-shear" title="Permalink to this headline">¶</a></h4>
<p>Wall shear stresses are modeled by assuming a zero tangential velocity on the
portion of any area closed to flow. This zero tangential velocity is modified at
mesh boundaries with tangential velocities and for the surfaces of moving
objects.</p>
<p>Wall shear stresses are calculated when <span class="guilabel">Viscous Flow</span> is activated
in the <span class="menuselection">Model Setup ‣ Physics ‣ Viscosity and Turbulence</span>
window, and a positive fluid <span class="guilabel">Viscosity</span> is specified on the
<span class="menuselection">Model Setup ‣ Fluids</span> widget.</p>
<p>Shear stresses are calculated automatically (but not automatically output) for
no-slip and partial-slip components (i.e., with non-zero friction coefficients)
unless the component <span class="guilabel">Surface Roughness</span> coefficient (<span class="menuselection">Model Setup ‣ Geometry ‣ Component ‣ Surface
Properties</span>) is a negative number. Shear stress can be output by selecting
<span class="guilabel">Shear Stress</span> under <span class="menuselection">Model Setup ‣
Output ‣ Advanced</span>.</p>
<blockquote>
<div><a class="reference internal image-reference" href="_images/ModelSetup_OutputAdvanced_v12.JPG"><img alt="Activate shear stress" src="_images/ModelSetup_OutputAdvanced_v12.JPG" style="width: 492.3px; height: 845.1px;" /></a>
</div></blockquote>
<p>Component specific shear stress can be output by selecting <span class="guilabel">Force</span>
in the <span class="menuselection">Output ‣ Geometry</span> tab for the component of
interest.</p>
<blockquote>
<div><a class="reference internal image-reference" href="_images/ModelSetup_OutputGeometry_v12.JPG"><img alt="Output - Pressure and Shear Force Output" src="_images/ModelSetup_OutputGeometry_v12.JPG" style="width: 490.5px; height: 844.2px;" /></a>
</div></blockquote>
<p>Accurately modeling shear stress, strain rate, and the near-wall velocity
profile requires that the mesh be adequately resolved. The first cell adjacent
to a solid component or wall surface is where the logarithmic or laminar wall
velocity profile is applied. The cells along the surface are either normal to
the surface, if the surface is on a grid line, or they contain the wall
surface.</p>
<p>If the flow is <span class="guilabel">Laminar</span> (as set in the <span class="guilabel">Viscosity and
Turbulence</span> physics subwindow) the velocity profile is calculated via
direct differentiation. The cell average velocity will always be correct, and
the velocity profile is better resolved as the mesh is refined. The optimal cell
size depends only on the required profile accuracy and the tolerated
computational time, both of which increase as the cells get smaller.</p>
<p>If a <span class="guilabel">Turbulence</span> model is active, the first cell near the wall or
solid component always gets its velocity according to a logarithmic profile
corresponding to the log-law region shown below. The first cells along the
wall should be sized so that they include the viscous sub-layer and end well
within the log-law region of the boundary layer. If the first cell outer edge
falls in the viscous sub-layer or extends into the outer, or free-stream,
region, then the calculated near-wall velocity and shear stress deviate from
the physical case, where they do not correspond to the log-law relation.</p>
<blockquote>
<div><img alt="Wall Shear - log-law" src="_images/wall-shear-log-law.png" />
</div></blockquote>
<p>Finding a good range of cell sizes is a matter of estimating the height
(thickness) of the boundary layer regions normal to the solid surface. A
helpful value for this is the non-dimensional normal distance from the wall
<img class="math" src="_images/math/b43eba63bae5d9d5c596a914695553c3a8464e58.png" alt="{y^ + }" style="vertical-align: -4px"/>, sometimes referred to as the <em>viscous length</em> and illustrated
in relation to dimensionless velocity <img class="math" src="_images/math/803178058d9234a33a9afd806628fb35db8507c2.png" alt="{u^ + }" style="vertical-align: 0px"/> above. In the equations
below, <img class="math" src="_images/math/8aa33c3e5cdfa91b5bd5b856bf81f175860d3905.png" alt="u_\tau" style="vertical-align: -3px"/> is the shear velocity, <img class="math" src="_images/math/1cb3449753d400b72bd5614061f6b22f40af05a4.png" alt="\tau_w" style="vertical-align: -3px"/> is the shear
stress on the solid, <img class="math" src="_images/math/39c736105504f69471e131097dde8021cf6a58e0.png" alt="y" style="vertical-align: -4px"/> is the normal distance from the solid,
<img class="math" src="_images/math/1e84882b8c12d690304eff4b6d724a4005da9b6b.png" alt="{{\rho _f}}" style="vertical-align: -6px"/> is the fluid density, and <img class="math" src="_images/math/84ce5b0e36101a2f0251ff278032e94d30944a94.png" alt="{{\mu _f}}" style="vertical-align: -6px"/> is the fluid
dynamic (molecular) viscosity.</p>
<div class="math">
<p><img src="_images/math/2838184cede3b4d04a19390985f3404f4e7bab12.png" alt="{y^ + } = \frac{{{u_\tau }y{\rho _f}}}{{{\mu _f}}}

{u_\tau } = \sqrt {\frac{{{\tau _w}}}{{{\rho _f}}}}

{u^ + } = \frac{{{u_{stream}}}}{{{u_\tau }}}"/></p>
</div><p>In order to estimate <img class="math" src="_images/math/b43eba63bae5d9d5c596a914695553c3a8464e58.png" alt="{y^ + }" style="vertical-align: -4px"/>, the shear stress <img class="math" src="_images/math/1cb3449753d400b72bd5614061f6b22f40af05a4.png" alt="\tau_w" style="vertical-align: -3px"/> must be
estimated manually, and the interested reader is referred to the hydraulics
literature for help with this. In general, <img class="math" src="_images/math/b43eba63bae5d9d5c596a914695553c3a8464e58.png" alt="{y^ + }" style="vertical-align: -4px"/> (as a function of
the cell size) should be greater than 30 (where the inner layer transitions
smoothly into the log-law region) and less than a value that depends on the
Reynolds number of the flow and the thickness of the boundary layer (generally
100 to 500 is a reasonable upper limit). When manual estimation of
<img class="math" src="_images/math/dd97c5383d46296a868a43141cb416d968081ac5.png" alt="{{\tau _w}}" style="vertical-align: -3px"/> is impossible, multiple simulations can be used to iterate
toward a ‘best fit’, where the observed value (shear stress or velocity)
levels off. The approximations used to calculate parameters at solid surfaces
assume that flow is fully developed, and caution should be exercised when
interpreting the results for undeveloped flows.</p>
<p>If the component surface matches the direction of the grid lines then fixed
points should be used at the surface itself and at the appropriate distance from
the surface (so that the first cell distance <img class="math" src="_images/math/39c736105504f69471e131097dde8021cf6a58e0.png" alt="y" style="vertical-align: -4px"/> meets the <img class="math" src="_images/math/b43eba63bae5d9d5c596a914695553c3a8464e58.png" alt="{y^ + }" style="vertical-align: -4px"/>
criteria just explained). If the obstacle surfaces are not parallel to the mesh
grid lines, use nested mesh blocks where appropriate so that the cells nearest
the surfaces are adequately sized. Keep in mind that these guidelines may need
to be ignored for simulations where cubic cells are necessary (as when surface
tension is to be modeled).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Shear stresses are affected by the strain rate, which can be added to the
<span class="guilabel">Restart Data</span> and <span class="guilabel">Selected Data</span> output by selecting
<span class="menuselection">Model Setup ‣ Output ‣ Additional Output ‣ Strain Rate</span>.
This will  output the strain rate magnitude, defined as the square
root of the second invariant of the strain tensor:
<img class="math" src="_images/math/dacb75fa66e051b6794d3e24bc7707fb83a3828d.png" alt="\|{e_{ij}}\| = \sqrt{\frac{1}{2}{e_{ij}}{e_{ij}}}" style="vertical-align: -11px"/>.</p>
</div>
</div>
<div class="section" id="component-and-sub-component-roughness">
<span id="componentroughnessmr"></span><span id="index-408"></span><h4>Component and Sub-Component Roughness<a class="headerlink" href="#component-and-sub-component-roughness" title="Permalink to this headline">¶</a></h4>
<p>Wall shear stresses at object surfaces can be modified by defining surface
roughness. Roughness has the dimensions of length, and is incorporated into
the usual shear stress calculations for <span class="guilabel">laminar</span> flow by adding to the molecular viscosity the
product of <em>fluid_density</em> <img class="math" src="_images/math/b1843c713c800b463022026d2b2f46a1bbee5797.png" alt="\times" style="vertical-align: 0px"/> <em>roughness</em> <img class="math" src="_images/math/b1843c713c800b463022026d2b2f46a1bbee5797.png" alt="\times" style="vertical-align: 0px"/>
<em>relative velocity</em>, where <em>relative velocity</em> means the difference between
the local fluid velocity and the wall velocity (which is zero for stationary
walls and components).</p>
<p>In this implementation the wall shear stress with the <span class="guilabel">laminar</span> flow
model is equal to</p>
<div class="math">
<p><img src="_images/math/59d3051f487ef269c17367511f4c91739497648c.png" alt="\frac{\rho \left( {\nu  + k u} \right) u}{\delta y}"/></p>
</div><p>where:</p>
<ul class="simple">
<li><img class="math" src="_images/math/aa979d26cb76b1e0cea68bfa22eb7c087ac7d65d.png" alt="k" style="vertical-align: 0px"/> is the roughness,</li>
<li><img class="math" src="_images/math/6f0271089ab36d5f12ee5fe3eef8d89debc5529f.png" alt="\nu" style="vertical-align: 0px"/> is the kinematic viscosity,</li>
<li><img class="math" src="_images/math/93f4dc1c4f3d427d88a10855db5dc5f3e2f6b2b8.png" alt="u" style="vertical-align: 0px"/> is the <em>relative velocity</em>, and</li>
<li><img class="math" src="_images/math/e52f04f63fec4166edb346a6cdb2b041a1fcb832.png" alt="\delta y" style="vertical-align: -4px"/> is the length scale of interest normal to the surface.</li>
</ul>
<p>When the roughness is large enough, the stress is proportional to</p>
<div class="math">
<p><img src="_images/math/6e0e50e3ae497a91eb8a86cd3eb1c9885ac6d039.png" alt="\frac{\rho u^2 k}{\delta y} ."/></p>
</div><p>In the <span class="guilabel">Turbulent</span> flow models, the law-of-the-wall relation retains
the same form as for a smooth wall, except the change in viscosity (i.e., from
<img class="math" src="_images/math/6f0271089ab36d5f12ee5fe3eef8d89debc5529f.png" alt="\nu" style="vertical-align: 0px"/> to <img class="math" src="_images/math/a244fb4eec287f1613151a45dd2bce1a76f98967.png" alt="\nu + k u" style="vertical-align: -2px"/>) automatically converts the logarithmic
dependence from a characteristic length scale defined by <img class="math" src="_images/math/7578e19ca3867be876cad5ba7bb02a7d188094dd.png" alt="\nu /u" style="vertical-align: -5px"/> to
<img class="math" src="_images/math/aa979d26cb76b1e0cea68bfa22eb7c087ac7d65d.png" alt="k" style="vertical-align: 0px"/>, when <img class="math" src="_images/math/aa979d26cb76b1e0cea68bfa22eb7c087ac7d65d.png" alt="k" style="vertical-align: 0px"/> is the larger of the two characteristic lengths.</p>
<p>To make sense in a numerical simulation, the roughness should be smaller than
the grid cell size at the component boundary, although larger values can be
used. The rough component should be assigned a no-slip surface (via a negative
<span class="guilabel">static friction coefficient</span>).</p>
<p>In <span class="raw-html"><strong><em>FLOW-3D </em></strong></span>, the roughness parameter <img class="math" src="_images/math/aa979d26cb76b1e0cea68bfa22eb7c087ac7d65d.png" alt="k" style="vertical-align: 0px"/> can be defined in three different ways. It can be set individually for
each component under <span class="menuselection">Model Setup ‣ Geometry ‣ Component ‣ Surface Properties ‣
Roughness Height</span>:</p>
<blockquote>
<div><img alt="Surface Roughness" src="_images/component_specific_surface_roughness.png" />
</div></blockquote>
<p>Roughness can also be set at the sub-component level by defining the surface
roughness values for individual sub-components. If roughness is defined at the
sub-component level, then these values will overide values set at the component level.</p>
<blockquote>
<div><img alt="Sub-Component Surface Roughness" src="_images/sub-component-roughness.png" />
</div></blockquote>
<p>A spatially varying roughness can also be defined with a raster file by creating a <span class="guilabel">Surface Roughness</span> component type.
See <a class="reference internal" href="model-setup.html#surfaceroughnesscomptype"><span class="std std-ref">Surface roughness</span></a> in the model setup section of the help manual for a detailed description.
If a raster file is used then these values will overide inputs set at the component and sub-component level.
For any grid cells in the raster defined as NODATA, the underlying component or sub-component roughness values will be applied.</p>
<p><span class="guilabel">Surface Roughness</span> is defined as the average height of
uniformly-distributed surface roughness elements, such as the roughness referenced in
Moody diagrams. If the actual surface is uniformly rough, this height can be
applied directly, but if the surface is non-uniform then an <em>equivalent</em>
roughness value must be selected that will provide accurate results. For
example, the common Manning’s equation relating mean velocity, hydraulic
radius, and hydraulic slope uses an equivalent roughness parameter (Manning’s
<em>n</em>) that can be converted to <span class="raw-html"><strong><em>FLOW-3D </em></strong></span>’s <span class="guilabel">Surface Roughness</span> when the
hydraulic radius associated with the Manning’s coefficient is known. Manning’s
equation is given as:</p>
<div class="math">
<p><img src="_images/math/4dd92b1de54e6e0ec0cf9581b57f09da3795571f.png" alt="V = \frac{{1.49}}{n}R_h^{2/3}{S^{1/2}}"/></p>
</div><p>where:</p>
<ul class="simple">
<li><img class="math" src="_images/math/f5a322f82f9e644cb83622202e5be0da6a7cbb00.png" alt="V" style="vertical-align: 0px"/> is the mean flow velocity in a channel or conduit,</li>
<li><img class="math" src="_images/math/b4fab59f4acd783673b1bd760a2095fe535b891d.png" alt="R_h" style="vertical-align: -3px"/> is the hydraulic radius (fluid cross-sectional area divided by the wetted perimeter),</li>
<li><img class="math" src="_images/math/533a9e4eaaa9576d59d7fb90e61c01a2899f612c.png" alt="S" style="vertical-align: 0px"/> is the hydraulic slope of the flow, typically (and often incorrectly) assumed to be the physical slope of the conduit or channel, 1.49 is a conversion factor so that all other units are in the meters/kilograms/seconds (SI) system, and</li>
<li><img class="math" src="_images/math/dc50b6bc4de97b0c974cd4ba9d5243ef3192864a.png" alt="n" style="vertical-align: 0px"/> is the Manning’s roughness.</li>
</ul>
<p>For non-uniform surfaces, the equivalent uniform roughness can be computed
from Manning’s <em>n</em> and an estimated hydraulic radius or diameter as shown in
the equation below in which the <span class="guilabel">Surface Roughness</span> is the roughness
variable used in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span>, all variables are in SI units (meters), and the flow
is fully turbulent and hydraulically rough. The hydraulic diameter <img class="math" src="_images/math/ceee8f6f8d4dcf27c9fd8adae749279f49b34ea7.png" alt="D_h" style="vertical-align: -3px"/>
is defined as four times <img class="math" src="_images/math/b4fab59f4acd783673b1bd760a2095fe535b891d.png" alt="R_h" style="vertical-align: -3px"/> (<img class="math" src="_images/math/ceee8f6f8d4dcf27c9fd8adae749279f49b34ea7.png" alt="D_h" style="vertical-align: -3px"/> = 4 <img class="math" src="_images/math/b4fab59f4acd783673b1bd760a2095fe535b891d.png" alt="R_h" style="vertical-align: -3px"/>).</p>
<div class="math">
<p><img src="_images/math/a13b86b7ede32a5f5cf5c230c6e8deba11be114b.png" alt="k \cong 3.72067 D_h \: \text{exp} {\left( \frac{ -0.103252 D_h^{1/6}}{n_{manning}} \right)}"/></p>
</div><p>The conversion given above is derived from the Swamee-Jain equation for pipes
and equivalent ducts:</p>
<div class="math">
<p><img src="_images/math/2f02a8ffdc1144eff5e88a7559bf0a3ea437c4e6.png" alt="k \cong 3.7 D_h \left( 0.1^{ \frac{\alpha_{manning} R_{H,EFF}^{1/6}
\sqrt{S_b}}{n_{manning} \sqrt{32 g S_f}} } - \frac{5.74}{Re_{D,EFF}^{0.9}} \right)"/></p>
</div><p>where the following assumptions are applied:</p>
<ul class="simple">
<li><img class="math" src="_images/math/7f486aa68efe1a591642cf9917b7dcda877be264.png" alt="\alpha_{manning}" style="vertical-align: -6px"/> is 1.486 when <img class="math" src="_images/math/4dea5332699cbb757cd6adeacd954863bff66243.png" alt="R_H" style="vertical-align: -3px"/> is in feet while 1.0 if in meter;</li>
<li><img class="math" src="_images/math/a9096af2e2ab91b8ff43b855b0cd7a7613fb7b85.png" alt="\frac{S_f}{S_b}" style="vertical-align: -8px"/> is 1.0 when the assumption of Manning’s equations are met;</li>
<li><img class="math" src="_images/math/666f184d8655be71886c61d74e98750392766373.png" alt="Re_D" style="vertical-align: -3px"/> is much larger than 5.74;</li>
</ul>
<p>This is technically valid only for the hydraulic diameter which corresponds to the
flow stage at which the Manning’s <em>n</em> was originally measured. The conversion is
checked as follows: a typical literature value of <em>n</em> for mortar concrete is 0.013.
Assume that <em>n</em> was measured in a channel with hydraulic radius 1.25 feet (hydraulic
diameter of 5 ft), in which case the <span class="guilabel">Surface Roughness</span> is 0.0033 feet,
or about 1 mm, which is also a typical literature value for mortar cement. The
calculated value of the <span class="guilabel">Surface Roughness</span> is approximately
for hydraulic diameters between 1 and 10 feet. The limitations in the range of
hydraulic diameters should always be checked.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><span class="guilabel">Surface Roughness</span> &gt; <em>0</em> also turns off superheating of liquid near
the surface of the component in the phase change model (see
<a class="reference internal" href="#cavitationbubbleformationmr"><span class="std std-ref">Cavitation and Bubble Formation (Nucleation)</span></a>).</p>
</div>
<p>The value of the <span class="guilabel">Surface Roughness</span> does not affect component/fluid
heat transfer. If the component-to-fluid heat flux is to be enhanced due to
surface roughness, use the <span class="guilabel">Surface Area Multiplier</span> variable which
works as a heat transfer surface area multiplier for the component. By
default, <span class="guilabel">Surface Area Multiplier</span> = 1.0. <span class="guilabel">Surface Area
Multiplier</span> = 0 disables the heat exchange between fluid and component, as
well as the component <span class="guilabel">Mass source</span> (if used).</p>
</div>
</div>
<div class="section" id="temperature-and-strain-rate-dependent-viscosity">
<span id="nonnewtonianfluidmr"></span><span id="index-409"></span><h3>Temperature and Strain Rate Dependent Viscosity<a class="headerlink" href="#temperature-and-strain-rate-dependent-viscosity" title="Permalink to this headline">¶</a></h3>
<p>Non-Newtonian fluids are any fluid whose viscosity is not constant under
varying flow conditions. Some fluids are shear-thickening and thicken under
shear, while others are shear-thinning, which become less viscous under high
shear. Also, for simulations with varying temperature, viscosity is typically
temperature-dependent. Furthermore, the viscosity of some fluids is
history-dependent; such fluids are <em>thixotropic</em> and require the
<a class="reference internal" href="#thixotropicfluidsmr"><span class="std std-ref">Thixotropic Fluids</span></a> model.</p>
<p>In <span class="raw-html"><strong><em>FLOW-3D </em></strong></span>, only Fluid 1 can be non-Newtonian. In two-fluid simulations, To set
up a non-Newtonian fluid, merely activate <span class="guilabel">Viscous flow</span> in
<span class="menuselection">Physics ‣ Viscosity and turbulence</span>. Turbulence is typically
not important in non-Newtonian flows; however, turbulence options can also be
selected.  It should be kept in mind that the <a class="reference internal" href="theory.html#turbulencemodelsth"><span class="std std-ref">Turbulence Models</span></a> rely
on empiricism that does not take into account non-Newtonian fluid behavior.
Therefore, the turbulence models are usually not valid for non-Newtonian
fluids and should be used with caution for non-Newtonian fluids.</p>
<p>In <span class="menuselection">Fluids ‣ Fluid 1 ‣ Viscosity</span>, you can
select from a drop-down menu the choice of viscosity models. The default is
<span class="guilabel">Constant</span>. Non-Newtonian models include <span class="guilabel">Temperature
Dependent Table</span>, <span class="guilabel">Strain Rate Dependent Table</span>, <span class="guilabel">Strain
Rate Dependent Function</span>, <span class="guilabel">Strain Rate and Temperature Dependent
Function</span>, <span class="guilabel">Carreau Function</span>, and <span class="guilabel">Power Law</span>:</p>
<p>When <span class="guilabel">Temperature Dependent Table</span> or <span class="guilabel">Strain Rate
Dependent Table</span> are selected, click on the adjacent <span class="guilabel">Tabular</span>
button which allows entry of tabular data for viscosity as a function of
temperature or strain rate:</p>
<blockquote>
<div><img alt="non-newtonian-strain-rate-dependent-table" src="_images/non-newtonian-strain-rate-dependent-table.png" />
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The user-defined tabular data is converted by the preprocessor into internal data structures
that are optimized for use by the solver. The conversion involves remapping of the input table
onto new table with equal spacing. The first and last points in the internal table for the
temperature- or strain-rate-dependent viscosity are taken from the respective input tables,
while the number of points in between is fixed at 10000. Linear interpolation is used during
the conversion.</p>
<p class="last">This approach is typically adequate for smoothly varying data. However, in cases where viscosity
varies significantly over a range of temperature or strain rate that is comparable to the
spacing of the internal table, the conversion may introduce significant errors. A way around
it is to reduce the temperature or strain rate range in the input table as much as possible,
thus decreasing the spacing in the internal table to improve the resolution.</p>
</div>
<p>When <span class="guilabel">Strain Rate and Temperature Dependent Function</span> or
<span class="guilabel">Strain Rate Dependent Function</span> is selected, the fluid viscosity is
defined as a function of strain rate and/or temperature with the user-defined
coefficients <img class="math" src="_images/math/f08eed83dc2b149672dca960ea3b250819f14783.png" alt="\lambda_{00}" style="vertical-align: -3px"/>, <img class="math" src="_images/math/a6e5b74588fb0bc81929bfa26dd1a69073c1e752.png" alt="\lambda_0" style="vertical-align: -3px"/>, <img class="math" src="_images/math/3865020700662d4b2494edb9b4d3cc0bd57d438a.png" alt="\lambda_{1}" style="vertical-align: -3px"/>,
<img class="math" src="_images/math/84dff1f44d49ca6fafc5f3f5c4d2a97dea5ebc2d.png" alt="\lambda_2" style="vertical-align: -3px"/>, <img class="math" src="_images/math/dc50b6bc4de97b0c974cd4ba9d5243ef3192864a.png" alt="n" style="vertical-align: 0px"/> and <img class="math" src="_images/math/bb2d4c5f2656ad2b44c8637f1b810ae147b188f6.png" alt="\mu_{\infty}" style="vertical-align: -4px"/>. Temperature-dependency
is defined with constants <img class="math" src="_images/math/2a3e6468d8e8436144abc2ac7a0eba94cfcf8833.png" alt="a" style="vertical-align: 0px"/>, <img class="math" src="_images/math/9a35981bab3fb1e23a2f374e4a027a565471a18d.png" alt="b" style="vertical-align: 0px"/> and <img class="math" src="_images/math/0eb5e361bb43732fc188aa3fcfa15e874464e4ed.png" alt="c" style="vertical-align: 0px"/>:</p>
<blockquote>
<div><img alt="non-newtonian-function-coefficients" src="_images/ModelReference_ViscosityfStrain_v12.JPG" />
</div></blockquote>
<p>These coefficients define viscosity with the following constitutive relation:</p>
<div class="math">
<p><img src="_images/math/10623a98a9d2fb515856834937236baa5eb97638.png" alt="\mu = \mu_{\infty} + \frac{ \mu_0 E - \mu_{\infty} }{ \lambda_{00} + \left[ \lambda_0 + \frac{1}{2} \left( \lambda_{1} E \right)^2 e_{ij} e_{ij} \right]^{\frac{1-n}{2}} } + \frac{ \lambda_2 }{ \sqrt{ \frac{1}{2} e_{ij} e_{ij} } }"/></p>
</div><p>where</p>
<div class="math">
<p><img src="_images/math/a3c81032fa7e48d430d9d0ae37d52c8cb440bd60.png" alt="E = \text{exp} \left[a \left( \frac{ T^{*} }{T-b} -c \right) \right]"/></p>
</div><p>and <img class="math" src="_images/math/44b8d0a4ec847a275c0f1e8547d6901fece6556d.png" alt="\mu_0" style="vertical-align: -4px"/> is the zero-shear viscosity, defined as the regular constant
viscosity value (next to <span class="guilabel">Viscosity</span> in the GUI) and <img class="math" src="_images/math/f7eeadf270916b82aa25544ad4a0fa73c2d01283.png" alt="T^{*}" style="vertical-align: 0px"/>
is defined as <span class="menuselection">Fluids ‣ Properties ‣ Reference
Temperature</span>. Selecting the proper coefficients allows the user to employ a
variety of approximations for non-Newtonian fluid behavior.</p>
<p>When the <span class="guilabel">Carreau Function</span> option is selected, a simplified function relating viscosity to strain rate is used:</p>
<blockquote>
<div><img alt="non-newtonian-carreau" src="_images/ModelReference_ViscosityCarreau_v12.JPG" />
</div></blockquote>
<p>Here only parameters related to the Carreau model need to be defined; they are
shown as active in the GUI. This simplifies the viscosity definition for
Carreau-type fluids.</p>
<p>When the <span class="guilabel">Power Law</span> model is selected, another simplified function
relating viscosity to strain rate is used:</p>
<blockquote>
<div><img alt="non-newtonian-power-law" src="_images/ModelReference_ViscosityPowerLaw_v12.JPG" />
</div></blockquote>
<p>Here only parameters related to the power-law model need to be defined; they
are shown as active in the GUI. This simplifies the viscosity definition for
power-law-type fluids.</p>
<p>When any non-Newtonian model is used, the preprocessor will make two
additional plots in the <code class="file docutils literal notranslate"><span class="pre">prpplt</span></code> file. One is for dynamic viscosity vs.
strain rate at a given temperature and the other one for viscosity vs.
temperature at a given strain rate. Since it is difficult for the preprocessor
to select the plot ranges and values of the strain rate and temperature at
which to make these plots, users can define these settings using four
so-called dummy variables as described in the <a class="reference internal" href="input-variable-summary-units.html#userdefinedvariables"><span class="std std-ref">User Defined Variables</span></a>
section of the <a class="reference internal" href="input-variable-summary-units.html"><span class="doc">Input Variable Summary</span></a> chapter:</p>
<ul class="simple">
<li><span class="target" id="index-410"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">DUM1</span></code> defines the temperature for which viscosity vs. strain rate will
be plotted, and is also the center temperature value for the viscosity vs.
temperature plot;</li>
<li><span class="target" id="index-411"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">DUM2</span></code> defines the plot range, from <span class="target" id="index-412"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">DUM1</span></code>-0.5*<span class="target" id="index-413"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">DUM2</span></code>
to <span class="target" id="index-414"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">DUM1</span></code> + 0.5*<span class="target" id="index-415"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">DUM2</span></code>, for the viscosity vs. temperature plot;</li>
<li><span class="target" id="index-416"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">DUM3</span></code> defines the strain rate for which viscosity vs. temperature will
be plotted, and is also the center strain rate value for the viscosity vs. strain
rate plot;</li>
<li><span class="target" id="index-417"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">DUM4</span></code> defines the plot range, from <span class="target" id="index-418"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">DUM3</span></code>-0.5*<span class="target" id="index-419"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">DUM4</span></code>
to <span class="target" id="index-420"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">DUM3</span></code> + 0.5*<span class="target" id="index-421"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">DUM4</span></code>, for viscosity vs. strain rate plot.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>For strain-rate-dependent viscosity, the primary variable is the strain rate magnitude,
defined as <img class="math" src="_images/math/dacb75fa66e051b6794d3e24bc7707fb83a3828d.png" alt="\|{e_{ij}}\| = \sqrt{\frac{1}{2}{e_{ij}}{e_{ij}}}" style="vertical-align: -11px"/>.
The same variable is output during simulation as the <span class="guilabel">Strain rate magnitude</span></li>
<li>Non-Newtonian fluid flows often occur at low Reynolds numbers. As a result,
the time-step size may be controlled by viscous shear stress if the
<span class="guilabel">Explicit viscous stress solver</span> is used. To avoid this
limitation, which may significantly slow down the simulation, an
<span class="guilabel">Implicit</span> viscous stress solver can be used instead by setting
<span class="menuselection">Numerics ‣ Viscous stress solver options ‣ Successive
under-relaxation</span> or <span class="menuselection">Line implicit</span>. However, convergence
may be slow if large viscosity gradients are present in the flow.</li>
<li>There is some additional logic in the viscosity calculation that will limit
the maximum viscosity to approximately <img class="math" src="_images/math/a0e8b3dfde4013ad3bd3bc61f9752de3ef6eb9c1.png" alt="1E+15" style="vertical-align: -2px"/> to prevent numerical issues.</li>
</ul>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p></p>
<ul class="last simple">
<li>Discussion of mesh boundary conditions in <a class="reference internal" href="theory.html#outflowboundaryconditionsth"><span class="std std-ref">Outflow Boundary Conditions</span></a>.</li>
<li><a class="reference internal" href="#thixotropicfluidsmr"><span class="std std-ref">Thixotropic Fluids</span></a></li>
<li><a class="reference internal" href="#wallslipmr"><span class="std std-ref">Wall Slip</span></a>.</li>
</ul>
</div>
<span class="target" id="index-422"></span></div>
<div class="section" id="thixotropic-fluids">
<span id="thixotropicfluidsmr"></span><span id="index-423"></span><h3>Thixotropic Fluids<a class="headerlink" href="#thixotropic-fluids" title="Permalink to this headline">¶</a></h3>
<p>Apparent viscosity in a thixotropic fluid is a direct function of time. The
time-dependency is described in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> in terms of thinning and thickening
rates which control the speed at which the apparent fluid viscosity approaches
the local steady-state value. The steady-state viscosity is typically a
function of shear rate and possibly temperature. When the steady-state
viscosity is greater than the apparent viscosity, the latter will increase at
this point in the flow at the thickening rate. Conversely, the apparent
viscosity will decrease at the thinning rate when it is greater than the local
steady-state viscosity. Thixotropic fluids are always non-Newtonian, and also
must be defined as such in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> (see <a class="reference internal" href="#nonnewtonianfluidmr"><span class="std std-ref">Temperature and Strain Rate Dependent Viscosity</span></a>).</p>
<p>The thixotropic viscosity model is activated by selecting
<span class="menuselection">Fluids ‣ Fluid 1 ‣ Viscosity ‣ Thixotropic viscosity</span>:</p>
<p>There are two constants for the rate of relaxation by thinning,
<span class="menuselection">Fluids ‣ Properties ‣ Viscosity ‣ Thixotropic ‣
Constant Thinning Rate</span>, and thickening, <span class="menuselection">Constant Thickening Rate</span>.</p>
<blockquote>
<div><img alt="thixotropic-fluid-properties" src="_images/ModelReference_ViscosityThixotropic_v12.JPG" />
</div></blockquote>
<p>The rate of thinning, <img class="math" src="_images/math/db68c1b58b0e0840702a7a6539a5253887a9cd69.png" alt="\alpha" style="vertical-align: 0px"/>, can also be strain rate dependent if the
<span class="guilabel">Strain Rate Sensitivity</span> coefficient is defined:</p>
<div class="math">
<p><img src="_images/math/a25a436c8a0cd801f84a7ce668a956354bd9e8bb.png" alt="\alpha = \mu_{0} + \mu_{1} \sqrt{ \frac{1}{2} e_{ij} e_{ij} }"/></p>
</div><p>where:</p>
<ul class="simple">
<li><img class="math" src="_images/math/c10e95d8437cf36cd138e486072446a0084805cb.png" alt="e_{ij} = \frac{1}{2} \left( \frac{\partial u_i}{\partial x_j} + \frac{\partial u_j}{\partial x_i} \right)" style="vertical-align: -12px"/>,</li>
<li><img class="math" src="_images/math/b50b37c29ec9b1ff3af802e3c2ce054700b000b4.png" alt="\mu_{0}" style="vertical-align: -4px"/> is the <span class="guilabel">Constant Thinning Rate</span>,</li>
<li><img class="math" src="_images/math/2a1bdbc5082022b5e9261bd64d5f3cdacac85b17.png" alt="\mu_{1}" style="vertical-align: -4px"/> is the <span class="guilabel">Strain Rate Sensitivity</span>,</li>
</ul>
<p>The <span class="guilabel">Constant Thinning rate</span> and <span class="guilabel">Constant Thickening
rate</span> have the dimension of reciprocal time, while the
<span class="guilabel">Strain Rate Sensitivity</span> is dimensionless. All rate coefficients default to
0.0 – i.e., no thixotropic effects.</p>
<p>You must define a non-Newtonian viscosity model (see
<a class="reference internal" href="#nonnewtonianfluidmr"><span class="std std-ref">Temperature and Strain Rate Dependent Viscosity</span></a>) that approximates the desired material behavior
under steady conditions. Use the parameters in the branch
<span class="menuselection">Fluids ‣ Properties ‣ Viscosity</span> to define the material.
Also specify the <span class="guilabel">Initial and boundary viscosity</span> value.</p>
<p>Because the viscosity in thixotropic simulations can become very large, the
<span class="guilabel">Successive under-relaxation</span> or <span class="guilabel">Line implicit</span> can be
chosen from <span class="menuselection">Numerics ‣ Viscous stress solver options</span>) to
avoid small time-step sizes required by the explicit algorithm for very
viscous flows.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The input and output strain rate is actually the strain rate magnitude,
<img class="math" src="_images/math/dacb75fa66e051b6794d3e24bc7707fb83a3828d.png" alt="\|{e_{ij}}\| = \sqrt{\frac{1}{2}{e_{ij}}{e_{ij}}}" style="vertical-align: -11px"/></p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"> <a class="reference internal" href="#wallslipmr"><span class="std std-ref">Wall Slip</span></a> and <a class="reference internal" href="#nonnewtonianfluidmr"><span class="std std-ref">Temperature and Strain Rate Dependent Viscosity</span></a>.</p>
</div>
<span class="target" id="index-424"></span></div>
<div class="section" id="turbulence">
<span id="turbulencesectionmr"></span><span id="index-425"></span><h3>Turbulence<a class="headerlink" href="#turbulence" title="Permalink to this headline">¶</a></h3>
<p>Six choices for viscosity evaluation (turbulence closure) are available in
<span class="raw-html"><strong><em>FLOW-3D </em></strong></span>. Select the desired evaluation in <span class="menuselection">Physics ‣ Viscosity and turbulence</span>. All
models require the viscosity model to be activated and a positive value of the
dynamic viscosity. Enter viscosity for fluid #1 (and fluid #2, if present) in
<span class="menuselection">Fluids ‣ Fluid 1 (or FLuid 2) ‣ Viscosity</span> after first activating
<span class="guilabel">viscous flow</span>.</p>
<blockquote>
<div><img alt="Viscosity and Turbulence - Activate viscous flow" src="_images/ModelReference_Turbulence_k-w_v12.JPG" />
</div></blockquote>
<p>See <a class="reference internal" href="theory.html#turbulencemodelsth"><span class="std std-ref">Turbulence Models</span></a> section of the <a class="reference internal" href="theory.html"><span class="doc">Theory</span></a> &nbsp;chapter for details on each of these models.</p>
<p>If no initial or boundary conditions for turbulence are specified, then the
initial and boundary values of the turbulent kinetic energy are set by the
program to small values-physically, this represents laminar flow. If the
inflow is truly turbulent, then, as a rule of thumb, the upstream flow
turbulence level is set assuming turbulent velocity fluctuations in the
undisturbed flow equal to 10% of the mean flow velocity. For example, for a
mean upstream velocity of 20 m/s, the magnitude of the turbulent fluctuations
of the velocity, <img class="math" src="_images/math/5e771a200cc461463394edfddb49dc6023ae83ca.png" alt="\mathbf{u'}" style="vertical-align: 0px"/>, is 2 m/s and the boundary value of the
turbulent kinetic energy (per unit mass) is</p>
<div class="math">
<p><img src="_images/math/683411d3a27408915b2c315ec7e94b7dfd24378e.png" alt="E_{turb} = \frac{1}{2} \mathbf{u'} \cdot \mathbf{u'}  = \frac{1}{2} \left( 2 \times 2 \right) = 2 m^2 / s^2"/></p>
</div><p>Program defaults are used to set the coefficients that appear in the turbulence
models. The value of these coefficients may be changed as necessary, although it
is not generally recommended.</p>
<p>The <span class="guilabel">Turbulent mixing length</span> should be set by the user for the
one-equation turbulent energy model since the default value, 0.07 of the smallest
domain dimension (excluding any mesh direction which has only 1 cell), may not
be always suitable as it does not include geometry effects or the actual flow
field scales. This parameter describes the characteristic size of the turbulent
eddies present in the flow and is used to define the maximum allowed value of
the turbulent viscosity coefficient.</p>
<p>The <span class="guilabel">Maximum turbulent mixing length</span> is used by the
<span class="guilabel">Two-equation</span> <img class="math" src="_images/math/8116d534728af5bfda694b22b8809c952fd7ba30.png" alt="k - \varepsilon" style="vertical-align: 0px"/> <span class="guilabel">model</span>, the
<span class="guilabel">Renormalized group (RNG) model</span>, and <span class="guilabel">Two-equation</span>
<img class="math" src="_images/math/13853265c95e6af6471a597df7645aff4c6d1421.png" alt="k - \omega" style="vertical-align: 0px"/> <span class="guilabel">model</span> to set a minimum limit on the
turbulent dissipation <img class="math" src="_images/math/8d43774b9306502f07b6c7deaa6595cc0702fffd.png" alt="\varepsilon" style="vertical-align: 0px"/> so that the computed turbulent
viscosity does not become excessively large. This value is computed
automatically as a function of time and location during simulation if the
option <span class="guilabel">Dynamically computed</span> is selected from the
<span class="menuselection">Fluids ‣ Properties ‣ Viscosity window</span> (see above).
Alternatively, the user can prescribe a value of the <span class="guilabel">Maximum
turbulent mixing length</span> by selecting <span class="guilabel">Constant</span> and providing a
value in the adjacent edit box.</p>
<p>The larger the <span class="guilabel">Maximum turbulent mixing length</span>, the smaller the
turbulent dissipation may become during the simulation. Since turbulent
dissipation appears in the denominator of the equation for the turbulent
viscosity, the latter can become large as well, especially in flow regions with
small rates of shear. Conversely, smaller values of <span class="guilabel">Maximum turbulent
mixing length</span> will result in smaller turbulent viscosity and, therefore, lead
to excessively damped out turbulence.</p>
<p>For example, in a spillway simulation, the length scale used to compute the
<span class="guilabel">Maximum turbulent mixing length</span> could be the depth of the flow over
the spillway; in a high pressure die casting, the length scale could be the
smallest width of the runner; for flows in pipes and ducts, the length scale
could be the hydraulic diameter of the flow channel. Once the length scale is
determined <span class="guilabel">Maximum turbulent mixing length</span> is computed as 0.07, or
7% of the length scale.</p>
<p>At inflow boundaries, the user can specify turbulent kinetic energy and
dissipation directly. If a value is provided for the turbulent kinetic energy,
but not dissipation, then a value for the dissipation will be automatically
computed based on the value of <span class="guilabel">Maximum turbulent mixing length</span>
defined in the edit box, or default value, if one is not provided.</p>
<p>Note that the formulation used for the viscosity evaluation may be changed at
program restarts (see <span class="menuselection">General ‣ Restart ‣ Turbulence</span>). It
is not recommended to use an implicit viscous algorithm with turbulence models
that involve a solution of turbulent transport equations (<img class="math" src="_images/math/8116d534728af5bfda694b22b8809c952fd7ba30.png" alt="k - \varepsilon" style="vertical-align: 0px"/>, <span class="guilabel">RNG</span>,
<img class="math" src="_images/math/94d593c211f2aae11587e1d3186926e636f09261.png" alt="k -\omega" style="vertical-align: 0px"/> or <span class="guilabel">One-equation</span>)
since the viscous diffusion terms in these equation are always approximated explicitly.</p>
<blockquote>
<div><img alt="turbulence-restart-options" src="_images/turbulence-restart-options.png" />
</div></blockquote>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"> Theory manual section <a class="reference internal" href="theory.html#turbulencemodelsth"><span class="std std-ref">Turbulence Models</span></a>.</p>
</div>
<div class="section" id="turbulent-diffusion-coefficients">
<span id="turbulendiffusioncoefficientsmr"></span><span id="index-426"></span><h4>Turbulent Diffusion Coefficients<a class="headerlink" href="#turbulent-diffusion-coefficients" title="Permalink to this headline">¶</a></h4>
<p>The diffusion of scalar density, fluid density, and fluid energy are all treated in analogous ways
by <span class="raw-html"><strong><em>FLOW-3D </em></strong></span>.  For each of these processes, the total diffusion coefficient is proportional to the dynamic viscosity,
as shown in the <a class="reference internal" href="theory.html#generalscalartransportth"><span class="std std-ref">General Scalar Transport</span></a> equations <a class="reference internal" href="theory.html#equation-scalartransport1">(43)</a> and <a class="reference internal" href="theory.html#equation-scalartransport2">(44)</a>.
The turbulent diffusion multiplier (<span class="target" id="index-427"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">RMSC</span></code>) is defined as the reciprocal of either the turbulent Schmidt
or turbulent Prandtl numbers. The turbulent Schmidt number is in terms of a dimensionless number that represents
turbulent mass diffusion processes and is defined as the ratio of momentum diffusivity to mass diffusivity.
The turbulent Prandtl number is analogous to the turbulent Schmidt number, but for energy diffusion processes. It is
defined as the ratio of momentum diffusivity to thermal diffusivity. The value of <span class="target" id="index-428"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">RMSC</span></code> is defined separately
for thermal energy, fluid density and scalar density transport in the diffusion coefficients options
in <span class="menuselection">Physics ‣ Turbulence ‣ Diffusion coefficients</span>. These are entered as the <span class="guilabel">Fluid internal energy</span>,
<span class="guilabel">Fluid density</span> and <span class="guilabel">Scalar species</span>, respectively. Larger values of <span class="target" id="index-429"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">RMSC</span></code> increase the diffusion of
each of these properties with increased levels of turbulence.</p>
<blockquote>
<div><img alt="turbulence-diff-coeff" src="_images/turbulence-diff-coeff.PNG" />
</div></blockquote>
<p><span class="guilabel">Scalar species</span> defines the <span class="target" id="index-430"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">RMSC</span></code> for all scalar transport models. The default value is equal to zero,
but the user can input a value as the inverse turbulent Schmidt number. This value can also be defined differently for individual
scalars within <span class="menuselection">Physics ‣ Scalar</span> options.</p>
<p><span class="guilabel">Fluid density</span> and <span class="guilabel">Fluid internal energy</span> are the inputs for <span class="target" id="index-431"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">RMSC</span></code> in the <span class="menuselection">Variable density</span> and <span class="menuselection">Heat transfer</span> models, respectively. Both of these inputs have default values of 1/0.7 when using the RNG turbulence model <a class="reference internal" href="zbibliography.html#yakhot-smith-1992" id="id30">[YS92]</a>. When entering a user defined value for <span class="guilabel">Fluid density</span> it is entered as the inverse molecular Schmidt number, and for <span class="guilabel">Fluid internal energy</span> as the inverse molecular Prandtl number. These inputs are converted to their respective turbulent diffusion values in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> <a class="reference internal" href="zbibliography.html#yakhot-smith-1992" id="id31">[YS92]</a>.  For all other turbulence models the default values are equal to 0, and user inputs are defined directly as the inverse of the turbulent Schmidt and Prandtl numbers.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li><a class="reference internal" href="theory.html#generalscalartransportth"><span class="std std-ref">General Scalar Transport</span></a></li>
<li><a class="reference internal" href="theory.html#diffusionprocessheatconductionheattransferth"><span class="std std-ref">Diffusion Process, Heat Conduction and Heat Transfer</span></a></li>
<li><a class="reference internal" href="theory.html#thermaldiffusionandsourcesth"><span class="std std-ref">Thermal Diffusion and Sources</span></a></li>
</ul>
</div>
<span class="target" id="index-432"></span></div>
</div>
<div class="section" id="viscous-heating">
<span id="viscosityheatingmr"></span><span id="index-433"></span><h3>Viscous Heating<a class="headerlink" href="#viscous-heating" title="Permalink to this headline">¶</a></h3>
<p>Viscous heating model can be turned on by checking <span class="menuselection">Physics ‣
Viscosity and turbulence ‣ Activate viscous heating</span>. Note that
<span class="guilabel">Viscous flow</span> must be selected under <span class="guilabel">Turbulence options</span>:</p>
<blockquote>
<div><img alt="Viscosity and turbulence - Viscous flow" src="_images/ModelSetup_ViscousHeating_v12.JPG" />
</div></blockquote>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"> <a class="reference internal" href="theory.html#thermaldiffusionandsourcesth"><span class="std std-ref">Thermal Diffusion and Sources</span></a> in the Theory manual for more information on this feature.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>This option requires an option in <span class="menuselection">Physics ‣ Heat transfer</span> to be activated.</li>
<li>Only used if a non-zero dynamic viscosity of a fluid is defined in the <span class="guilabel">Fluids</span> section of input.</li>
</ul>
</div>
<span class="target" id="index-434"></span></div>
<div class="section" id="viscosity-output">
<span id="viscosityoutputmr"></span><span id="index-435"></span><h3>Viscosity Output<a class="headerlink" href="#viscosity-output" title="Permalink to this headline">¶</a></h3>
<p>Fluid viscosity is automatically saved for post-processing whenever it is a
function of other variables such as temperature, strain rate or turbulence.
Conversely, when viscosity is constant, for example, in a laminar flow of a
Newtonian fluid, it is not generally available for post-processing. The user
can override the default behavior by requesting <span class="guilabel">Dynamic Viscosity</span>
in the <span class="guilabel">Advanced</span> tab of the <span class="menuselection">Output</span>
widget. This function is particularly useful when the FORTRAN routine
<code class="file docutils literal notranslate"><span class="pre">mucal.F90</span></code>, where fluid viscosity is computed, has been customized.</p>
<blockquote>
<div><a class="reference internal image-reference" href="_images/ModelReference_DynamicViscosityOutput_v12.JPG"><img alt="Additional output" src="_images/ModelReference_DynamicViscosityOutput_v12.JPG" style="width: 509.4px; height: 844.2px;" /></a>
</div></blockquote>
<span class="target" id="index-436"></span></div>
</div>
<div class="section" id="wind-shear-stress">
<span id="windshearstressmr"></span><span id="index-437"></span><h2>Wind Shear Stress<a class="headerlink" href="#wind-shear-stress" title="Permalink to this headline">¶</a></h2>
<p>When modeling large open bodies of water, it is often desirable to include a
wind shear stress on the free surface. This can be done in <span class="raw-html"><strong><em>FLOW-3D </em></strong></span> for a
horizontal water surface, i.e., the water surface has an outward normal in
+z direction, and the gravity is in -z direction. The flow can be
two-dimensional (in x-z or y-z plane), three-dimensional, or <a class="reference internal" href="#shallowwaterflowsmr"><span class="std std-ref">shallow</span></a> (depth-averaged flow in x-y plane). The wind shear
stress <img class="math" src="_images/math/00b90ff1301260594042fafad9a365fc06df9324.png" alt="{\vec \tau}_s" style="vertical-align: -3px"/> is calculated using the quadratic law</p>
<div class="math">
<p><img src="_images/math/dc606c3686c17eaeb343b6231048330d98f8482b.png" alt="{\vec \tau}_s = {\rho _a}{C'_D}\left| {\vec W_{10}} \right| \, {\vec W_{10}}"/></p>
</div><p>where:</p>
<ul>
<li><p class="first"><img class="math" src="_images/math/9a14613134f340ef9e9654bf265d1667396b5746.png" alt="{\rho _a}" style="vertical-align: -4px"/> is the density of air,</p>
</li>
<li><p class="first"><img class="math" src="_images/math/557ccdb5c01592ff8aa67f724e1890e7b9616491.png" alt="{\vec W_{10}}" style="vertical-align: -3px"/> is the wind velocity at 10m above water surface, and</p>
</li>
<li><p class="first"><img class="math" src="_images/math/651f29fa3b4d564d0e11b26f2fae7569f8054a27.png" alt="{C'_D}" style="vertical-align: -5px"/> is the wind shear coefficient (or drag coefficient) with a typical value of 0.003.</p>
<img alt="Wind" src="_images/wind-shear-stress-wind.png" />
</li>
</ul>
<p>Wind velocity can be constant or time-variant but must be uniform over the
water surface. Wind parameters are defined in <span class="menuselection">Physics ‣
Wind</span>. Under <span class="guilabel">Wind</span> type, choose <span class="guilabel">Constant wind</span> or
<span class="guilabel">Time variable wind</span>. If <span class="guilabel">Constant wind</span> is selected,
enter <span class="guilabel">X-velocity</span> and <span class="guilabel">Y-velocity</span> of wind at 10m above
water surface. If, instead, <span class="guilabel">Time variable wind</span> is selected, use
<span class="guilabel">Browse</span> button to load a user-defined wind data file. The file
should have three columns which from left to right represent time, x velocity
and y velocity of wind at 10m above water surface. The total number of rows in
the file should not exceed 5000. During a simulation, wind velocity at any
time is calculated by linear interpolation. Under <span class="guilabel">Wind
shear parameters</span>, define <span class="guilabel">Wind shear coefficient</span> (<img class="math" src="_images/math/651f29fa3b4d564d0e11b26f2fae7569f8054a27.png" alt="{C'_D}" style="vertical-align: -5px"/>) and <span class="guilabel">Air density</span> (<img class="math" src="_images/math/9a14613134f340ef9e9654bf265d1667396b5746.png" alt="{\rho _a}" style="vertical-align: -4px"/>). The default
value of <img class="math" src="_images/math/651f29fa3b4d564d0e11b26f2fae7569f8054a27.png" alt="{C'_D}" style="vertical-align: -5px"/> is 0.003. Finally, it is important to note that the <span class="guilabel">Wind Shear Stress</span> model works only for 1 Fluid models with a free surface.</p>
<div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
<p><span class="raw-html"><strong><em>FLOW-3D </em></strong></span> and <strong>TruVOF</strong> are registered trademarks in the USA and other countries.</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="outputs.html" class="btn btn-neutral float-right" title="Output variables" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="theory.html" class="btn btn-neutral float-left" title="Theory" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Flow Science, Inc

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'12.0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>